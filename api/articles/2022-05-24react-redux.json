{"title":"react-redux æºç 1","uid":"83401137c3fcd92a859b6d9e289c2c88","slug":"2022-05-24react-redux","date":"2022-05-24T05:58:32.000Z","updated":"2022-09-15T14:26:10.745Z","comments":true,"path":"api/articles/2022-05-24react-redux.json","keywords":null,"cover":null,"content":"<h2 id=\"react-reduxå®˜æ–¹ä»‹ç»\"><a href=\"#react-reduxå®˜æ–¹ä»‹ç»\" class=\"headerlink\" title=\"react-reduxå®˜æ–¹ä»‹ç»\"></a>react-reduxå®˜æ–¹ä»‹ç»</h2><ul>\n<li>å®˜æ–¹UIç»‘å®šå±‚ã€‚ React Redux is the <code>official React UI bindings layer</code> for Redux. </li>\n<li>ä»reduxçš„storeè¯»æ•°æ®ã€‚ It lets your React components <code>read data from a Redux store</code>,</li>\n<li>è§¦å‘è¡Œä¸ºç»™storeæ¥æ›´æ–°çŠ¶æ€ã€‚and <code>dispatch actions to the store to update state</code>.</li>\n</ul>\n<h2 id=\"react-redux-æºç \"><a href=\"#react-redux-æºç \" class=\"headerlink\" title=\"react-redux æºç \"></a>react-redux æºç </h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">.\nâ”œâ”€â”€ alternate-renderers.ts\nâ”œâ”€â”€ components\nâ”‚Â Â  â”œâ”€â”€ Context.ts\nâ”‚Â Â  â”œâ”€â”€ Provider.tsx\nâ”‚Â Â  â””â”€â”€ connect.tsx # å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨è¿™é‡Œ\nâ”œâ”€â”€ connect # ç»™ connect.tsxä½¿ç”¨\nâ”‚Â Â  â”œâ”€â”€ invalidArgFactory.ts\nâ”‚Â Â  â”œâ”€â”€ mapDispatchToProps.ts\nâ”‚Â Â  â”œâ”€â”€ mapStateToProps.ts\nâ”‚Â Â  â”œâ”€â”€ mergeProps.ts\nâ”‚Â Â  â”œâ”€â”€ selectorFactory.ts\nâ”‚Â Â  â”œâ”€â”€ verifySubselectors.ts\nâ”‚Â Â  â””â”€â”€ wrapMapToProps.ts\nâ”œâ”€â”€ exports.ts\nâ”œâ”€â”€ hooks\nâ”‚Â Â  â”œâ”€â”€ useDispatch.ts\nâ”‚Â Â  â”œâ”€â”€ useReduxContext.ts\nâ”‚Â Â  â”œâ”€â”€ useSelector.ts\nâ”‚Â Â  â””â”€â”€ useStore.ts\nâ”œâ”€â”€ index.ts\nâ”œâ”€â”€ next.ts\nâ”œâ”€â”€ types.ts\nâ””â”€â”€ utils\n    â”œâ”€â”€ Subscription.ts\n    â”œâ”€â”€ batch.ts\n    â”œâ”€â”€ bindActionCreators.ts\n    â”œâ”€â”€ isPlainObject.ts\n    â”œâ”€â”€ reactBatchedUpdates.native.ts\n    â”œâ”€â”€ reactBatchedUpdates.ts\n    â”œâ”€â”€ shallowEqual.ts\n    â”œâ”€â”€ useIsomorphicLayoutEffect.native.ts\n    â”œâ”€â”€ useIsomorphicLayoutEffect.ts\n    â”œâ”€â”€ useSyncExternalStore.ts\n    â”œâ”€â”€ verifyPlainObject.ts\n    â””â”€â”€ warning.ts</code></pre>\n<h2 id=\"packge-json\"><a href=\"#packge-json\" class=\"headerlink\" title=\"packge.json\"></a>packge.json</h2><pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&#x2F;&#x2F; packge.json\n&#123;\n  &quot;name&quot;: &quot;react-redux&quot;,\n  &quot;version&quot;: &quot;8.0.2&quot;,\n  &quot;description&quot;: &quot;Official React bindings for Redux&quot;,\n  &quot;keywords&quot;: [\n    &quot;react&quot;,\n    &quot;reactjs&quot;,\n    &quot;redux&quot;\n  ],\n  &quot;license&quot;: &quot;MIT&quot;,\n  &quot;author&quot;: &quot;Dan Abramov &lt;dan.abramov@me.com&gt; (https:&#x2F;&#x2F;github.com&#x2F;gaearon)&quot;,\n  &quot;homepage&quot;: &quot;https:&#x2F;&#x2F;github.com&#x2F;reduxjs&#x2F;react-redux&quot;,\n  &quot;repository&quot;: &quot;github:reduxjs&#x2F;react-redux&quot;,\n  &quot;bugs&quot;: &quot;https:&#x2F;&#x2F;github.com&#x2F;reduxjs&#x2F;react-redux&#x2F;issues&quot;,\n  &#x2F;&#x2F; æ‰¾æ‰¾å…¥å£ï¼Œå…¥å£æœ‰3ç§ï¼š\n  &quot;main&quot;: &quot;.&#x2F;lib&#x2F;index.js&quot;, &#x2F;&#x2F; å¸¸è§„æ“ä½œå…¥å£\n  &quot;types&quot;: &quot;.&#x2F;es&#x2F;index.d.ts&quot;, &#x2F;&#x2F; ç±»å‹å…¥å£\n  &quot;unpkg&quot;: &quot;dist&#x2F;react-redux.js&quot;, &#x2F;&#x2F; cdnå…¥å£\n  &quot;module&quot;: &quot;es&#x2F;index.js&quot;,&#x2F;&#x2F;esmå…¥å£\n  &#x2F;&#x2F; npmå‘å¸ƒä¸Šä¼ çš„æ–‡ä»¶\n  &quot;files&quot;: [\n    &quot;dist&quot;,\n    &quot;lib&quot;,\n    &quot;src&quot;, &#x2F;&#x2F; ä¸€èˆ¬ç”¨äºå¼€å‘é˜¶æ®µä»£ç è°ƒè¯•,soucemap\n    &quot;es&quot;\n  ],\n  &quot;scripts&quot;: &#123;\n    &#x2F;&#x2F; è„šæœ¬ä¸çœ‹äº†...\n  &#125;,\n  &#x2F;&#x2F; é…ç½®äº†ä¾èµ–é¡¹ï¼Œè¿™äº›ä¾èµ–é¡¹ä¸éœ€è¦åœ¨æœ¬åŒ…å®‰è£…ï¼Œåœ¨é¡¹ç›®ä¸­å®‰è£…å³å¯\n  &quot;peerDependencies&quot;: &#123;\n    &quot;@types&#x2F;react&quot;: &quot;^16.8 || ^17.0 || ^18.0&quot;,\n    &quot;@types&#x2F;react-dom&quot;: &quot;^16.8 || ^17.0 || ^18.0&quot;,\n    &quot;react&quot;: &quot;^16.8 || ^17.0 || ^18.0&quot;,\n    &quot;react-dom&quot;: &quot;^16.8 || ^17.0 || ^18.0&quot;,\n    &quot;react-native&quot;: &quot;&gt;&#x3D;0.59&quot;,\n    &quot;redux&quot;: &quot;^4&quot;\n  &#125;,\n  &quot;peerDependenciesMeta&quot;: &#123;\n    &quot;@types&#x2F;react&quot;: &#123;\n      &quot;optional&quot;: true\n    &#125;,\n    &quot;@types&#x2F;react-dom&quot;: &#123;\n      &quot;optional&quot;: true\n    &#125;,\n    &quot;react-dom&quot;: &#123;\n      &quot;optional&quot;: true\n    &#125;,\n    &quot;react-native&quot;: &#123;\n      &quot;optional&quot;: true\n    &#125;,\n    &quot;redux&quot;: &#123;\n      &quot;optional&quot;: true\n    &#125;\n  &#125;,\n  &#x2F;&#x2F; å‘å¸ƒåï¼Œä¸šåŠ¡å¼€å‘è€…ä½¿ç”¨ï¼Œéœ€è¦å®‰è£…ï¼Œ&#x2F;&#x2F;è‡ªåŠ¨å®‰è£…\n  &quot;dependencies&quot;: &#123;\n    &quot;@babel&#x2F;runtime&quot;: &quot;^7.12.1&quot;,\n    &quot;@types&#x2F;hoist-non-react-statics&quot;: &quot;^3.3.1&quot;,\n    &quot;@types&#x2F;use-sync-external-store&quot;: &quot;^0.0.3&quot;,\n    &quot;hoist-non-react-statics&quot;: &quot;^3.3.2&quot;,\n    &quot;react-is&quot;: &quot;^18.0.0&quot;,\n    &quot;use-sync-external-store&quot;: &quot;^1.0.0&quot;\n  &#125;,\n  &#x2F;&#x2F; å¼€å‘é˜¶æ®µéœ€è¦ç”¨åˆ°çš„ï¼Œä¸€èˆ¬æ˜¯examplesä¸­demoä½¿ç”¨\n  &quot;devDependencies&quot;: &#123;\n    &#x2F;&#x2F;...\n  &#125;\n&#125;</code></pre>\n<h2 id=\"exports-ts\"><a href=\"#exports-ts\" class=\"headerlink\" title=\"exports.ts\"></a>exports.ts</h2><pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">export &#123;\n  Provider, &#x2F;&#x2F; import Provider from &#39;.&#x2F;components&#x2F;Provider&#39;\n\n  ReactReduxContext, &#x2F;&#x2F; import &#123; ReactReduxContext &#125; from &#39;.&#x2F;components&#x2F;Context&#39;\n\n  connect, &#x2F;&#x2F; import connect from &#39;.&#x2F;components&#x2F;connect&#39;\n\n  useDispatch, &#x2F;&#x2F; import &#123; useDispatch, createDispatchHook &#125; from &#39;.&#x2F;hooks&#x2F;useDispatch&#39;\n  createDispatchHook, &#x2F;&#x2F; import &#123; useDispatch, createDispatchHook &#125; from &#39;.&#x2F;hooks&#x2F;useDispatch&#39;\n\n  useSelector, &#x2F;&#x2F; import &#123; useSelector, createSelectorHook &#125; from &#39;.&#x2F;hooks&#x2F;useSelector&#39;\n  createSelectorHook, &#x2F;&#x2F; import &#123; useSelector, createSelectorHook &#125; from &#39;.&#x2F;hooks&#x2F;useSelector&#39;\n\n  useStore, &#x2F;&#x2F; import &#123; useStore, createStoreHook &#125; from &#39;.&#x2F;hooks&#x2F;useStore&#39;\n  createStoreHook, &#x2F;&#x2F; import &#123; useStore, createStoreHook &#125; from &#39;.&#x2F;hooks&#x2F;useStore&#39;\n\n  shallowEqual, &#x2F;&#x2F; import shallowEqual from &#39;.&#x2F;utils&#x2F;shallowEqual&#39;\n&#125;\n</code></pre>\n\n<h2 id=\"Provider\"><a href=\"#Provider\" class=\"headerlink\" title=\"Provider\"></a>Provider</h2><p>å…ˆçœ‹ä¸‹ ï¼Œæœ€ç†Ÿæ‚‰çš„api</p>\n<pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">&#x2F;&#x2F; components&#x2F;Provider.tsx\n&#x2F;&#x2F; è¿™ä¸ªç»„ä»¶åšçš„äº‹æƒ…\n&#x2F;&#x2F; 1. åˆå¹¶æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„çŠ¶æ€\n&#x2F;&#x2F; 2. å¯¹äºåŒæ„çš„åº”ç”¨ï¼Œå¤„ç†subscriptionè®¢é˜…\nfunction Provider&lt;A extends Action &#x3D; AnyAction&gt;(&#123;\n  store,\n  context,\n  children,\n  serverState,\n&#125;: ProviderProps&lt;A&gt;) &#123;\n  &#x2F;&#x2F; 1.useMemoï¼Œå¯¹å…¥å‚è¿›è¡Œæ ¼å¼åŒ–ã€Œå¤„ç†äº†storeå’Œ æœåŠ¡ç«¯çš„ serverStateã€\n  const contextValue &#x3D; useMemo(() &#x3D;&gt; &#123;\n    const subscription &#x3D; createSubscription(store)\n    return &#123;\n      store,\n      subscription,\n      getServerState: serverState ? () &#x3D;&gt; serverState : undefined,\n    &#125;\n  &#125;, [store, serverState])\n  &#x2F;&#x2F; 2.ä¹‹å‰çš„stateçŠ¶æ€ä»storeä¸­ç›´æ¥è·å–\n  const previousState &#x3D; useMemo(() &#x3D;&gt; store.getState(), [store])\n  &#x2F;&#x2F; 3.åŒæ„ç›¸å…³ï¼Œè·³è¿‡\n  useIsomorphicLayoutEffect(() &#x3D;&gt; &#123;\n    const &#123; subscription &#125; &#x3D; contextValue\n    subscription.onStateChange &#x3D; subscription.notifyNestedSubs\n    subscription.trySubscribe()\n\n    if (previousState !&#x3D;&#x3D; store.getState()) &#123;\n      subscription.notifyNestedSubs()\n    &#125;\n    return () &#x3D;&gt; &#123;\n      subscription.tryUnsubscribe()\n      subscription.onStateChange &#x3D; undefined\n    &#125;\n  &#125;, [contextValue, previousState])\n  &#x2F;&#x2F; 4.react-reduxä¸Šä¸‹æ–‡\n  const Context &#x3D; context || ReactReduxContext\n\n  &#x2F;&#x2F; @ts-ignore &#39;AnyAction&#39; is assignable to the constraint of type &#39;A&#39;, but &#39;A&#39; could be instantiated with a different subtype\n  return &lt;Context.Provider value&#x3D;&#123;contextValue&#125;&gt;&#123;children&#125;&lt;&#x2F;Context.Provider&gt; &#x2F;&#x2F; è¿™è¡Œä»£ç æ˜¯ä¸æ˜¯éå¸¸ç†Ÿæ‚‰äº†\n&#125;\n\nexport default Provider\n</code></pre>\n<h2 id=\"ReactReduxContext\"><a href=\"#ReactReduxContext\" class=\"headerlink\" title=\"ReactReduxContext\"></a>ReactReduxContext</h2><pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">&#x2F;&#x2F; .&#x2F;components&#x2F;Context.tsx\n&#x2F;&#x2F; è¿™ä¸ªç»„ä»¶åšçš„äº‹æƒ…\n&#x2F;&#x2F; 1.åˆ›å»ºä¸ªcreateContext\n&#x2F;&#x2F; 2.ç»™ä¸ªåå­—displayName\n\n&#x2F;&#x2F; ...ç±»å‹ä»£ç ä¸å…³æ³¨\nexport const ReactReduxContext &#x3D;&#x2F;*#__PURE__*&#x2F; React.createContext&lt;ReactReduxContextValue&gt;(null as any)\n\n&#x2F;&#x2F; ...ç±»å‹ä»£ç ä¸å…³æ³¨\n\nif (process.env.NODE_ENV !&#x3D;&#x3D; &#39;production&#39;) &#123;\n  ReactReduxContext.displayName &#x3D; &#39;ReactRedux&#39;\n&#125;\n\nexport default ReactReduxContext</code></pre>\n<h2 id=\"connect\"><a href=\"#connect\" class=\"headerlink\" title=\"connect\"></a>connect</h2><pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">&#x2F;&#x2F; .&#x2F;components&#x2F;connect.tsx\n&#x2F;&#x2F; è¿™ä¸ªæ–‡ä»¶æ¯”è¾ƒé•¿ï¼Œå…ˆä¸çœ‹\n&#x2F;&#x2F; hoist-non-react-staticsè¿™ä¸ªä¾èµ–å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æ‹·è´éReactçš„é™æ€æ–¹æ³•</code></pre>\n<h2 id=\"useDispatchã€createDispatchHook\"><a href=\"#useDispatchã€createDispatchHook\" class=\"headerlink\" title=\"useDispatchã€createDispatchHook\"></a>useDispatchã€createDispatchHook</h2><p>æŠŠtsç±»å‹åˆ åˆ ï¼Œçœ‹ä¸Šå»æ›´ç®€å•äº†</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">&#x2F;&#x2F; .&#x2F;hooks&#x2F;useDispatch\n&#x2F;&#x2F; ç”¨createDispatchHooké’©å­å·¥å‚åˆ›å»ºäº†ä¸ªé’©å­useDispatch\nexport function createDispatchHook(context) &#123;\n  &#x2F;&#x2F; TODO: createStoreHookä¸‹é¢å†çœ‹ï¼Œå…ˆè·³è¿‡\n  const useStore &#x3D; context &#x3D;&#x3D;&#x3D; ReactReduxContext ? useDefaultStore : createStoreHook(context)\n  return function useDispatch() &#123;\n    const store &#x3D; useStore()\n    &#x2F;&#x2F; @ts-ignore\n    return store.dispatch\n  &#125;\n&#125;\n&#x2F;**\n * A hook to access the redux &#96;dispatch&#96; function.\n *\n * @returns &#123;any|function&#125; redux store&#39;s &#96;dispatch&#96; function\n *\n * @example\n *\n * import React, &#123; useCallback &#125; from &#39;react&#39;\n * import &#123; useDispatch &#125; from &#39;react-redux&#39;\n *\n * export const CounterComponent &#x3D; (&#123; value &#125;) &#x3D;&gt; &#123;\n *   const dispatch &#x3D; useDispatch()\n *   const increaseCounter &#x3D; useCallback(() &#x3D;&gt; dispatch(&#123; type: &#39;increase-counter&#39; &#125;), [])\n *   return (\n *     &lt;div&gt;\n *       &lt;span&gt;&#123;value&#125;&lt;&#x2F;span&gt;\n *       &lt;button onClick&#x3D;&#123;increaseCounter&#125;&gt;Increase counter&lt;&#x2F;button&gt;\n *     &lt;&#x2F;div&gt;\n *   )\n * &#125;\n *&#x2F;\nexport const useDispatch &#x3D; &#x2F;*#__PURE__*&#x2F; createDispatchHook()\n</code></pre>\n<h2 id=\"useSelectorã€createSelectorHook\"><a href=\"#useSelectorã€createSelectorHook\" class=\"headerlink\" title=\"useSelectorã€createSelectorHook\"></a>useSelectorã€createSelectorHook</h2><pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">&#x2F;&#x2F; .&#x2F;hooks&#x2F;useSelector\n&#x2F;&#x2F; ç”¨ createSelectorHook é’©å­å·¥å‚åˆ›å»ºäº†ä¸ªé’©å­ useSelector\n\nlet useSyncExternalStoreWithSelector &#x3D; notInitialized as uSESWS\nexport const initializeUseSelector &#x3D; (fn: uSESWS) &#x3D;&gt; &#123;\n  useSyncExternalStoreWithSelector &#x3D; fn\n&#125;\n\nconst refEquality: EqualityFn&lt;any&gt; &#x3D; (a, b) &#x3D;&gt; a &#x3D;&#x3D;&#x3D; b\n\n&#x2F;&#x2F; ä¸‹é¢çš„ä»£ç ä¿ç•™èŒƒå‹ï¼ŒSelected\nexport function createSelectorHook(\n  context &#x3D; ReactReduxContext\n): &lt;TState &#x3D; unknown, Selected &#x3D; unknown&gt;(\n  selector: (state: TState) &#x3D;&gt; Selected,\n  equalityFn?: EqualityFn&lt;Selected&gt;\n) &#x3D;&gt; Selected &#123;\n  const useReduxContext &#x3D;\n    context &#x3D;&#x3D;&#x3D; ReactReduxContext\n      ? useDefaultReduxContext\n      : () &#x3D;&gt; useContext(context)\n\n  return function useSelector(\n    selector,\n    equalityFn &#x3D; refEquality\n  ) &#123;\n\n    const &#123; store, subscription, getServerState &#125; &#x3D; useReduxContext()!\n\n    const selectedState &#x3D; useSyncExternalStoreWithSelector(\n      subscription.addNestedSub,\n      store.getState,\n      getServerState || store.getState,\n      selector,\n      equalityFn\n    )\n\n    useDebugValue(selectedState) &#x2F;&#x2F; æ ‡è®°\n\n    return selectedState\n  &#125;\n&#125;\n\n&#x2F;**\n * A hook to access the redux store&#39;s state. This hook takes a selector function\n * as an argument. The selector is called with the store state.\n *\n * This hook takes an optional equality comparison function as the second parameter\n * that allows you to customize the way the selected state is compared to determine\n * whether the component needs to be re-rendered.\n *\n * @param &#123;Function&#125; selector the selector function\n * @param &#123;Function&#x3D;&#125; equalityFn the function that will be used to determine equality\n *\n * @returns &#123;any&#125; the selected state\n *\n * @example\n *\n * import React from &#39;react&#39;\n * import &#123; useSelector &#125; from &#39;react-redux&#39;\n *\n * export const CounterComponent &#x3D; () &#x3D;&gt; &#123;\n *   const counter &#x3D; useSelector(state &#x3D;&gt; state.counter)\n *   return &lt;div&gt;&#123;counter&#125;&lt;&#x2F;div&gt;\n * &#125;\n *&#x2F;\nexport const useSelector &#x3D; &#x2F;*#__PURE__*&#x2F; createSelectorHook()</code></pre>\n<h2 id=\"useStoreã€createStoreHook\"><a href=\"#useStoreã€createStoreHook\" class=\"headerlink\" title=\"useStoreã€createStoreHook\"></a>useStoreã€createStoreHook</h2><pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">\n&#x2F;&#x2F; 1.ç”¨é’©å­å·¥å‚åˆ›å»ºäº†ä¸ªé’©å­\n&#x2F;&#x2F; 2.ä»   const &#123; store &#125; &#x3D; useReduxContext()! è·å–store\n\n&#x2F;**\n * Hook factory, which creates a &#96;useStore&#96; hook bound to a given context.\n *\n * @param &#123;React.Context&#125; [context&#x3D;ReactReduxContext] Context passed to your &#96;&lt;Provider&gt;&#96;.\n * @returns &#123;Function&#125; A &#96;useStore&#96; hook bound to the specified context.\n *&#x2F;\nexport function createStoreHook&lt;\n  S &#x3D; unknown,\n  A extends BasicAction &#x3D; AnyAction\n  &#x2F;&#x2F; @ts-ignore\n&gt;(context?: Context&lt;ReactReduxContextValue&lt;S, A&gt;&gt; &#x3D; ReactReduxContext) &#123;\n  const useReduxContext &#x3D;\n    &#x2F;&#x2F; @ts-ignore\n    context &#x3D;&#x3D;&#x3D; ReactReduxContext\n      ? useDefaultReduxContext\n      : () &#x3D;&gt; useContext(context)\n  return function useStore&lt;\n    State &#x3D; S,\n    Action extends BasicAction &#x3D; A\n    &#x2F;&#x2F; @ts-ignore\n  &gt;() &#123;\n    const &#123; store &#125; &#x3D; useReduxContext()!\n    &#x2F;&#x2F; @ts-ignore\n    return store as Store&lt;State, Action&gt;\n  &#125;\n&#125;\n\n&#x2F;**\n * A hook to access the redux store.\n *\n * @returns &#123;any&#125; the redux store\n *\n * @example\n *\n * import React from &#39;react&#39;\n * import &#123; useStore &#125; from &#39;react-redux&#39;\n *\n * export const ExampleComponent &#x3D; () &#x3D;&gt; &#123;\n *   const store &#x3D; useStore()\n *   return &lt;div&gt;&#123;store.getState()&#125;&lt;&#x2F;div&gt;\n * &#125;\n *&#x2F;\nexport const useStore &#x3D; &#x2F;*#__PURE__*&#x2F; createStoreHook()</code></pre>\n\n<h2 id=\"connect-1\"><a href=\"#connect-1\" class=\"headerlink\" title=\"connect\"></a>connect</h2><p> è§ï¼šreact-redux æºç 2</p>\n","text":"react-reduxå®˜æ–¹ä»‹ç» å®˜æ–¹UIç»‘å®šå±‚ã€‚ React Redux is the official React UI bindings layer for Redux. ä»reduxçš„storeè¯»æ•°æ®ã€‚ It lets your React components read ...","link":"","photos":[],"count_time":{"symbolsCount":"13k","symbolsTime":"12 mins."},"categories":[{"name":"react","slug":"react","count":18,"path":"api/categories/react.json"}],"tags":[{"name":"redux","slug":"redux","count":6,"path":"api/tags/redux.json"},{"name":"æºç ","slug":"æºç ","count":14,"path":"api/tags/æºç .json"},{"name":"react-redux","slug":"react-redux","count":2,"path":"api/tags/react-redux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#react-redux%E5%AE%98%E6%96%B9%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">react-reduxå®˜æ–¹ä»‹ç»</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#react-redux-%E6%BA%90%E7%A0%81\"><span class=\"toc-text\">react-redux æºç </span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#packge-json\"><span class=\"toc-text\">packge.json</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#exports-ts\"><span class=\"toc-text\">exports.ts</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Provider\"><span class=\"toc-text\">Provider</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ReactReduxContext\"><span class=\"toc-text\">ReactReduxContext</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#connect\"><span class=\"toc-text\">connect</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#useDispatch%E3%80%81createDispatchHook\"><span class=\"toc-text\">useDispatchã€createDispatchHook</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#useSelector%E3%80%81createSelectorHook\"><span class=\"toc-text\">useSelectorã€createSelectorHook</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#useStore%E3%80%81createStoreHook\"><span class=\"toc-text\">useStoreã€createStoreHook</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#connect-1\"><span class=\"toc-text\">connect</span></a></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"react-redux  æºç 2","uid":"d512c56f4cbf1792b4d8bab0668985ad","slug":"2022-05-24react-redux2","date":"2022-05-24T13:15:31.000Z","updated":"2022-09-15T14:26:10.746Z","comments":true,"path":"api/articles/2022-05-24react-redux2.json","keywords":null,"cover":[],"text":"æºç ç‰ˆæœ¬&quot;version&quot;: &quot;8.0.2&quot;, Provider ä¸»è¦ä½œç”¨é€šè¿‡subscriptionè°ƒç”¨reduxä¸­storeçš„subscriptionäº§ç”Ÿè®¢é˜…ï¼Œè®¢é˜…å†…å®¹æ˜¯onStateChangeçš„å›è°ƒ é€šè¿‡reactçš„Provider...","link":"","photos":[],"count_time":{"symbolsCount":"30k","symbolsTime":"27 mins."},"categories":[{"name":"react","slug":"react","count":18,"path":"api/categories/react.json"}],"tags":[{"name":"redux","slug":"redux","count":6,"path":"api/tags/redux.json"},{"name":"æºç ","slug":"æºç ","count":14,"path":"api/tags/æºç .json"},{"name":"react-redux","slug":"react-redux","count":2,"path":"api/tags/react-redux.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"flex width:0","uid":"eb38c4ce852a081263435b4198b57084","slug":"2022-05-23width0","date":"2022-05-23T09:16:21.000Z","updated":"2022-09-15T14:26:10.744Z","comments":true,"path":"api/articles/2022-05-23width0.json","keywords":null,"cover":"http://t-blog-images.aijs.top/img/flex.webp","text":"flexåµŒå¥—å†…éƒ¨å…ƒç´ å®½åº¦é»˜è®¤100%ï¼Œæ’‘å¼€çˆ¶å…ƒç´ ï¼Œçˆ¶å…ƒç´ çš„æ ¹å…ƒç´ é™åˆ¶æœ€å¤§å®½åº¦ï¼Œå­å…ƒç´ å¹¶ä¸å—flexæ§åˆ¶ é‡åˆ°å¤šæ¬¡äº†ï¼Œè¿™æ¬¡æ˜¯ç»´æŠ¤å…¶ä»–åŒäº‹çš„ä»£ç ï¼Œåˆæ’è§äº†ï¼Œè¯´æ˜è¿™ä¸ªé—®é¢˜å¾ˆå¸¸è§ï¼Œä¸€ä¸ªä¸ç•™ç¥ï¼Œå°±è¸©åˆ°äº† æ ¹å…ƒç´  â€¦â€¦ - çˆ¶å…ƒç´ flex â€¦â€¦ flex - å­å…ƒç´ flex(é»˜è®¤å®½åº¦100%...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"css3","slug":"css3","count":1,"path":"api/categories/css3.json"}],"tags":[{"name":"bug","slug":"bug","count":6,"path":"api/tags/bug.json"},{"name":"css3","slug":"css3","count":1,"path":"api/tags/css3.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
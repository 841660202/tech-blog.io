{"title":"vite react antd","uid":"f16e7439b5860073efd517d55c41d5e5","slug":"2022-09-07vite-react","date":"2022-09-07T08:44:51.000Z","updated":"2022-09-13T12:02:49.180Z","comments":true,"path":"api/articles/2022-09-07vite-react.json","keywords":null,"cover":[],"content":"<h2 id=\"æŠ€æœ¯é€‰å‹\"><a href=\"#æŠ€æœ¯é€‰å‹\" class=\"headerlink\" title=\"æŠ€æœ¯é€‰å‹\"></a>æŠ€æœ¯é€‰å‹</h2><p><strong>æ–¹æ¡ˆ 1: nextjs + sun (antd)</strong></p>\n<p>ä¹‹å‰éƒ¨é—¨ç”¨çš„å…¬å¸ï¼ˆå‰ç«¯åŸºå»ºäºŒæ¬¡å°è£…ï¼‰çš„è¿™å¥—ç»„åˆï¼Œè¢«ç°åœ¨çš„éƒ¨é—¨å«Œå¼ƒ</p>\n<p><strong>æ–¹æ¡ˆ 2: @umijs&#x2F;max</strong></p>\n<p>è¯•ç”¨äº† umijs&#x2F;max MFSU, åœ¨å¼€å‘æ›´æ–°ä½“éªŒä¸Šè¿˜æ˜¯è§‰å¾—æ…¢</p>\n<p><strong>æ–¹æ¡ˆ 3: vite + react + antd + ahooks + axios + antv + canvas(svg) + ts + i18next</strong></p>\n<ul>\n<li>react è¯» hook éƒ¨åˆ†æºç </li>\n<li>ahooks è¯»è¿‡æºç </li>\n<li>axios è¯»è¿‡æºç </li>\n<li>canvas(svg) éƒ¨åˆ†å¯è§†åŒ–å®šåˆ¶è¦æ±‚é«˜ï¼Œantv æ— æ³•å®ç°</li>\n<li>i18next å¯¹å¤–ç³»ç»Ÿéœ€è¦å¤šè¯­è¨€ï¼Œæ²¡æœ‰ä½¿ç”¨å…¬å¸å¤šè¯­è¨€å¹³å°çš„åŸå› ï¼Œé¡¹ç›®ä¸å¤§ï¼Œæ²¡å¿…è¦ï¼Œæ›´ä½•å†µï¼Œå½“å‰éƒ¨é—¨å¸Œæœ›åˆ›æ–°</li>\n</ul>\n<p>æœ€ç»ˆé€‰æ‹©äº†è¿™å¥—æ–¹æ¡ˆ</p>\n<p>æ²¡ç”¨ redux åŸå› ï¼šå…¨å±€ä½¿ç”¨ contextï¼Œå±€éƒ¨ä½¿ç”¨ hooks ç»„åˆçš„æ–¹å¼</p>\n<h3 id=\"ts-å…¨å±€å£°æ˜é…ç½®\"><a href=\"#ts-å…¨å±€å£°æ˜é…ç½®\" class=\"headerlink\" title=\"ts å…¨å±€å£°æ˜é…ç½®\"></a>ts å…¨å±€å£°æ˜é…ç½®</h3><h3 id=\"proxy\"><a href=\"#proxy\" class=\"headerlink\" title=\"proxy\"></a>proxy</h3><h3 id=\"alias\"><a href=\"#alias\" class=\"headerlink\" title=\"alias\"></a>alias</h3><pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&#123;\n  &quot;compilerOptions&quot;: &#123;\n    &quot;target&quot;: &quot;ESNext&quot;,\n    &quot;useDefineForClassFields&quot;: true,\n    &quot;lib&quot;: [&quot;DOM&quot;, &quot;DOM.Iterable&quot;, &quot;ESNext&quot;],\n    &quot;allowJs&quot;: false,\n    &quot;skipLibCheck&quot;: true,\n    &quot;esModuleInterop&quot;: false,\n    &quot;allowSyntheticDefaultImports&quot;: true,\n    &quot;strict&quot;: true,\n    &quot;forceConsistentCasingInFileNames&quot;: true,\n    &quot;module&quot;: &quot;ESNext&quot;,\n    &quot;moduleResolution&quot;: &quot;Node&quot;,\n    &quot;resolveJsonModule&quot;: true,\n    &quot;isolatedModules&quot;: true,\n    &quot;noEmit&quot;: true,\n    &quot;jsx&quot;: &quot;react-jsx&quot;,\n    &quot;paths&quot;: &#123;\n      &quot;@&#x2F;*&quot;: [&quot;.&#x2F;src&#x2F;*&quot;],\n      &quot;@&#x2F;components&#x2F;*&quot;: [&quot;.&#x2F;src&#x2F;components&#x2F;*&quot;]\n    &#125;\n  &#125;,\n  &quot;include&quot;: [&quot;src&quot;],\n  &quot;references&quot;: [&#123; &quot;path&quot;: &quot;.&#x2F;tsconfig.node.json&quot; &#125;]\n&#125;</code></pre>\n\n<p>é…ç½®å®Œæˆä»ç„¶æç¤º</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Cannot find module &#39;@&#x2F;components&#x2F;test&#39; or its corresponding type declarations.</code></pre>\n\n<p>è§£å†³ï¼š vscode é‡æ–°å¯åŠ¨</p>\n<p><a href=\"https://blog.csdn.net/q95548854/article/details/121899607\" target=\"_blank\" >ç»ˆæè§£å†³ TS æˆ–è€… Vetur æŠ¥é”™ï¼ŒCannot find module â€˜@&#x2F;xx&#x2F;xxxâ€˜ï¼Œæ‰¾ä¸åˆ°*.vue ç­‰ç¼–è¯‘é—®é¢˜</a></p>\n<h3 id=\"æ‰“åŒ…ä¼˜åŒ–\"><a href=\"#æ‰“åŒ…ä¼˜åŒ–\" class=\"headerlink\" title=\"æ‰“åŒ…ä¼˜åŒ–\"></a>æ‰“åŒ…ä¼˜åŒ–</h3><img src=\"http://t-blog-images.aijs.top/img/202209071639635.webp\" />\n\n<img src=\"http://t-blog-images.aijs.top/img/202209071640618.webp\" />\n\n<p><strong>è§å®Œæ•´é…ç½®</strong></p>\n<ul>\n<li>ç§»é™¤æ—¥å¿—</li>\n<li>ç§»é™¤ debuger</li>\n<li>é›†æˆ lodash æµ‹è¯•ä¸‹æ‰“åŒ…ä¼˜åŒ–</li>\n<li>antd æŒ‰éœ€åŠ è½½</li>\n<li>antd å®šåˆ¶ä¸»é¢˜</li>\n<li>è¯·æ±‚å·¥å…·å°è£…</li>\n</ul>\n<h3 id=\"æ‰“åŒ…åˆ†æ\"><a href=\"#æ‰“åŒ…åˆ†æ\" class=\"headerlink\" title=\"æ‰“åŒ…åˆ†æ\"></a>æ‰“åŒ…åˆ†æ</h3><pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">open .&#x2F;stats.html -a Google\\ Chrome</code></pre>\n\n<img src=\"http://t-blog-images.aijs.top/img/202209081109070.webp\" />\n\n<p>è€ƒè™‘åˆ°é¡¹ç›®ä¸­ä»…ç”¨åˆ°å›¾è¡¨</p>\n<p>æ‰€ä»¥å°† <code>@ant-design/charts</code> æ›¿æ¢ä¸º <code>@ant-design/plots</code> å­åŒ…è¯•ç”¨</p>\n<p>åŒ…å¤§å°é™ä½äº†ä¸€ä¸¢ä¸¢ï¼Œæ„Ÿè§‰ä¸å¯¹</p>\n<h3 id=\"å¦‚ä½•éƒ¨ç½²\"><a href=\"#å¦‚ä½•éƒ¨ç½²\" class=\"headerlink\" title=\"å¦‚ä½•éƒ¨ç½²\"></a>å¦‚ä½•éƒ¨ç½²</h3><p>è¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œä¹‹å‰æˆ‘çœ‹æœ‰åŒäº‹ï¼Œç”¨ vite å¼€å‘ï¼Œç”¨ webpack æ‰“åŒ…éƒ¨ç½²</p>\n<p>æ‰“åŒ…é—®é¢˜ï¼Œæœ€ç»ˆå˜æˆ<code>vite äº§ç‰©</code> <code>dist</code> éƒ¨ç½²é—®é¢˜ã€‚</p>\n<p>æˆ‘ä¹Ÿå°è¯•äº†å¤šæ¬¡ä½¿ç”¨ next éƒ¨ç½²æ–¹æ¡ˆï¼Œè¿›è¡Œéƒ¨ç½²ï¼Œç”±äºä¸æ™“å¾—è¿ç»´å†…éƒ¨æ˜¯å¦‚ä½•å†™ dockerfile çš„ï¼Œæ‰€ä»¥æ˜¯å„ç§æŠ¥é”™</p>\n<img src=\"http://t-blog-images.aijs.top/img/202209131956944.png\" />\n<img src=\"http://t-blog-images.aijs.top/img/202209131955989.png\" />\n\n<p>Dockerfile</p>\n<pre class=\"line-numbers language-dockerfile\" data-language=\"dockerfile\"><code class=\"language-dockerfile\">FROM nginx:1.15.0\n\nADD .docker&#x2F;nginx.conf &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;default.conf\nADD .docker &#x2F;\n\nCOPY  .&#x2F;dist &#x2F;www&#x2F;\n\nRUN chmod -R 755 &#x2F;www\n\nCMD [ &quot;sh&quot;, &quot;&#x2F;start.sh&quot; ]\n</code></pre>\n\n<p><strong>start.sh</strong></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># æ³¨å…¥ç¯å¢ƒå˜é‡\nsed -i &quot;s&#x2F;\\(&lt;head&gt;\\)&#x2F;\\1&lt;script&gt;window.ENV&#x3D;&#39;$TYA_ENV&#39;;window.REGION&#x3D;&#39;$TYA_REGION&#39;&lt;\\&#x2F;script&gt;&#x2F;&quot; &quot;&#x2F;www&#x2F;index.html&quot;\n\nnginx -g &quot;daemon off;&quot;\n</code></pre>\n\n<p><strong>nginx</strong></p>\n<pre class=\"line-numbers language-conf\" data-language=\"conf\"><code class=\"language-conf\">server &#123;\n    listen       80;\n    server_name  localhost;\n\n    location &#x3D;&#x2F;health &#123;\n        return 200 ok;\n    &#125;\n\n    # è¿™ä¸ªè·¯å¾„æ˜¯ä¸šåŠ¡æ–¹è‡ªå·±è¦åŠ çš„ï¼Œåœ¨ä¸Šä¼ ç»„ä»¶çš„æ—¶å€™ï¼Œä»–ä»¬å¸Œæœ›ç›´æ¥ä½¿ç”¨è„šæœ¬ä¸Šä¼ ç»„ä»¶ï¼Œé€šè¿‡è¿™ä¸ªæ¥å£è·å– tokenæ•°æ®\n    location &#x2F;_&#x2F;token &#123;\n         add_header Content-Type &#39;text&#x2F;html&#39;;\n         add_header Cache-Control &#39;no-store&#39;; &#x2F;&#x2F; ç¼“å­˜\n         return 200 $cookie_SSO_USER_TOKEN;\n    &#125;\n\n    location &#x2F; &#123;\n        add_header Cache-Control &#39;no-store&#39;; &#x2F;&#x2F; ç¼“å­˜\n        if_modified_since off; &#x2F;&#x2F; ç¼“å­˜\n        etag off; &#x2F;&#x2F; ç¼“å­˜\n        expires -1; &#x2F;&#x2F; ç¼“å­˜\n        root &#x2F;www&#x2F;;\n        index          index.html;\n        try_files $uri &#x2F;index.html;\n    &#125;\n\n    gzip on;\n    gzip_min_length 1k;\n    gzip_buffers 4 16k;\n    gzip_comp_level 2;\n    gzip_types text&#x2F;plain application&#x2F;javascript application&#x2F;x-javascript text&#x2F;css application&#x2F;xml text&#x2F;javascript application&#x2F;x-httpd-php image&#x2F;jpeg image&#x2F;gif image&#x2F;png;\n    gzip_vary off;\n    gzip_disable &quot;MSIE [1-6]\\.&quot;;\n    error_page   500 502 503 504  &#x2F;50x.html;\n&#125;</code></pre>\n\n<h2 id=\"å¼€å‘ä¸­â€¦\"><a href=\"#å¼€å‘ä¸­â€¦\" class=\"headerlink\" title=\"å¼€å‘ä¸­â€¦\"></a>å¼€å‘ä¸­â€¦</h2><p>ä»¥ä¸Šå†…å®¹ï¼Œæœ€è¿‘ä¼šè¡¥å…¨ï¼Œåœ¨å†™ä¸šåŠ¡</p>\n<h2 id=\"è®°å½•\"><a href=\"#è®°å½•\" class=\"headerlink\" title=\"è®°å½•\"></a>è®°å½•</h2><img src=\"http://t-blog-images.aijs.top/img/202209091405085.webp\" />\n\n<h2 id=\"æ‰“åŒ…é¢„è§ˆ-404\"><a href=\"#æ‰“åŒ…é¢„è§ˆ-404\" class=\"headerlink\" title=\"æ‰“åŒ…é¢„è§ˆ 404\"></a>æ‰“åŒ…é¢„è§ˆ 404</h2><p>é¢„è§ˆé»˜è®¤å¯åŠ¨ index.html,è‚¯å®šæ²¡æœ‰è¿™ä¸ª react-router-dom çš„è·¯å¾„ ï¼Œä¼šèµ°åˆ° 404</p>\n<p>ä¿®æ”¹ index.html ä»£ç </p>\n<details class=\"custom-details\">\n<summary>index.html</summary>\n<p><pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot; &#x2F;&gt;\n    &lt;meta name&#x3D;&quot;Keywords&quot; content&#x3D;&quot;é¡¹ç›®&quot; &#x2F;&gt;\n    &lt;meta name&#x3D;&quot;Description&quot; content&#x3D;&quot;é¡¹ç›®&quot; &#x2F;&gt;\n    &lt;!-- &lt;link rel&#x3D;&quot;icon&quot; type&#x3D;&quot;image&#x2F;svg+xml&quot; href&#x3D;&quot;&#x2F;vite.svg&quot; &#x2F;&gt; --&gt;\n    &lt;link\n      rel&#x3D;&quot;shortcut icon&quot;\n      href&#x3D;&quot;https:&#x2F;&#x2F;images.com&#x2F;rms-static&#x2F;4d08a150-2f4a-11ed-acd5-2f6ea556a3fd-1662623168485.ico&quot;\n      type&#x3D;&quot;image&#x2F;x-icon&quot;\n    &#x2F;&gt;\n    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot; &#x2F;&gt;\n    &lt;title&gt;ç¢³é¡¹ç›®&lt;&#x2F;title&gt;\n  &lt;&#x2F;head&gt;\n\n  &lt;body&gt;\n    &lt;div id&#x3D;&quot;root&quot;&gt;&lt;&#x2F;div&gt;\n    &lt;script type&#x3D;&quot;module&quot; src&#x3D;&quot;&#x2F;src&#x2F;main.tsx&quot;&gt;&lt;&#x2F;script&gt;\n\n    &lt;!-- fixä»£ç ï¼Œå°†&#x2F;index.html æ”¹ä¸º &#x2F; --&gt;\n    &lt;script&gt;\n      if (window.location.pathname &#x3D;&#x3D;&#x3D; &quot;&#x2F;index.html&quot;) &#123;\n        window.location.pathname &#x3D; &quot;&#x2F;&quot;;\n      &#125;\n    &lt;&#x2F;script&gt;\n  &lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;</code></pre>\n\n</p>\n</details>\n<h2 id=\"é¡¹ç›®ç»“æ„\"><a href=\"#é¡¹ç›®ç»“æ„\" class=\"headerlink\" title=\"é¡¹ç›®ç»“æ„\"></a>é¡¹ç›®ç»“æ„</h2><details class=\"custom-details\">\n<summary>tree -L 2 -I node_modules</summary>\n<p><pre class=\"line-numbers language-none\"><code class=\"language-none\">.\nâ”œâ”€â”€ dist\nâ”‚   â”œâ”€â”€ index.html\nâ”‚   â”œâ”€â”€ static\nâ”‚   â””â”€â”€ vite.svg\nâ”œâ”€â”€ index.html\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ pnpm-lock.yaml\nâ”œâ”€â”€ public\nâ”‚   â””â”€â”€ vite.svg\nâ”œâ”€â”€ src\nâ”‚   â”œâ”€â”€ @types &#x2F;&#x2F; tså…¨å±€ç±»å‹\nâ”‚   â”œâ”€â”€ App.css\nâ”‚   â”œâ”€â”€ App.tsx &#x2F;&#x2F; å…¥å£\nâ”‚   â”œâ”€â”€ assets &#x2F;&#x2F; èµ„æº\nâ”‚   â”œâ”€â”€ components &#x2F;&#x2F; ç»„ä»¶\nâ”‚   â”œâ”€â”€ consts &#x2F;&#x2F; å¸¸é‡\nâ”‚   â”œâ”€â”€ context &#x2F;&#x2F; react context\nâ”‚   â”œâ”€â”€ hooks &#x2F;&#x2F; react hooks\nâ”‚   â”œâ”€â”€ i18n &#x2F;&#x2F; å¤šè¯­è¨€ i18n\nâ”‚   â”œâ”€â”€ index.css\nâ”‚   â”œâ”€â”€ layout &#x2F;&#x2F; å¸ƒå±€\nâ”‚   â”œâ”€â”€ main.tsx\nâ”‚   â”œâ”€â”€ pages &#x2F;&#x2F; é¡µé¢\nâ”‚   â”œâ”€â”€ router &#x2F;&#x2F; è·¯ç”±\nâ”‚   â”œâ”€â”€ services &#x2F;&#x2F; æ¥å£\nâ”‚   â”œâ”€â”€ temp &#x2F;&#x2F; ä¸´æ—¶æµ‹è¯•\nâ”‚   â”œâ”€â”€ utils &#x2F;&#x2F; å·¥å…·å‡½æ•°\nâ”‚   â””â”€â”€ vite-env.d.ts\nâ”œâ”€â”€ stats.html &#x2F;&#x2F; æ‰“åŒ…åˆ†æäº§ç‰©\nâ”œâ”€â”€ tsconfig.json &#x2F;&#x2F; ts é…ç½®\nâ”œâ”€â”€ tsconfig.node.json\nâ””â”€â”€ vite.config.ts &#x2F;&#x2F; vite é…ç½®\n\n17 directories, 15 files</code></pre>\n\n</p>\n</details>\n<details class=\"custom-details\">\n<summary>tree -L 2 src</summary>\n<p><pre class=\"line-numbers language-none\"><code class=\"language-none\">src\nâ”œâ”€â”€ @types\nâ”‚   â”œâ”€â”€ index.d.ts\nâ”‚   â””â”€â”€ react-i18next\nâ”œâ”€â”€ App.css\nâ”œâ”€â”€ App.tsx\nâ”œâ”€â”€ assets\nâ”‚   â”œâ”€â”€ favicon.ico\nâ”‚   â””â”€â”€ react.svg\nâ”œâ”€â”€ components\nâ”‚   â”œâ”€â”€ auth\nâ”‚   â”œâ”€â”€ bar.tsx\nâ”‚   â”œâ”€â”€ condition\nâ”‚   â”œâ”€â”€ error\nâ”‚   â”œâ”€â”€ iconfont\nâ”‚   â”œâ”€â”€ loading\nâ”‚   â”œâ”€â”€ login\nâ”‚   â”œâ”€â”€ pageContainer\nâ”‚   â”œâ”€â”€ test.module.less\nâ”‚   â”œâ”€â”€ test.tsx\nâ”‚   â””â”€â”€ trans\nâ”œâ”€â”€ consts\nâ”œâ”€â”€ context\nâ”‚   â””â”€â”€ global-context.ts\nâ”œâ”€â”€ hooks\nâ”œâ”€â”€ i18n\nâ”‚   â”œâ”€â”€ config.ts\nâ”‚   â”œâ”€â”€ en\nâ”‚   â””â”€â”€ zh\nâ”œâ”€â”€ index.css\nâ”œâ”€â”€ layout\nâ”‚   â”œâ”€â”€ base-layout\nâ”‚   â””â”€â”€ bread\nâ”œâ”€â”€ main.tsx\nâ”œâ”€â”€ pages\nâ”‚   â”œâ”€â”€ home\nâ”‚   â”œâ”€â”€ mod-conf\nâ”‚   â”œâ”€â”€ switchlogin\nâ”‚   â”œâ”€â”€ target-conf\nâ”‚   â””â”€â”€ target-monitor\nâ”œâ”€â”€ router\nâ”‚   â”œâ”€â”€ index.tsx\nâ”‚   â””â”€â”€ routerGuard.tsx\nâ”œâ”€â”€ services\nâ”œâ”€â”€ temp\nâ”‚   â””â”€â”€ App\\ copy.tsx\nâ”œâ”€â”€ utils\nâ”‚   â””â”€â”€ request.ts\nâ””â”€â”€ vite-env.d.ts\n\n31 directories, 17 files</code></pre>\n\n</p>\n</details>\n<h2 id=\"å®Œæ•´é…ç½®\"><a href=\"#å®Œæ•´é…ç½®\" class=\"headerlink\" title=\"å®Œæ•´é…ç½®\"></a>å®Œæ•´é…ç½®</h2><details class=\"custom-details\">\n<summary>package.json</summary>\n<p><pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&#123;\n  &quot;name&quot;: &quot;smart-carbon&quot;,\n  &quot;private&quot;: true,\n  &quot;version&quot;: &quot;0.0.0&quot;,\n  &quot;type&quot;: &quot;module&quot;,\n  &quot;scripts&quot;: &#123;\n    &quot;dev&quot;: &quot;vite&quot;,\n    &quot;build&quot;: &quot;tsc &amp;&amp; vite build&quot;,\n    &quot;preview&quot;: &quot;vite preview&quot; &#x2F;&#x2F; æ³¨æ„é¿å‘ 404\n  &#125;,\n  &quot;dependencies&quot;: &#123;\n    &quot;@ant-design&#x2F;icons&quot;: &quot;^4.7.0&quot;,\n    &quot;@ant-design&#x2F;plots&quot;: &quot;^1.2.2&quot;, &#x2F;&#x2F; @ant-design&#x2F;chartsçš„ä¸€ä¸ªå­åŒ…ï¼Œè¿˜æ˜¯æœ‰ç‚¹å¤§ï¼› ä¹‹åå¯ä»¥å­¦ä¹ ä¸‹svgã€canvasç»˜å›¾ï¼Œè¿™æ ·æ‰“å‡ºçš„å†…å®¹éå¸¸å°\n    &quot;ahooks&quot;: &quot;^3.7.0&quot;,\n    &quot;antd&quot;: &quot;^4.23.0&quot;,\n    &quot;axios&quot;: &quot;^0.27.2&quot;,\n    &quot;classnames&quot;: &quot;^2.3.1&quot;,\n    &quot;i18next&quot;: &quot;^21.9.1&quot;,\n    &quot;lodash&quot;: &quot;^4.17.21&quot;, &#x2F;&#x2F; è¿™ä¸ªä¾èµ–å®Œå…¨æ˜¯ä¸ºäº†æµ‹è¯•vite lodash æ‰“æˆbundle\n    &quot;moment&quot;: &quot;^2.29.4&quot;,\n    &quot;react&quot;: &quot;^18.2.0&quot;,\n    &quot;react-dom&quot;: &quot;^18.2.0&quot;,\n    &quot;react-i18next&quot;: &quot;^11.18.6&quot;,\n    &quot;react-router-dom&quot;: &quot;^6.3.0&quot;,\n    &quot;rollup-plugin-external-globals&quot;: &quot;^0.6.1&quot;,\n    &quot;vite-plugin-imp&quot;: &quot;^2.3.0&quot;\n  &#125;,\n  &quot;devDependencies&quot;: &#123;\n    &quot;@types&#x2F;lodash&quot;: &quot;^4.14.184&quot;,\n    &quot;@types&#x2F;node&quot;: &quot;^18.7.15&quot;,\n    &quot;@types&#x2F;react&quot;: &quot;^18.0.17&quot;,\n    &quot;@types&#x2F;react-dom&quot;: &quot;^18.0.6&quot;,\n    &quot;@vitejs&#x2F;plugin-react&quot;: &quot;^2.1.0&quot;,\n    &quot;less&quot;: &quot;^4.1.3&quot;,\n    &quot;rollup&quot;: &quot;^2.79.0&quot;,\n    &quot;rollup-plugin-terser&quot;: &quot;^7.0.2&quot;,\n    &quot;rollup-plugin-visualizer&quot;: &quot;^5.8.1&quot;,\n    &quot;typescript&quot;: &quot;^4.6.4&quot;,\n    &quot;vite&quot;: &quot;^3.1.0&quot;,\n    &quot;vite-plugin-compression&quot;: &quot;^0.5.1&quot;\n  &#125;\n&#125;</code></pre>\n\n</p>\n</details>\n<details class=\"custom-details\">\n<summary>vite.config.ts</summary>\n<p><pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">&#x2F;&#x2F; vite.config.ts\nimport &#123; defineConfig &#125; from &quot;vite&quot;;\nimport react from &quot;@vitejs&#x2F;plugin-react&quot;;\n&#x2F;&#x2F;@ts-ignore\nimport path from &quot;path&quot;;\nimport vitePluginImp from &quot;vite-plugin-imp&quot;;\nimport externalGlobals from &quot;rollup-plugin-external-globals&quot;;\nimport viteCompression from &quot;vite-plugin-compression&quot;;\nimport &#123; terser &#125; from &quot;rollup-plugin-terser&quot;;\nimport &#123; visualizer &#125; from &quot;rollup-plugin-visualizer&quot;;\nconst __dirname &#x3D; path.resolve();\n&#x2F;&#x2F; ä¸€äº›éœ€è¦å•ç‹¬æ‰“æˆbundleçš„æ–‡ä»¶\nconst chunk1 &#x3D; [&quot;react&quot;, &quot;react-router-dom&quot;, &quot;react-dom&quot;];\nconst chunk2 &#x3D; [&quot;moment&quot;, &quot;@ant-design&#x2F;icons&quot;, &quot;ahooks&quot;];\nconst chunk3 &#x3D; [&quot;lodash&quot;];\nconst chunk4 &#x3D; [&quot;axios&quot;];\nconst antdChunk &#x3D; [&quot;antd&quot;];\nconst plotsChunk &#x3D; [&quot;@ant-design&#x2F;plots&quot;];\n\nconst build &#x3D; &#123;\n  rollupOptions: &#123;\n    output: &#123;\n      &#x2F;&#x2F; æ–‡ä»¶æŒ‡çº¹\n      chunkFileNames: &quot;static&#x2F;js&#x2F;[name].[hash].js&quot;,\n      entryFileNames: &quot;static&#x2F;js&#x2F;[name].[hash].js&quot;,\n      &#x2F;&#x2F; åˆ†ç±»è¾“å‡º\n      assetFileNames: &quot;static&#x2F;[ext]&#x2F;[name].[hash].[ext]&quot;,\n      &#x2F;&#x2F; æ‰‹åŠ¨chunk\n      manualChunks: &#123;\n        vendor: chunk1,\n        vendor2: chunk2,\n        vendor3: chunk3,\n        vendor4: chunk4,\n        plots: plotsChunk,\n        antd: antdChunk,\n      &#125;,\n    &#125;,\n  &#125;,\n  chunkSizeWarningLimit: 1024,\n&#125;;\n\nconst server &#x3D; &#123;\n  port: 3006,\n  open: &quot;&#x2F;index.html&quot;,\n  proxy: &#123;\n    &quot;&#x2F;api&quot;: &#123;\n      target: &quot;http:&#x2F;&#x2F;localhost:3032&quot;,\n      changeOrigin: true,\n      &#x2F;&#x2F; rewrite: (path) &#x3D;&gt; path.replace(&#x2F;^\\&#x2F;api&#x2F;, &#39;&#39;)\n    &#125;,\n  &#125;,\n&#125;;\n\nconst plugins &#x3D; [\n  react(),\n  vitePluginImp(&#123;\n    libList: [\n      &#x2F;&#x2F; antd æŒ‰éœ€å¼•å…¥\n      &#123;\n        libName: &quot;antd&quot;,\n        style: (name) &#x3D;&gt; &#96;antd&#x2F;es&#x2F;$&#123;name&#125;&#x2F;style&#96;,\n      &#125;,\n    ],\n  &#125;),\n  externalGlobals(&#123;\n    &#x2F;&#x2F; &quot;@ant-design&#x2F;charts&quot;: &quot;window.charts&quot;\n  &#125;),\n  &#x2F;&#x2F; viteæ‰“åŒ…ä¼˜åŒ– - å‹ç¼©\n  viteCompression(&#123;\n    verbose: true,\n    disable: false,\n    threshold: 10240,\n    algorithm: &quot;gzip&quot;,\n    ext: &quot;.gz&quot;,\n  &#125;),\n  &#x2F;&#x2F; vite æ‰“åŒ…ä¼˜åŒ– - ç§»é™¤ æ—¥å¿—&#x2F;debugger\n  terser(&#123;\n    compress: &#123;\n      defaults: false,\n      &#x2F;&#x2F; drop_console: true,\n    &#125;,\n    mangle: &#123;\n      eval: true,\n      module: true,\n      toplevel: true,\n      safari10: true,\n      properties: false,\n    &#125;,\n    &#x2F;&#x2F; ä¸è¾“å‡ºæ³¨é‡Š\n    output: &#123;\n      comments: false,\n    &#125;,\n  &#125;),\n  &#x2F;&#x2F; vite æ‰“åŒ…åˆ†æ\n  visualizer(),\n];\n\n&#x2F;&#x2F; https:&#x2F;&#x2F;vitejs.dev&#x2F;config&#x2F;\nexport default defineConfig(&#123;\n  plugins,\n  css: &#123;\n    &#x2F;&#x2F; é…ç½®antdä¸»é¢˜\n    preprocessorOptions: &#123;\n      less: &#123;\n        javascriptEnabled: true,\n        modifyVars: &#123;\n          &#x2F;&#x2F; åœ¨è¿™é‡Œè‡ªå®šä¹‰ä¸»é¢˜è‰²ç­‰æ ·å¼\n          &quot;@primary-color&quot;: &quot;#646cff&quot;, &#x2F;&#x2F;è®¾ç½®antdä¸»é¢˜è‰²\n        &#125;,\n      &#125;,\n    &#125;,\n    &#x2F;&#x2F; æ¨¡å—åŒ–æ ·å¼ï¼Œå¯ç”¨å°é©¼å³°\n    modules: &#123;\n      localsConvention: &quot;camelCase&quot;,\n    &#125;,\n  &#125;,\n  &#x2F;&#x2F; è·¯å¾„åˆ«åï¼Œç®€åŒ–é•¿è·¯å¾„å¼•å…¥ï¼Œçœ‹ç€ä¸èˆ’æœ\n  resolve: &#123;\n    alias: &#123;\n      &quot;~&quot;: path.resolve(__dirname, &quot;.&#x2F;&quot;), &#x2F;&#x2F; æ ¹è·¯å¾„\n      &quot;@&quot;: path.resolve(__dirname, &quot;src&quot;), &#x2F;&#x2F; src è·¯å¾„\n    &#125;,\n  &#125;,\n  server,\n  build,\n&#125;);</code></pre>\n\n</p>\n</details>\n<details class=\"custom-details\">\n<summary>ts å…¨å±€å£°æ˜é…ç½®</summary>\n<p>ä¼˜ç‚¹ï¼šå¿…è¦çš„å…¨å±€å£°æ˜ï¼Œå¯ä»¥æå¤§å‡å°‘ typescipt ç±»å‹çš„å¼•å…¥</p>\n<p>&#x2F;src&#x2F;@types</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">.\nâ”œâ”€â”€ index.d.ts\nâ””â”€â”€ react-i18next\n    â””â”€â”€ index.d.ts\n\n1 directory, 2 files\n</code></pre>\n\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">&#x2F;&#x2F; react-i18next\n&#x2F;&#x2F;     â””â”€â”€ index.d.ts\nimport &quot;react-i18next&quot;;\nimport &#123; resources &#125; from &quot;..&#x2F;..&#x2F;src&#x2F;i18n&#x2F;config&quot;;\n\ndeclare module &quot;react-i18next&quot; &#123;\n  type DefaultResources &#x3D; typeof resources[&quot;en&quot;];\n  interface Resources extends DefaultResources &#123;&#125;\n&#125;</code></pre>\n\n<pre class=\"line-numbers language-ts\" data-language=\"ts\"><code class=\"language-ts\">&#x2F;&#x2F; index.d.ts\ndeclare interface MenuConfig &#123;\n  name: string | React.ReactNode;\n  icon?: React.ReactNode;\n  path?: string;\n  asPath?: string;\n  pattern?: RegExp;\n  isMenu?: boolean;\n  hidden?: boolean;\n  routes?: MenuConfig[];\n  onClick?: () &#x3D;&gt; void;\n  layout?: React.ReactNode;\n  component?: React.ReactNode;\n  icon?: React.ReactNode;\n  isShow?: boolean;\n  pageName?: string;\n  redirect?: string;\n&#125;\n\ndeclare interface IResultData&lt;T&gt; &#123;\n  code: string; &#x2F;&#x2F; å“åº”ç \n  result?: T; &#x2F;&#x2F; æ•°æ®\n  data?: T;\n  success: boolean; &#x2F;&#x2F; æ˜¯å¦æˆåŠŸ(trueï¼šæˆåŠŸï¼Œfalseï¼šå¤±è´¥)\n  msg?: string; &#x2F;&#x2F; é”™è¯¯ä¿¡æ¯(è¯·æ±‚æˆåŠŸæ—¶æ— è¯¥å­—æ®µ)\n  errorMsg?: string;\n  message?: string;\n&#125;</code></pre>\n\n\n</details>\n<h2 id=\"i18n-ally-æ’ä»¶\"><a href=\"#i18n-ally-æ’ä»¶\" class=\"headerlink\" title=\"i18n-ally æ’ä»¶\"></a>i18n-ally æ’ä»¶</h2><p>æ’ä»¶ä¹‹å‰å®‰è£…å¥½çš„ï¼Œå¤§æ¦‚åœ¨å‡ ä¸ªæœˆå‰ï¼Œä½¿ç”¨è¿˜æ˜¯æ­£å¸¸çš„ï¼Œç»å†è¿‡å‡ æ¬¡ vscode å‡çº§ï¼Œå—å±äº†</p>\n<p>è¯•ç€é‡æ–°å®‰è£…äº†å‡ æ¬¡ï¼Œç¡®å®šä¸è¡Œï¼Œæ–­å®šæ˜¯é…ç½®å‡ºçš„é—®é¢˜ï¼Œå¯è§†åŒ–é…ç½®ï¼Œç›´æ¥æœ <code>i18n</code></p>\n<img src=\"http://t-blog-images.aijs.top/img/202209131951465.png\" />\n\n<p>ä»¥ä¸‹ä¸º<code>setting.json</code>ç»Ÿä¸€é…ç½®ï¼ˆä¸åœ¨æ¯ä¸ªé¡¹ç›®ä¸­å»ºç«‹å•¥çš„é…ç½®æ–‡ä»¶ï¼Œéº»çƒ¦ï¼‰ï¼Œ ç›´æ¥åœ¨<code>setting.json</code>ä¸­é…ç½®å¦‚ä¸‹</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot;i18n-ally.extract.autoDetect&quot;: true,\n&quot;i18n-ally.extract.keyMaxLength&quot;: 1,\n&quot;i18n-ally.theme.annotation&quot;: &quot;rgba(153, 153, 153, .8)&quot;,\n&quot;i18n-ally.theme.annotationBorder&quot;: &quot;rgba(153, 153, 153, .8)&quot;,\n&quot;i18n-ally.theme.annotationMissing&quot;: &quot;#d37070&quot;,\n&quot;i18n-ally.theme.annotationMissingBorder&quot;: &quot;#d37070&quot;,\n&quot;i18n-ally.extract.parsers.html&quot;: &#123;\n\n&#125;,\n&quot;i18n-ally.displayLanguage&quot;: &quot;zh&quot;,\n&quot;i18n-ally.enabledFrameworks&quot;: [\n  &quot;react&quot;,\n  &quot;vue&quot;\n],\n&quot;i18n-ally.extract.ignoredByFiles&quot;: &#123;\n\n&#125;\n</code></pre>\n\n<h2 id=\"æºç \"><a href=\"#æºç \" class=\"headerlink\" title=\"æºç \"></a>æºç </h2><p><a href=\"https://github.com/841660202/vite-react-template\" target=\"_blank\" >github ç§æœ‰ä»“åº“</a></p>\n","text":"æŠ€æœ¯é€‰å‹æ–¹æ¡ˆ 1: nextjs + sun (antd) ä¹‹å‰éƒ¨é—¨ç”¨çš„å…¬å¸ï¼ˆå‰ç«¯åŸºå»ºäºŒæ¬¡å°è£…ï¼‰çš„è¿™å¥—ç»„åˆï¼Œè¢«ç°åœ¨çš„éƒ¨é—¨å«Œå¼ƒ æ–¹æ¡ˆ 2: @umijs&#x2F;max è¯•ç”¨äº† umijs&#x2F;max MFSU, åœ¨å¼€å‘æ›´æ–°ä½“éªŒä¸Šè¿˜æ˜¯è§‰å¾—æ…¢ æ–¹æ¡ˆ 3: vite + rea...","link":"","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"13 mins."},"categories":[{"name":"vite","slug":"vite","count":1,"path":"api/categories/vite.json"}],"tags":[{"name":"vite","slug":"vite","count":1,"path":"api/tags/vite.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B\"><span class=\"toc-text\">æŠ€æœ¯é€‰å‹</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#ts-%E5%85%A8%E5%B1%80%E5%A3%B0%E6%98%8E%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">ts å…¨å±€å£°æ˜é…ç½®</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#proxy\"><span class=\"toc-text\">proxy</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#alias\"><span class=\"toc-text\">alias</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%93%E5%8C%85%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">æ‰“åŒ…ä¼˜åŒ–</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%93%E5%8C%85%E5%88%86%E6%9E%90\"><span class=\"toc-text\">æ‰“åŒ…åˆ†æ</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A6%82%E4%BD%95%E9%83%A8%E7%BD%B2\"><span class=\"toc-text\">å¦‚ä½•éƒ¨ç½²</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%8F%91%E4%B8%AD%E2%80%A6\"><span class=\"toc-text\">å¼€å‘ä¸­â€¦</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AE%B0%E5%BD%95\"><span class=\"toc-text\">è®°å½•</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%93%E5%8C%85%E9%A2%84%E8%A7%88-404\"><span class=\"toc-text\">æ‰“åŒ…é¢„è§ˆ 404</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">é¡¹ç›®ç»“æ„</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%8C%E6%95%B4%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">å®Œæ•´é…ç½®</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#i18n-ally-%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">i18n-ally æ’ä»¶</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%BA%90%E7%A0%81\"><span class=\"toc-text\">æºç </span></a></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Object & Proxy & Reflect","uid":"2499c4fff2bdb496a8144270f16e71e0","slug":"2022-09-08obj&proxy","date":"2022-09-08T13:40:12.000Z","updated":"2022-09-08T23:42:10.145Z","comments":true,"path":"api/articles/2022-09-08obj&proxy.json","keywords":null,"cover":null,"text":"Proxy çš„ hanlder 13 æ–¹æ³•applyç”¨äºæ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ è¯­æ³• var p &#x3D; new Proxy(target, &#123; apply: function ( target &#x2F;**ç›®æ ‡å¯¹è±¡ï¼ˆå‡½æ•°ï¼‰ çº¦æŸï¼š target å¿…é¡»æ˜¯å¯è¢«è°ƒç”¨çš„ã€‚ä¹Ÿ...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"å‰ç«¯åŸºç¡€","slug":"å‰ç«¯åŸºç¡€","count":27,"path":"api/categories/å‰ç«¯åŸºç¡€.json"}],"tags":[{"name":"å‰ç«¯åŸºç¡€","slug":"å‰ç«¯åŸºç¡€","count":29,"path":"api/tags/å‰ç«¯åŸºç¡€.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"nest 413","uid":"86597b4f3663d14f1511e64b4a45dce2","slug":"2022-09-06nestjs","date":"2022-09-06T12:44:35.000Z","updated":"2022-09-07T12:19:35.896Z","comments":true,"path":"api/articles/2022-09-06nestjs.json","keywords":null,"cover":[],"text":"æœ‰é—®é¢˜çš„é¡¹ç›®import &#123; NestFactory &#125; from &quot;@nestjs&#x2F;core&quot;; import &#123; NestExpressApplication &#125; from &quot;@nestjs&#x...","link":"","photos":[],"count_time":{"symbolsCount":"10k","symbolsTime":"9 mins."},"categories":[{"name":"nest","slug":"nest","count":1,"path":"api/categories/nest.json"}],"tags":[{"name":"nest","slug":"nest","count":1,"path":"api/tags/nest.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
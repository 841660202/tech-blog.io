{"title":"tree","uid":"c362c8649d871624a90f1e24b5ef0828","slug":"2022-08-23tree","date":"2022-08-23T07:31:09.000Z","updated":"2022-09-16T13:54:56.314Z","comments":true,"path":"api/articles/2022-08-23tree.json","keywords":null,"cover":[],"content":"<h2 id=\"mysql-å­˜å‚¨çš„å‡ ç§æ–¹å¼\"><a href=\"#mysql-å­˜å‚¨çš„å‡ ç§æ–¹å¼\" class=\"headerlink\" title=\"mysql å­˜å‚¨çš„å‡ ç§æ–¹å¼\"></a>mysql å­˜å‚¨çš„å‡ ç§æ–¹å¼</h2><p><a href=\"https://www.zhihu.com/question/20417447\" target=\"_blank\" >è§</a></p>\n<img src=\"http://t-blog-images.aijs.top/img/202208231531157.webp\" />\n\n<p>1,4 ç”¨è¿‡ï¼Œ 2 è§è¿‡ï¼ˆå½“å‰å…¬å¸ DHR ç³»ç»Ÿç»„ç»‡æ¶æ„åœ¨ç”¨ï¼‰</p>\n<h2 id=\"js-è·å–æ ‘æŸä¸ªèŠ‚ç‚¹\"><a href=\"#js-è·å–æ ‘æŸä¸ªèŠ‚ç‚¹\" class=\"headerlink\" title=\"js è·å–æ ‘æŸä¸ªèŠ‚ç‚¹\"></a>js è·å–æ ‘æŸä¸ªèŠ‚ç‚¹</h2><p>åœºæ™¯ï¼šç¼–è¾‘æ ‘èŠ‚ç‚¹ï¼Œåˆ·æ–°æ ‘æ•°æ®ï¼Œè¿›è¡Œç¼–è¾‘èŠ‚ç‚¹å›æ˜¾ï¼ŒæŸäº›æƒ…å†µä¸‹ï¼Œæ ‘èŠ‚ç‚¹è¢«è½¬ç§»ä»–äººï¼Œå½“å‰èŠ‚ç‚¹ä¸éœ€è¦å›æ˜¾</p>\n<h3 id=\"ä»£ç \"><a href=\"#ä»£ç \" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">&#x2F;**\n *\n * @param &#123;è¦æŸ¥è¯¢çš„èŠ‚ç‚¹key&#125; targetValue\n * @param &#123;æ•°ç»„å½¢å¼ï¼Œæ ‘æ•°æ®&#125; data\n * @returns\n *&#x2F;\nconst findTreeNodeByKey &#x3D; (\n  tree: TreeNode[],\n  targetValue: string | number,\n  options &#x3D; &#123;\n    find_field: &quot;id&quot;,\n    children: &quot;children&quot;,\n  &#125;\n) &#x3D;&gt; &#123;\n  let result &#x3D; null;\n  const ffindeNodeByKey &#x3D; (\n    data: TreeNode[],\n    skey: string | number,\n    options\n  ) &#x3D;&gt; &#123;\n    const loop &#x3D; (_data, options) &#x3D;&gt; &#123;\n      _data.forEach((item) &#x3D;&gt; &#123;\n        if (item[find_field] &#x3D;&#x3D;&#x3D; skey) &#123;\n          result &#x3D; item;\n        &#125;\n        if (item[options.children]) &#123;\n          loop(item[options.children], options);\n        &#125;\n      &#125;);\n    &#125;;\n\n    return loop(data, options);\n  &#125;;\n  ffindeNodeByKey(tree, targetValue, options);\n  return result;\n&#125;;</code></pre>\n\n<h3 id=\"æµ‹è¯•æ•°æ®\"><a href=\"#æµ‹è¯•æ•°æ®\" class=\"headerlink\" title=\"æµ‹è¯•æ•°æ®\"></a>æµ‹è¯•æ•°æ®</h3><details class=\"custom-details\">\n<summary>æµ‹è¯•æ•°æ®è¯¦æƒ…</summary>\n<p><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const data &#x3D; [\n  &#123;\n    id: 0,\n    parentId: null,\n    bizName: &quot;æ‰€æœ‰ä¸šåŠ¡&quot;,\n    child: [\n      &#123;\n        id: 1,\n        parentId: 0,\n        bizName: &quot;APPé¡¹ç›®ç»„1&quot;,\n        child: [\n          &#123;\n            id: 2,\n            parentId: 1,\n            bizName: &quot;APPé¡¹ç›®ç»„-1&quot;,\n          &#125;,\n          &#123;\n            id: 27,\n            parentId: 1,\n            bizName: &quot;æµ‹è¯•&quot;,\n          &#125;,\n        ],\n      &#125;,\n      &#123;\n        id: 3,\n        parentId: 0,\n        bizName: &quot;0-APPé¡¹ç›®ç»„&quot;,\n        child: [\n          &#123;\n            id: 29,\n            parentId: 3,\n            bizName: &quot;æµ‹è¯•ä¸šåŠ¡çº¿&quot;,\n          &#125;,\n          &#123;\n            id: 42,\n            parentId: 3,\n            bizName: &quot;æµ‹è¯•acl&quot;,\n          &#125;,\n        ],\n      &#125;,\n      &#123;\n        id: 5,\n        parentId: 0,\n        bizName: &quot;æµ‹è¯•çš„ä¸šåŠ¡çº¿4&quot;,\n        child: [\n          &#123;\n            id: 23,\n            parentId: 5,\n            bizName: &quot;ä¸šåŠ¡çº¿æµ‹è¯•&quot;,\n          &#125;,\n        ],\n      &#125;,\n      &#123;\n        id: 6,\n        parentId: 0,\n        bizName: &quot;æµ‹è¯•çš„ä¸šåŠ¡çº¿5&quot;,\n        child: [\n          &#123;\n            id: 24,\n            parentId: 6,\n            bizName: &quot;æµ‹è¯•æµ‹è¯•ä¸šåŠ¡çº¿æŠ¥é”™&quot;,\n          &#125;,\n        ],\n      &#125;,\n      &#123;\n        id: 8,\n        parentId: 0,\n        bizName: &quot;æµ‹è¯•çš„ä¸šåŠ¡çº¿8&quot;,\n        child: [\n          &#123;\n            id: 25,\n            parentId: 8,\n            bizName: &quot;å¼€å‘æµ‹è¯•çš„ä¸šåŠ¡çº¿21&quot;,\n          &#125;,\n          &#123;\n            id: 26,\n            parentId: 8,\n            bizName: &quot;å¼€å‘æµ‹è¯•çš„ä¸šåŠ¡çº¿22&quot;,\n          &#125;,\n        ],\n      &#125;,\n      &#123;\n        id: 9,\n        parentId: 0,\n        bizName: &quot;æµ‹è¯•çš„ä¸šåŠ¡çº¿9&quot;,\n      &#125;,\n    ],\n  &#125;,\n];</code></pre>\n</p>\n</details>\n<h3 id=\"æµ‹è¯•ç»“æœ\"><a href=\"#æµ‹è¯•ç»“æœ\" class=\"headerlink\" title=\"æµ‹è¯•ç»“æœ\"></a>æµ‹è¯•ç»“æœ</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">console.log(&quot;res - 2&quot;, findTreeNodeByKey(2, data));\nconsole.log(&quot;res - 1326&quot;, findTreeNodeByKey(13, data));\n&#x2F;&#x2F; console.log(&quot;res - 0&quot;, findTreeNodeByKey(0, data));\nconsole.log(&quot;res - 996&quot;, findTreeNodeByKey(996, data));</code></pre>\n\n<h2 id=\"js-è·å–æŸä¸ªèŠ‚ç‚¹-å¯¹åº”çš„è·¯å¾„\"><a href=\"#js-è·å–æŸä¸ªèŠ‚ç‚¹-å¯¹åº”çš„è·¯å¾„\" class=\"headerlink\" title=\"js è·å–æŸä¸ªèŠ‚ç‚¹, å¯¹åº”çš„è·¯å¾„\"></a>js è·å–æŸä¸ªèŠ‚ç‚¹, å¯¹åº”çš„è·¯å¾„</h2><ul>\n<li>è·¯å¾„ type&#x3D;path</li>\n<li>çˆ¶èŠ‚ç‚¹ç»„ type&#x3D;item</li>\n</ul>\n<h3 id=\"ä»£ç -1\"><a href=\"#ä»£ç -1\" class=\"headerlink\" title=\"ä»£ç \"></a>ä»£ç </h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">\n&#x2F;**\n *\n * @param &#123;æ•°ç»„ï¼šæ ‘data&#125; tree\n * @param &#123;ç›®æ ‡å€¼&#125; targetValue\n * @param &#123;é…ç½®ä¿¡æ¯&#125; options\n * @returns\n *&#x2F;\nfunction findNodePaths(tree, targetValue, options) &#123;\n  const defaultOptions &#x3D; &#123;\n    find_field: &quot;id&quot;, &#x2F;&#x2F; ä¸ targetValueåŒ¹é…çš„å­—æ®µ\n    path_field: &quot;id&quot;, &#x2F;&#x2F; ç”Ÿæˆè·¯å¾„çš„å­—æ®µ\n    separator: &quot;,&quot;, &#x2F;&#x2F; è·¯å¾„å­—æ®µåˆ†éš”ç¬¦\n    type: &quot;path&quot;, &#x2F;&#x2F; path &#x2F; item\n    children: &quot;children&quot;,\n  &#125;;\n  console.log(&#39;options&#39;,options)\n  options &#x3D; &#123;\n    ...defaultOptions,\n    ...options,\n  &#125;;\n  &#x2F;&#x2F; é¦–å…ˆæˆ‘ä»¬å…ˆå®šä¹‰ä¸ªæ•°ç»„ï¼Œç”¨æ¥ä¿å­˜è·¯å¾„èŠ‚ç‚¹id\n  let nodePathArray &#x3D; [];\n\n  &#x2F;&#x2F; (treeä¸ºç›®æ ‡æ ‘ï¼ŒtargetIdä¸ºç›®æ ‡èŠ‚ç‚¹id)\n  function getNodeRoute(tree, targetValue, options) &#123;\n    for (let index &#x3D; 0; index &lt; tree.length; index++) &#123;\n      if (tree[index][options.children]) &#123;\n        let endRecursiveLoop &#x3D; getNodeRoute(\n          tree[index][options.children],\n          targetValue,\n          options\n        );\n        console.log(&quot;endRecursiveLoop&quot;, endRecursiveLoop);\n        if (endRecursiveLoop) &#123;\n          if (options.type &#x3D;&#x3D;&#x3D; &quot;path&quot;) &#123;\n            nodePathArray.push(tree[index][options.path_field]);\n          &#125; else &#123;\n            nodePathArray.push(tree[index]);\n          &#125;\n          return true;\n        &#125;\n      &#125;\n      if (tree[index][options.find_field] &#x3D;&#x3D;&#x3D; targetValue) &#123;\n        if (options.type &#x3D;&#x3D;&#x3D; &quot;path&quot;) &#123;\n          nodePathArray.push(tree[index][options.path_field]);\n        &#125; else &#123;\n          nodePathArray.push(tree[index]);\n        &#125;\n        return true;\n      &#125;\n    &#125;\n  &#125;\n  &#x2F;&#x2F; è½¬åŒ–æˆæ•°ç»„\n  let _tree &#x3D; [];\n  if (Array.isArray(tree)) &#123;\n    _tree &#x3D; tree;\n  &#125; else &#123;\n    _tree &#x3D; [tree];\n  &#125;\n\n  getNodeRoute(_tree, targetValue, options);\n  console.log(&quot;nodePathArray&quot;, nodePathArray);\n\n  if (options.type &#x3D;&#x3D;&#x3D; &quot;path&quot;) &#123;\n    return nodePathArray.reverse().join(options.separator);\n  &#125; else &#123;\n    return nodePathArray.reverse();\n  &#125;\n&#125;</code></pre>\n\n<h3 id=\"æµ‹è¯•\"><a href=\"#æµ‹è¯•\" class=\"headerlink\" title=\"æµ‹è¯•\"></a>æµ‹è¯•</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const paths &#x3D; findNodePaths(data, 81); &#x2F;&#x2F;æŸ¥æ‰¾idä¸º112çš„èŠ‚ç‚¹è·¯å¾„\nconsole.log(paths);\n\nconst pathItems &#x3D; findNodePaths(treeArray, 81, &#123; type: &quot;item&quot; &#125;); &#x2F;&#x2F;æŸ¥æ‰¾idä¸º112çš„èŠ‚ç‚¹è·¯å¾„\nconsole.log(pathItems);</code></pre>\n","text":"mysql å­˜å‚¨çš„å‡ ç§æ–¹å¼è§ 1,4 ç”¨è¿‡ï¼Œ 2 è§è¿‡ï¼ˆå½“å‰å…¬å¸ DHR ç³»ç»Ÿç»„ç»‡æ¶æ„åœ¨ç”¨ï¼‰ js è·å–æ ‘æŸä¸ªèŠ‚ç‚¹åœºæ™¯ï¼šç¼–è¾‘æ ‘èŠ‚ç‚¹ï¼Œåˆ·æ–°æ ‘æ•°æ®ï¼Œè¿›è¡Œç¼–è¾‘èŠ‚ç‚¹å›æ˜¾ï¼ŒæŸäº›æƒ…å†µä¸‹ï¼Œæ ‘èŠ‚ç‚¹è¢«è½¬ç§»ä»–äººï¼Œå½“å‰èŠ‚ç‚¹ä¸éœ€è¦å›æ˜¾ ä»£ç &#x2F;** * * @param &#123;è¦æŸ¥è¯¢çš„èŠ‚ç‚¹...","link":"","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[{"name":"tree","slug":"tree","count":1,"path":"api/categories/tree.json"}],"tags":[{"name":"tree","slug":"tree","count":1,"path":"api/tags/tree.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#mysql-%E5%AD%98%E5%82%A8%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">mysql å­˜å‚¨çš„å‡ ç§æ–¹å¼</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#js-%E8%8E%B7%E5%8F%96%E6%A0%91%E6%9F%90%E4%B8%AA%E8%8A%82%E7%82%B9\"><span class=\"toc-text\">js è·å–æ ‘æŸä¸ªèŠ‚ç‚¹</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">ä»£ç </span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">æµ‹è¯•æ•°æ®</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C\"><span class=\"toc-text\">æµ‹è¯•ç»“æœ</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#js-%E8%8E%B7%E5%8F%96%E6%9F%90%E4%B8%AA%E8%8A%82%E7%82%B9-%E5%AF%B9%E5%BA%94%E7%9A%84%E8%B7%AF%E5%BE%84\"><span class=\"toc-text\">js è·å–æŸä¸ªèŠ‚ç‚¹, å¯¹åº”çš„è·¯å¾„</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81-1\"><span class=\"toc-text\">ä»£ç </span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">æµ‹è¯•</span></a></li></ol></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"react hook å¦‚ä½•å¢åŠ ä¾èµ–æ›´æ–°","uid":"66abc3dc4231aab7cbe8387d3c356301","slug":"2022-08-23react-hook","date":"2022-08-23T08:25:15.000Z","updated":"2022-09-16T15:03:32.529Z","comments":true,"path":"api/articles/2022-08-23react-hook.json","keywords":null,"cover":[],"text":"èƒŒæ™¯æƒ³å°†ï¼Œä¸šåŠ¡é€»è¾‘æŒ‰é’®ç»„å°è£…ä¸º hook,åœ¨ç§»åŠ¨ç«¯å’Œ pc ç«¯ä¹‹é—´è¿›è¡Œé€»è¾‘å¤ç”¨ã€‚åœ¨è¯¦æƒ…é¡µé¢ä½¿ç”¨æ—¶å€™ï¼Œå‘ç°å¹¶æ²¡æœ‰ç”Ÿæ•ˆ åŸå› ï¼š æ— æ³•ç»™ useActionsï¼Œå¢åŠ ä¾èµ–é¡¹ï¼Œç±»ä¼¼ useEffect çš„ç¬¬äºŒå‚æ•°ä¸€æ ·ã€‚ æŸ¥è¯¢äº† ahooks çš„ hookï¼Œäº†è§£ç±»ä¼¼è§£å†³æ–¹æ¡ˆ useActio...","link":"","photos":[],"count_time":{"symbolsCount":"19k","symbolsTime":"17 mins."},"categories":[{"name":"React","slug":"React","count":18,"path":"api/categories/React.json"}],"tags":[{"name":"React","slug":"React","count":12,"path":"api/tags/React.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"ç§»åŠ¨ç«¯é—®é¢˜ï¼ˆå¾…è¡¥å……ï¼‰","uid":"9ca59950df988675bcde5e82f2244716","slug":"2022-08-22mb","date":"2022-08-22T10:55:01.000Z","updated":"2022-09-16T13:54:56.314Z","comments":true,"path":"api/articles/2022-08-22mb.json","keywords":null,"cover":null,"text":"ã€ç§»åŠ¨ç«¯ã€‘ç§»åŠ¨ç«¯ç‚¹å‡»å¯ç‚¹å‡»å…ƒç´ æ—¶ï¼Œå‡ºç°è“è‰²é»˜è®¤èƒŒæ™¯è‰²è§ webé¡µé¢æ”¾åœ¨ç§»åŠ¨ç«¯ï¼Œç‚¹å‡»button æ ‡ç­¾æˆ–è€…æ·»åŠ äº†cursor:pointer æ ·å¼çš„æ ‡ç­¾ï¼Œä¼šå‡ºç° è“è‰²èƒŒæ™¯è‰²ï¼Œ è§£å†³æ–¹æ¡ˆï¼š ç»™ç›¸åº”æ ‡ç­¾ æˆ–è€…ç›´æ¥åœ¨body æ ‡ç­¾ä¸Šæ·»åŠ  æ ·å¼ï¼š &#96;&#96;&#96;css -w...","link":"","photos":[],"count_time":{"symbolsCount":663,"symbolsTime":"1 mins."},"categories":[{"name":"ç§»åŠ¨ç«¯é€‚é…","slug":"ç§»åŠ¨ç«¯é€‚é…","count":1,"path":"api/categories/ç§»åŠ¨ç«¯é€‚é….json"}],"tags":[{"name":"ç§»åŠ¨ç«¯é€‚é…","slug":"ç§»åŠ¨ç«¯é€‚é…","count":1,"path":"api/tags/ç§»åŠ¨ç«¯é€‚é….json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
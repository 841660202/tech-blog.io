{"title":"react-i18next å®æˆ˜","uid":"d3e5b4328c1c4f541cc62a16265ea877","slug":"2022-09-11react-i18next","date":"2022-09-11T09:52:12.000Z","updated":"2022-09-12T12:33:57.391Z","comments":true,"path":"api/articles/2022-09-11react-i18next.json","keywords":null,"cover":[],"content":"<h2 id=\"é—®é¢˜\"><a href=\"#é—®é¢˜\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h2><p>å¯¹äºå¸¸é‡çš„æ•°æ®ï¼Œå½“ i18n è¯­è¨€æ”¹å˜æ—¶å€™ï¼Œé¡¶éƒ¨èœå•ï¼Œå’Œä¾§è¾¹æ èœå•æ²¡æœ‰å‘ç”Ÿæ”¹å˜</p>\n<p>æœ‰é—®é¢˜ä»£ç </p>\n<pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">&#x2F;&#x2F; ä»…ä»…æ˜¯ä¸ºäº†ä½¿ç”¨ useTranslation è€Œè¿›è¡Œç»„ä»¶å°è£…\nimport React from &quot;react&quot;;\nimport &#123; useTranslation &#125; from &quot;react-i18next&quot;;\ninterface IProps &#123;\n  children: string;\n&#125;\nconst Trans: React.FC&lt;IProps&gt; &#x3D; (props) &#x3D;&gt; &#123;\n  const &#123; t &#125; &#x3D; useTranslation();\n  return t(props.children);\n&#125;;\n\nexport default Trans;</code></pre>\n\n<pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">&#x2F;&#x2F; è¯­è¨€å˜åŒ–ï¼Œä¸å¯æœ‰æ•ˆæ›´æ–°ä¾‹å­\n&#x2F;&#x2F; Trans ä¸ºäº†ç¿»è¯‘å†™çš„reactç»„ä»¶\nexport const topRoutes: MenuConfig[] &#x3D; [\n  &#123;\n    name: &lt;Trans&gt;tconfig&lt;&#x2F;Trans&gt;,\n    path: &quot;&#x2F;tconfig&quot;,\n    redirect: &quot;&#x2F;tconfig&#x2F;products&quot;,\n    routes: [\n      &#123;\n        name: &lt;Trans&gt;products&lt;&#x2F;Trans&gt;,\n        path: &quot;&#x2F;tconfig&#x2F;products&quot;,\n        component: &lt;TargetConfProducts &#x2F;&gt;,\n        icon: &lt;LoginOutlined &#x2F;&gt;,\n      &#125;,\n      &#123;\n        name: &lt;Trans&gt;devices&lt;&#x2F;Trans&gt;,\n        path: &quot;&#x2F;tconfig&#x2F;devices&quot;,\n        component: &lt;TargetConfDevices &#x2F;&gt;,\n        icon: &lt;LoginOutlined &#x2F;&gt;,\n      &#125;,\n      &#123;\n        name: &lt;Trans&gt;category&lt;&#x2F;Trans&gt;,\n        path: &quot;&#x2F;tconfig&#x2F;category&quot;,\n        component: &lt;TargetConfCategory &#x2F;&gt;,\n        icon: &lt;LoginOutlined &#x2F;&gt;,\n      &#125;,\n    ],\n  &#125;,\n  &#123;\n    name: &lt;Trans&gt;mconfig&lt;&#x2F;Trans&gt;,\n    path: &quot;&#x2F;mconfig&quot;,\n    redirect: &quot;&#x2F;mconfig&#x2F;list&quot;,\n    routes: [\n      &#123;\n        name: &lt;Trans&gt;config&lt;&#x2F;Trans&gt;,\n        path: &quot;&#x2F;mconfig&#x2F;list&quot;,\n        component: &lt;ModConfPage &#x2F;&gt;,\n        icon: &lt;LoginOutlined &#x2F;&gt;,\n      &#125;,\n    ],\n  &#125;,\n  &#123;\n    name: &lt;Trans&gt;tmonitor&lt;&#x2F;Trans&gt;,\n    path: &quot;&#x2F;tmonitor&quot;,\n    redirect: &quot;&#x2F;tmonitor&#x2F;overview&quot;,\n    routes: [\n      &#123;\n        name: &lt;Trans&gt;tmonitor-overview&lt;&#x2F;Trans&gt;,\n        path: &quot;&#x2F;tmonitor&#x2F;overview&quot;,\n        component: &lt;MonitorOverview &#x2F;&gt;,\n        icon: &lt;LoginOutlined &#x2F;&gt;,\n      &#125;,\n      &#123;\n        name: &lt;Trans&gt;tmonitor-product&lt;&#x2F;Trans&gt;,\n        path: &quot;&#x2F;tmonitor&#x2F;product&quot;,\n        component: &lt;MonitorProduct &#x2F;&gt;,\n        icon: &lt;LoginOutlined &#x2F;&gt;,\n      &#125;,\n      &#123;\n        name: &lt;Trans&gt;tmonitor-device&lt;&#x2F;Trans&gt;,\n        path: &quot;&#x2F;tmonitor&#x2F;device&quot;,\n        component: &lt;MonitorDevice &#x2F;&gt;,\n        icon: &lt;LoginOutlined &#x2F;&gt;,\n      &#125;,\n      &#123;\n        name: &lt;Trans&gt;tmonitor-cere&lt;&#x2F;Trans&gt;,\n        path: &quot;&#x2F;tmonitor&#x2F;cere&quot;,\n        component: &lt;MonitorCere &#x2F;&gt;,\n        icon: &lt;LoginOutlined &#x2F;&gt;,\n      &#125;,\n    ],\n  &#125;,\n];</code></pre>\n\n<img src=\"http://t-blog-images.aijs.top/img/202209111755182.gif\" />\n\n<img src=\"http://t-blog-images.aijs.top/img/202209111756612.gif\" />\n\n<h2 id=\"åŸå› åˆ†æ\"><a href=\"#åŸå› åˆ†æ\" class=\"headerlink\" title=\"åŸå› åˆ†æ\"></a>åŸå› åˆ†æ</h2><p><strong>åŸå› åˆ†æ</strong>ï¼šæ•°æ®å¹¶æ²¡æœ‰é‡æ–°è®¡ç®— topRoutes æ•°æ®ä»ç„¶æ˜¯æ—§çš„æ•°æ®</p>\n<h2 id=\"è§£å†³æ–¹æ¡ˆ\"><a href=\"#è§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"è§£å†³æ–¹æ¡ˆ\"></a>è§£å†³æ–¹æ¡ˆ</h2><p><strong>æ–¹æ¡ˆ</strong></p>\n<p>åˆ·æ–°æµè§ˆå™¨çš„æ–¹æ¡ˆä¸è€ƒè™‘ï¼Œç”¨æˆ·ä½“éªŒæå·®ï¼Œä»¥ä¸‹ä»…è€ƒè™‘ä¸åˆ·æ–°æ–¹æ¡ˆ</p>\n<p><strong>æ–¹æ¡ˆ 1ï¼š</strong> å¼ºåˆ¶æ¸²æŸ“ï¼ˆé¡¶å±‚ <code>key</code> æ–¹æ¡ˆï¼Œè¿™ä¸ªæ–¹æ¡ˆåˆ©ç”¨ <code>react diff</code> é¦–å…ˆæ¯”è¾ƒ keyï¼Œkey ä¸åŒä¸å¤ç”¨çš„è§„åˆ™ï¼‰ï¼Œç¼ºç‚¹ï¼š1. éƒ¨åˆ†é¡µé¢å¯èƒ½ä¼šè§¦å‘é‡æ–°è¯·æ±‚ï¼Œ 2. Trans ç»„ä»¶æœ‰å‰²è£‚æ„Ÿ 3. æœ‰æ€§èƒ½æŸè€—</p>\n<p><strong>æ–¹æ¡ˆ 2ï¼š</strong> <code>i18n.language</code> å˜åŒ–æ—¶å€™è¿›è¡Œé‡æ–°è®¡ç®—ï¼ˆ<code>useMemo/useCallback</code>ï¼‰ï¼Œç¼ºç‚¹: 1. æ¯”è¾ƒåˆ†æ•£,éš¾ä»¥ç»´æŠ¤ï¼Œ 2. Trans ç»„ä»¶æœ‰å‰²è£‚æ„Ÿ</p>\n<p><strong>æ–¹æ¡ˆ 3ï¼š</strong> å°† t ä¼ å…¥ï¼Œä¸ä½¿ç”¨ç»„ä»¶ï¼Œåˆ©ç”¨å‡½æ•°ï¼Œè®¡ç®—è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„çš„ç‰¹ç‚¹ï¼Œ å¹¶ä¸”ç›´æ¥ç”¨ <code>t(&quot;tconfig&quot;)</code>å½¢å¼, ä¼˜ç‚¹ï¼š ç›´è§‚ï¼Œæ²¡æœ‰å‰²è£‚æ„Ÿ</p>\n<p>éœ€è¦éšè¯­è¨€å˜åŒ–çš„æ•°æ®ï¼Œå¯ä»¥ä¸ä½¿ç”¨å¸¸é‡çš„æ•°æ®ï¼Œ æ¢æˆå‡½æ•°</p>\n<h2 id=\"æ–¹æ¡ˆ-3\"><a href=\"#æ–¹æ¡ˆ-3\" class=\"headerlink\" title=\"æ–¹æ¡ˆ 3\"></a>æ–¹æ¡ˆ 3</h2><p>ä¿®æ”¹å</p>\n<pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">export const topRoutesFun &#x3D; (t: Function) &#x3D;&gt; &#123;\n  return [\n    &#123;\n      name: t(&quot;tconfig&quot;),\n      path: &quot;&#x2F;tconfig&quot;,\n      redirect: &quot;&#x2F;tconfig&#x2F;products&quot;,\n      routes: [\n        &#123;\n          name: t(&quot;products&quot;),\n          path: &quot;&#x2F;tconfig&#x2F;products&quot;,\n          component: &lt;TargetConfProducts &#x2F;&gt;,\n          icon: &lt;LoginOutlined &#x2F;&gt;,\n        &#125;,\n        &#123;\n          name: t(&quot;devices&quot;),\n          path: &quot;&#x2F;tconfig&#x2F;devices&quot;,\n          component: &lt;TargetConfDevices &#x2F;&gt;,\n          icon: &lt;LoginOutlined &#x2F;&gt;,\n        &#125;,\n        &#123;\n          name: t(&quot;category&quot;),\n          path: &quot;&#x2F;tconfig&#x2F;category&quot;,\n          component: &lt;TargetConfCategory &#x2F;&gt;,\n          icon: &lt;LoginOutlined &#x2F;&gt;,\n        &#125;,\n      ],\n    &#125;,\n    &#123;\n      name: t(&quot;mconfig&quot;),\n      path: &quot;&#x2F;mconfig&quot;,\n      redirect: &quot;&#x2F;mconfig&#x2F;list&quot;,\n      routes: [\n        &#123;\n          name: t(&quot;config&quot;),\n          path: &quot;&#x2F;mconfig&#x2F;list&quot;,\n          component: &lt;ModConfPage &#x2F;&gt;,\n          icon: &lt;LoginOutlined &#x2F;&gt;,\n        &#125;,\n      ],\n    &#125;,\n    &#123;\n      name: t(&quot;tmonitor&quot;),\n      path: &quot;&#x2F;tmonitor&quot;,\n      redirect: &quot;&#x2F;tmonitor&#x2F;overview&quot;,\n      routes: [\n        &#123;\n          name: t(&quot;tmonitor-overview&quot;),\n          path: &quot;&#x2F;tmonitor&#x2F;overview&quot;,\n          component: &lt;MonitorOverview &#x2F;&gt;,\n          icon: &lt;LoginOutlined &#x2F;&gt;,\n        &#125;,\n        &#123;\n          name: t(&quot;tmonitor-product&quot;),\n          path: &quot;&#x2F;tmonitor&#x2F;product&quot;,\n          component: &lt;MonitorProduct &#x2F;&gt;,\n          icon: &lt;LoginOutlined &#x2F;&gt;,\n        &#125;,\n        &#123;\n          name: t(&quot;tmonitor-device&quot;),\n          path: &quot;&#x2F;tmonitor&#x2F;device&quot;,\n          component: &lt;MonitorDevice &#x2F;&gt;,\n          icon: &lt;LoginOutlined &#x2F;&gt;,\n        &#125;,\n        &#123;\n          name: t(&quot;tmonitor-cere&quot;),\n          path: &quot;&#x2F;tmonitor&#x2F;cere&quot;,\n          component: &lt;MonitorCere &#x2F;&gt;,\n          icon: &lt;LoginOutlined &#x2F;&gt;,\n        &#125;,\n      ],\n    &#125;,\n  ];\n&#125;;</code></pre>\n\n<h2 id=\"ç»“æœå±•ç¤º\"><a href=\"#ç»“æœå±•ç¤º\" class=\"headerlink\" title=\"ç»“æœå±•ç¤º\"></a>ç»“æœå±•ç¤º</h2><img src=\"http://t-blog-images.aijs.top/img/202209112002362.gif\" />\n\n<h2 id=\"ç”Ÿæ´»ï½\"><a href=\"#ç”Ÿæ´»ï½\" class=\"headerlink\" title=\"ç”Ÿæ´»ï½\"></a>ç”Ÿæ´»ï½</h2><p>å»åˆ·é²é±¼ï¼Œè¿˜æœ‰å…­åªï¼Œå¥½åƒæ­»ç¿˜ç¿˜äº†</p>\n","text":"é—®é¢˜å¯¹äºå¸¸é‡çš„æ•°æ®ï¼Œå½“ i18n è¯­è¨€æ”¹å˜æ—¶å€™ï¼Œé¡¶éƒ¨èœå•ï¼Œå’Œä¾§è¾¹æ èœå•æ²¡æœ‰å‘ç”Ÿæ”¹å˜ æœ‰é—®é¢˜ä»£ç  &#x2F;&#x2F; ä»…ä»…æ˜¯ä¸ºäº†ä½¿ç”¨ useTranslation è€Œè¿›è¡Œç»„ä»¶å°è£… import React from &quot;react&quot;; import &#12...","link":"","photos":[],"count_time":{"symbolsCount":"5.9k","symbolsTime":"5 mins."},"categories":[{"name":"react","slug":"react","count":11,"path":"api/categories/react.json"}],"tags":[{"name":"react","slug":"react","count":5,"path":"api/tags/react.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">é—®é¢˜</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90\"><span class=\"toc-text\">åŸå› åˆ†æ</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\"><span class=\"toc-text\">è§£å†³æ–¹æ¡ˆ</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%B9%E6%A1%88-3\"><span class=\"toc-text\">æ–¹æ¡ˆ 3</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BB%93%E6%9E%9C%E5%B1%95%E7%A4%BA\"><span class=\"toc-text\">ç»“æœå±•ç¤º</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%94%9F%E6%B4%BB%EF%BD%9E\"><span class=\"toc-text\">ç”Ÿæ´»ï½</span></a></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"webviewåº”ç”¨","uid":"ed5cd7890f7f44ca244b6e91a3c180a3","slug":"2022-09-13webview","date":"2022-09-13T14:10:02.000Z","updated":"2022-09-13T14:17:03.544Z","comments":true,"path":"api/articles/2022-09-13webview.json","keywords":null,"cover":[],"text":"h5 webviewåº”ç”¨å¾ˆå¹¿å•Šï¼Œå¹³æ—¶è¿˜çœŸæ²¡æ„Ÿè§‰åˆ°æ˜¯ h5 é¡µé¢æ¸²æŸ“çš„å†…å®¹ï¼ŒæŠ¥é”™äº†æ‰çŸ¥é“ æ”¯ä»˜å®ä¼šå‘˜ B ç«™ ç›´æ’­ æ˜é‡‘æ–‡ç« è¯¦æƒ… ","link":"","photos":[],"count_time":{"symbolsCount":66,"symbolsTime":"1 mins."},"categories":[{"name":"h5","slug":"h5","count":1,"path":"api/categories/h5.json"}],"tags":[{"name":"h5","slug":"h5","count":1,"path":"api/tags/h5.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"Object & Proxy & Reflect","uid":"2499c4fff2bdb496a8144270f16e71e0","slug":"2022-09-08obj&proxy","date":"2022-09-08T13:40:12.000Z","updated":"2022-09-08T23:42:10.145Z","comments":true,"path":"api/articles/2022-09-08obj&proxy.json","keywords":null,"cover":null,"text":"Proxy çš„ hanlder 13 æ–¹æ³•applyç”¨äºæ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ è¯­æ³• var p &#x3D; new Proxy(target, &#123; apply: function ( target &#x2F;**ç›®æ ‡å¯¹è±¡ï¼ˆå‡½æ•°ï¼‰ çº¦æŸï¼š target å¿…é¡»æ˜¯å¯è¢«è°ƒç”¨çš„ã€‚ä¹Ÿ...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"å‰ç«¯åŸºç¡€","slug":"å‰ç«¯åŸºç¡€","count":27,"path":"api/categories/å‰ç«¯åŸºç¡€.json"}],"tags":[{"name":"å‰ç«¯åŸºç¡€","slug":"å‰ç«¯åŸºç¡€","count":29,"path":"api/tags/å‰ç«¯åŸºç¡€.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
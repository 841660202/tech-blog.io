{"title":"zip脚本","uid":"4835394fb76120480169e62ff84f7f7c","slug":"2023-08-13zip","date":"2023-08-12T17:35:08.000Z","updated":"2023-08-12T17:40:09.121Z","comments":true,"path":"api/articles/2023-08-13zip.json","keywords":null,"cover":null,"content":"<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">#!&#x2F;bin&#x2F;bash\n\n\n\nmkdir -p .&#x2F;data&#x2F;mitm\n# 当前脚本所在目录\nrecord_path&#x3D;$(pwd)\necho &quot;当前脚本：$record_path&quot;\n\n\nmove_node_modules_and_code() &#123;\n  local target_dir&#x3D;$1\n  local source_dir&#x3D;$2\n  local code_zip&#x3D;&quot;code.zip&quot;\n\n  # 创建目标目录\n  mkdir -p &quot;$target_dir&quot;\n\n  # 进入源目录\n  cd &quot;$source_dir&quot;\n\n  # 压缩源目录下的 node_modules 文件夹，排除 &quot;.&#x2F;node_modules&#x2F;.cache&#x2F;*&quot;\n  # zip -r node_modules.zip .&#x2F;node_modules -x &quot;.&#x2F;node_modules&#x2F;.cache&#x2F;*&quot;\n  zip -r &quot;$code_zip&quot; .&#x2F; -x &quot;.&#x2F;node_modules&#x2F;*&quot; -x &quot;.&#x2F;dist&#x2F;*&quot; -x &quot;.&#x2F;client&#x2F;.next&#x2F;*&quot;\n\n  # 回到之前的目录\n  cd -\n\n  # 移动压缩文件到目标目录\n  # mv &quot;$source_dir&#x2F;node_modules.zip&quot; &quot;$target_dir&quot;\n  mv &quot;$source_dir&#x2F;$code_zip&quot; &quot;$target_dir&quot;\n&#125;\n\n\n\n\n\n# &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;mitm&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n# # 项目目录\n# mitm&#x3D;&quot;&#x2F;Users&#x2F;github&#x2F;server&quot;\n\n# cd &quot;$mitm&quot;\n\n# sh zip.sh\n# echo &quot;项目目录：$(pwd)&quot;\n# # 回转目录\n# cd -\n# echo &quot;回转目录：$(pwd)&quot;\n# cp &quot;$mitm&#x2F;help.md&quot; .&#x2F;data&#x2F;mitm&#x2F;\n# cp &quot;$mitm&#x2F;zip.sh&quot; .&#x2F;data&#x2F;mitm&#x2F;\n# mv &quot;$mitm&#x2F;sql.zip&quot; .&#x2F;data&#x2F;mitm&#x2F;\n# mv &quot;$mitm&#x2F;mitm-cache.zip&quot; .&#x2F;data&#x2F;mitm&#x2F;\n# mv &quot;$mitm&#x2F;mitm-mock.zip&quot; .&#x2F;data&#x2F;mitm&#x2F;\n\n\n\n# &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;wiki node_modules&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\nwiki_dir&#x3D;&quot;.&#x2F;data&#x2F;wiki&quot;\nwiki_source&#x3D;&#x2F;Users&#x2F;tuya&#x2F;code&#x2F;wiki&#x2F;tuya-wiki\nmove_node_modules_and_code &quot;$wiki_dir&quot; &quot;$wiki_source&quot;\n\n\n\n# &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;wiki-ui node_modules&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n# wiki_editor_dir&#x3D;&quot;.&#x2F;data&#x2F;wiki-editor&quot;\n# wiki_editor_source&#x3D;&quot;&#x2F;Users&#x2F;tuya&#x2F;code&#x2F;wiki&#x2F;wiki-editor&quot;\n# move_node_modules_and_code &quot;$wiki_editor_dir&quot; &quot;$wiki_editor_source&quot;\n\n# &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;wiki-ui node_modules&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n\n# wiki_ui_dir&#x3D;&quot;.&#x2F;data&#x2F;wiki-ui&quot;\n# wiki_ui_source&#x3D;&quot;&#x2F;Users&#x2F;tuya&#x2F;code&#x2F;wiki&#x2F;wiki-ui&quot;\n# move_node_modules_and_code &quot;$wiki_ui_dir&quot; &quot;$wiki_ui_source&quot;\n\n\n</code></pre>\n\n<h2 id=\"上述代码知识点\"><a href=\"#上述代码知识点\" class=\"headerlink\" title=\"上述代码知识点\"></a>上述代码知识点</h2><ol>\n<li>变量</li>\n<li>变量拼接</li>\n<li>函数</li>\n<li>函数传参数</li>\n<li>zip 排除一些文件&#x2F;文件夹</li>\n</ol>\n<h2 id=\"cd-参数有哪些\"><a href=\"#cd-参数有哪些\" class=\"headerlink\" title=\"cd 参数有哪些\"></a>cd 参数有哪些</h2><p><code>cd</code>（Change Directory）命令用于在命令行界面中切换当前工作目录。它是操作系统的基本命令之一，用于导航文件系统的目录结构。以下是常见的 <code>cd</code> 命令参数：</p>\n<ol>\n<li><p><code>cd</code>: 仅输入 <code>cd</code> 命令，将当前工作目录切换为用户的主目录（通常是 <code>/home/用户名</code> 或 <code>/Users/用户名</code>）。</p>\n</li>\n<li><p><code>cd 目录路径</code>: 将当前工作目录切换到指定的目录路径。例如：<code>cd /path/to/directory</code> 将切换到 <code>/path/to/directory</code> 目录。</p>\n</li>\n<li><p><code>cd ..</code>: 切换到当前工作目录的父目录。</p>\n</li>\n<li><p><code>cd -</code>: 切换到上一个工作目录。</p>\n</li>\n<li><p><code>cd ~</code>: 切换到用户的主目录。</p>\n</li>\n<li><p><code>cd /</code>: 切换到根目录。</p>\n</li>\n<li><p><code>cd 目录名/子目录名</code>: 切换到当前工作目录下的指定子目录。</p>\n</li>\n<li><p><code>cd ../../</code>: 使用相对路径进行切换，表示切换到当前工作目录的父目录的父目录。</p>\n</li>\n</ol>\n<p>这些是一些常见的 <code>cd</code> 命令参数示例。你可以根据需要使用这些参数来在命令行中导航文件系统的目录结构。在使用 <code>cd</code> 命令时，务必注意路径的正确性，以免误操作或进入错误的目录。</p>\n","text":"#!&#x2F;bin&#x2F;bash mkdir -p .&#x2F;data&#x2F;mitm # 当前脚本所在目录 record_path&#x3D;$(pwd) echo &quot;当前脚本：$record_path&quot; move_node_modules...","link":"","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[{"name":"shell","slug":"shell","count":5,"path":"api/categories/shell.json"}],"tags":[{"name":"shell","slug":"shell","count":6,"path":"api/tags/shell.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%8A%E8%BF%B0%E4%BB%A3%E7%A0%81%E7%9F%A5%E8%AF%86%E7%82%B9\"><span class=\"toc-text\">上述代码知识点</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#cd-%E5%8F%82%E6%95%B0%E6%9C%89%E5%93%AA%E4%BA%9B\"><span class=\"toc-text\">cd 参数有哪些</span></a></li></ol>","author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"macos 命令行重置wifi代理","uid":"a0facad4ae03572bf0b761d03f971b15","slug":"2023-08-15macos","date":"2023-08-15T02:32:37.000Z","updated":"2023-08-15T02:39:46.625Z","comments":true,"path":"api/articles/2023-08-15macos.json","keywords":null,"cover":[],"text":"背景开 vpn 有时候会导致浏览器网页打不开，手动关闭 wifi 配置，太慢了 脚本化在 macOS 上，您可以使用以下步骤来重置 Wi-Fi 代理设置： 打开终端：您可以通过在应用程序文件夹中找到“实用工具”文件夹，然后打开“终端”来访问终端。 重置 Wi-Fi 代理设置：在终...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"shell","slug":"shell","count":5,"path":"api/categories/shell.json"}],"tags":[{"name":"shell","slug":"shell","count":6,"path":"api/tags/shell.json"},{"name":"macos","slug":"macos","count":1,"path":"api/tags/macos.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"找文件所在路径","uid":"d48ffe4fd5d588684a452b75a1726f16","slug":"2023-08-12shell","date":"2023-08-12T14:13:46.000Z","updated":"2023-08-12T14:31:08.914Z","comments":true,"path":"api/articles/2023-08-12shell.json","keywords":null,"cover":[],"text":"背景代码中，文件名以值的形式存在，不是以完整路径存在，需要对原文件做一些变更操作的时候，快速找到文件 场景代码如下代码，需要替换 icon 文件 export const apps &#x3D; [ &#123; category: 1, label: &#39;基础数据&#39...","link":"","photos":[],"count_time":{"symbolsCount":951,"symbolsTime":"1 mins."},"categories":[{"name":"shell","slug":"shell","count":5,"path":"api/categories/shell.json"}],"tags":[{"name":"shell","slug":"shell","count":6,"path":"api/tags/shell.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
{"title":"组件库开发 yalc","uid":"2ca18facf08aecc1df3a76171b2916fc","slug":"2022-11-24yalc","date":"2022-11-24T01:29:26.000Z","updated":"2023-07-08T01:06:25.348Z","comments":true,"path":"api/articles/2022-11-24yalc.json","keywords":null,"cover":[],"content":"<h1 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h1><p>使用 npm link&#x2F;yarn link&#x2F;yalc 等工具，通过软链接的方式进行调试，影响 node_modules 中原本的包;</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>yalc 在开发和创作多个包（私有或公共）时，您通常会发现自己需要在本地环境中正在处理的其他项目中使用最新的&#x2F;WIP 版本，而无需将这些包发布到远程注册表。NPM 和 Yarn 通过一种类似的对称链接包（NPM&#x2F;纱线链接）解决了这个问题。尽管这在许多情况下可能有效，但它经常会带来严重的约束和依赖关系解决、文件系统之间的符号链接互操作性等问题。</p></blockquote>\n<h1 id=\"非-chatGpt\"><a href=\"#非-chatGpt\" class=\"headerlink\" title=\"非 chatGpt\"></a>非 chatGpt</h1><h2 id=\"yalc\"><a href=\"#yalc\" class=\"headerlink\" title=\"yalc\"></a>yalc</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>对包开发者而言，一种比 yarn&#x2F;npm link 更好的开发流程</p></blockquote>\n<div style=\"display: flex;align-items: center;padding-top:4px;padding-bottom: 4px\"><a target=\"_blank\" href=\"https://github.com/wclr/yalc\">https://github.com/wclr/yalc</a><img src=\"https://img.shields.io/github/stars/wclr/yalc?style=social\" /></div>\n\n<h2 id=\"实战\"><a href=\"#实战\" class=\"headerlink\" title=\"实战\"></a>实战</h2><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; ui 库\n👑 ~&#x2F;haotian&#x2F;ty&#x2F;code&#x2F;cds&#x2F;delivery-ui git:(feature_staff_dept) $ git checkout -b feature_staff_dept_2\n切换到一个新分支 &#39;feature_staff_dept_2&#39;\n👑 ~&#x2F;haotian&#x2F;ty&#x2F;code&#x2F;cds&#x2F;delivery-ui git:(feature_staff_dept_2) $ yalc publish\n@ty-fe&#x2F;delivery-ui@0.0.4-beta19 published in store.\n👑 ~&#x2F;haotian&#x2F;ty&#x2F;code&#x2F;cds&#x2F;delivery-ui git:(feature_staff_dept_2) ✗ $</code></pre>\n\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; 项目中\n👑 ~&#x2F;haotian&#x2F;ty&#x2F;code&#x2F;cds&#x2F;ty-delivery git:(feature_20221117_filter) ✗ $ yalc add @ty-fe&#x2F;delivery-ui\nCould not find package &#96;@ty-fe&#x2F;delivery-ui&#96; in store (&#x2F;Users&#x2F;haotian&#x2F;.yalc&#x2F;packages&#x2F;@ty-fe&#x2F;delivery-ui), skipping.\n👑 ~&#x2F;haotian&#x2F;ty&#x2F;code&#x2F;cds&#x2F;ty-delivery git:(feature_20221117_filter) ✗ $ yalc add @ty-fe&#x2F;delivery-ui\nPackage @ty-fe&#x2F;delivery-ui@0.0.4-beta19 added &#x3D;&#x3D;&gt; &#x2F;Users&#x2F;haotian&#x2F;haotian&#x2F;ty&#x2F;code&#x2F;cds&#x2F;ty-delivery&#x2F;node_modules&#x2F;@ty-fe&#x2F;delivery-ui\n👑 ~&#x2F;haotian&#x2F;ty&#x2F;code&#x2F;cds&#x2F;ty-delivery git:(feature_20221117_filter) ✗ $</code></pre>\n\n<img src=\"http://t-blog-images.aijs.top/img/202212191343617.webp\" style=\"width:500px;max-width:100%\" />\n\n<h2 id=\"没更新\"><a href=\"#没更新\" class=\"headerlink\" title=\"没更新\"></a>没更新</h2><h3 id=\"1-没更新打包产物\"><a href=\"#1-没更新打包产物\" class=\"headerlink\" title=\"1. 没更新打包产物\"></a>1. 没更新打包产物</h3><p>页面还是老代码，查查原因，原来是 dist 目录，dist 是 ui 库打包产物，没有打包</p>\n<img src=\"http://t-blog-images.aijs.top/img/202212191359041.webp\" />\n\n<h3 id=\"2-更新版本号\"><a href=\"#2-更新版本号\" class=\"headerlink\" title=\"2. 更新版本号\"></a>2. 更新版本号</h3><p>ui build 时候更改版本号,yalc push 新版本</p>\n<h3 id=\"3-应用到的项目有缓存\"><a href=\"#3-应用到的项目有缓存\" class=\"headerlink\" title=\"3. 应用到的项目有缓存\"></a>3. 应用到的项目有缓存</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 我的是公司定制的 nextjs项目\n# 清理next 缓存\n#  rm -rf .&#x2F;client&#x2F;.next\n</code></pre>\n\n<h3 id=\"4-项目中-yalc-update\"><a href=\"#4-项目中-yalc-update\" class=\"headerlink\" title=\"4. 项目中 yalc update\"></a>4. 项目中 yalc update</h3><h3 id=\"5-刷新页面\"><a href=\"#5-刷新页面\" class=\"headerlink\" title=\"5. 刷新页面\"></a>5. 刷新页面</h3><h2 id=\"gitignore\"><a href=\"#gitignore\" class=\"headerlink\" title=\".gitignore\"></a>.gitignore</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 忽略调试的文件\n.yalc</code></pre>\n\n<img src=\"http://t-blog-images.aijs.top/img/202212201647106.webp\" style=\"width:500px;max-width:100%\" />\n\n<h1 id=\"chatGPT\"><a href=\"#chatGPT\" class=\"headerlink\" title=\"chatGPT\"></a>chatGPT</h1><h2 id=\"介绍下-npm-yalc\"><a href=\"#介绍下-npm-yalc\" class=\"headerlink\" title=\"介绍下 npm yalc\"></a>介绍下 npm yalc</h2><p>npm yalc 是一个用于本地开发和测试的工具，它允许你在项目之间共享和管理代码的依赖关系。它的工作原理是将代码库链接到你的项目中，而不是直接使用 npm 安装依赖。</p>\n<p>使用 yalc，你可以将自己的代码库发布到本地存储库，并在其他项目中引用它。这对于跨项目共享代码、快速迭代和测试功能非常有用。它可以帮助你在不发布到 npm 上的情况下，在多个项目中共享代码，同时保持对代码的实时更改。</p>\n<p>下面是一些使用 yalc 的常见步骤：</p>\n<ol>\n<li><p>首先，全局安装 yalc，可以使用以下命令进行安装：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm install -g yalc</code></pre>\n</li>\n<li><p>在你的代码库目录中，使用以下命令将其发布到本地存储库：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">yalc publish</code></pre>\n</li>\n<li><p>在你希望使用该代码库的项目目录中，使用以下命令引入该代码库：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">yalc add &lt;package-name&gt;</code></pre>\n</li>\n<li><p>在项目中使用该代码库，就好像它是通过 npm 安装的一样。你可以通过导入或引用该包来使用其中的功能。</p>\n</li>\n<li><p>当你对代码库进行更改时，可以使用以下命令将更改发布到项目中：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">yalc push</code></pre>\n\n<p>这将使得项目中使用该代码库的内容保持最新。</p>\n</li>\n</ol>\n<p>此外，还有其他一些 yalc 的命令和选项，用于处理依赖关系、更新、移除等操作。你可以通过运行 <code>yalc --help</code> 查看完整的命令列表和用法说明。</p>\n<p>总结来说，npm yalc 是一个方便的工具，可以帮助你在本地开发和测试过程中共享和管理代码的依赖关系。它提供了一种快速、实时的方式来共享代码库，而不必依赖于 npm 注册表。</p>\n<h2 id=\"yalc-常用命令\"><a href=\"#yalc-常用命令\" class=\"headerlink\" title=\"yalc 常用命令\"></a>yalc 常用命令</h2><p>以下是 yalc 的一些常用命令和其功能：</p>\n<ol>\n<li><p><code>yalc init</code>：在当前目录中初始化一个新的 yalc 仓库，用于发布和共享代码库。</p>\n</li>\n<li><p><code>yalc publish</code>：将当前目录中的代码库发布到本地 yalc 存储库，以便其他项目可以引用它。</p>\n</li>\n<li><p><code>yalc add &lt;package-name&gt;</code>：在当前项目中添加一个外部代码库依赖，该代码库由 yalc 进行管理。</p>\n</li>\n<li><p><code>yalc update</code>：更新当前项目中所有已添加的 yalc 代码库的依赖。</p>\n</li>\n<li><p><code>yalc push</code>：将对已添加的 yalc 代码库所做的更改推送到引用它的项目中。</p>\n</li>\n<li><p><code>yalc list</code>：列出当前项目中所有已添加的 yalc 代码库和它们的版本信息。</p>\n</li>\n<li><p><code>yalc remove &lt;package-name&gt;</code>：从当前项目中移除指定的 yalc 代码库依赖。</p>\n</li>\n<li><p><code>yalc check</code>：检查当前项目中的所有已添加的 yalc 代码库是否需要更新。</p>\n</li>\n<li><p><code>yalc clean</code>：清理当前项目中的所有已添加的 yalc 代码库，删除它们的链接。</p>\n</li>\n<li><p><code>yalc version &lt;new-version&gt;</code>：为当前代码库设置一个新的版本号。</p>\n</li>\n</ol>\n<p>这些是一些常见的 yalc 命令，用于发布、添加、更新、移除和管理代码库之间的依赖关系。你可以根据需要选择适合你的工作流程的命令来使用 yalc。另外，你可以通过运行 <code>yalc --help</code> 查看完整的命令列表和详细的命令用法说明。</p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"https://juejin.cn/post/7033400734746066957\" target=\"_blank\" >yalc: 可能是最好的前端 link 调试方案（</a></p>\n","text":"背景使用 npm link&#x2F;yarn link&#x2F;yalc 等工具，通过软链接的方式进行调试，影响 node_modules 中原本的包; yalc 在开发和创作多个包（私有或公共）时，您通常会发现自己需要在本地环境中正在处理的其他项目中使用最新的&#x2F;W...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"Npm","slug":"Npm","count":2,"path":"api/categories/Npm.json"}],"tags":[{"name":"chatGPT2021","slug":"chatGPT2021","count":15,"path":"api/tags/chatGPT2021.json"},{"name":"Npm","slug":"Npm","count":2,"path":"api/tags/Npm.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">背景</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E9%9D%9E-chatGpt\"><span class=\"toc-text\">非 chatGpt</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#yalc\"><span class=\"toc-text\">yalc</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E6%88%98\"><span class=\"toc-text\">实战</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B2%A1%E6%9B%B4%E6%96%B0\"><span class=\"toc-text\">没更新</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E6%B2%A1%E6%9B%B4%E6%96%B0%E6%89%93%E5%8C%85%E4%BA%A7%E7%89%A9\"><span class=\"toc-text\">1. 没更新打包产物</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E6%9B%B4%E6%96%B0%E7%89%88%E6%9C%AC%E5%8F%B7\"><span class=\"toc-text\">2. 更新版本号</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E5%BA%94%E7%94%A8%E5%88%B0%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%9C%89%E7%BC%93%E5%AD%98\"><span class=\"toc-text\">3. 应用到的项目有缓存</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E9%A1%B9%E7%9B%AE%E4%B8%AD-yalc-update\"><span class=\"toc-text\">4. 项目中 yalc update</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2\"><span class=\"toc-text\">5. 刷新页面</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#gitignore\"><span class=\"toc-text\">.gitignore</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#chatGPT\"><span class=\"toc-text\">chatGPT</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%8B%E7%BB%8D%E4%B8%8B-npm-yalc\"><span class=\"toc-text\">介绍下 npm yalc</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#yalc-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">yalc 常用命令</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">参考链接</span></a></li></ol></li></ol>","author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"组件库开发 Storybook(待补)","uid":"2f2a1dbb480f2860f9722fc87c8a2adf","slug":"2022-11-24storybook","date":"2022-11-24T01:37:43.000Z","updated":"2022-12-22T13:36:21.797Z","comments":true,"path":"api/articles/2022-11-24storybook.json","keywords":null,"cover":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuymoMI6bs_b5ORCcr6bysEDzWi5It3fSfcg&usqp=CAU","text":"背景最近维护一个项目，项目中的业务组件是单独维护的，至于为什么，不是很清楚。 疑问优点 难道只是为了开发方便，项目用的公司内定的 nextjs 3.x.x 的版本？webpack 编译速度太慢？ 缺点 难复用：因为接口是写到业务组件中的，其他项目要想复，有一定的难度（虽然公司应用...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"Npm","slug":"Npm","count":2,"path":"api/categories/Npm.json"}],"tags":[{"name":"Npm","slug":"Npm","count":2,"path":"api/tags/Npm.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"面试开放题","uid":"3658bc969a0a36d2986a0fd02f9eefb3","slug":"2022-11-23面试","date":"2022-11-23T08:10:10.000Z","updated":"2022-11-26T07:05:03.117Z","comments":true,"path":"api/articles/2022-11-23面试.json","keywords":null,"cover":[],"text":"几个问题1、麻烦你自我介绍一下 2、你对加班怎么看 3、说说你的优点 4、说说你的缺点5、你的职业规划是什么？ 6、你的核心竞争力是什么？7、你怎么处理和上级的冲突？ 8、你离职的原因是什么 8、你的期望薪资是多少？ 9、你有什么要反问我的吗？参考链接迄今为止，最靠谱的面试问题（...","link":"","photos":[],"count_time":{"symbolsCount":154,"symbolsTime":"1 mins."},"categories":[{"name":"面试","slug":"面试","count":5,"path":"api/categories/面试.json"}],"tags":[{"name":"面试","slug":"面试","count":20,"path":"api/tags/面试.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
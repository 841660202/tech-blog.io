{"title":"redux 源码 1","uid":"af1b42282a210ca45f834a49b50349c6","slug":"2022-05-25.redux","date":"2022-05-25T05:48:17.000Z","updated":"2022-09-16T14:57:59.791Z","comments":true,"path":"api/articles/2022-05-25.redux.json","keywords":null,"cover":[],"content":"<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>A Predictable State Container for JS Apps</p>\n<h2 id=\"package-json\"><a href=\"#package-json\" class=\"headerlink\" title=\"package.json\"></a>package.json</h2><pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\">&#123;\n  &quot;name&quot;: &quot;redux&quot;,\n  &quot;version&quot;: &quot;5.0.0-alpha.0&quot;,\n  &quot;description&quot;: &quot;Predictable state container for JavaScript apps&quot;,\n\n\n  &quot;keywords&quot;: [\n    &quot;redux&quot;,\n    &quot;reducer&quot;,  &#x2F;&#x2F; reducer, redux构成组成之一\n    &quot;state&quot;,    &#x2F;&#x2F; 状态管理\n    &quot;predictable&quot;,   &#x2F;&#x2F; 可预测的\n    &quot;functional&quot;,    &#x2F;&#x2F; 纯函数的\n    &quot;immutable&quot;,     &#x2F;&#x2F; 不可变的\n    &quot;hot&quot;,\n    &quot;live&quot;,\n    &quot;replay&quot;,        &#x2F;&#x2F; 回放\n    &quot;flux&quot;,          &#x2F;&#x2F; redux对flux的改进\n    &quot;elm&quot;            &#x2F;&#x2F; Elm 是一门专注于Web前端的纯函数式语言, reducer受elm启发\n  ],\n\n\n  &#x2F;&#x2F; 入口\n  &quot;main&quot;: &quot;lib&#x2F;redux.js&quot;,\n\n\n  &#x2F;&#x2F; unpkg 是一个内容源自 npm 的全球快速 CDN, 它能以快速而简单的方式提供任意包、任意文件，通过类似这样的 URL ：unpkg.com&#x2F;:package@:version&#x2F;:file\n  &#x2F;&#x2F; 当你访问: https:&#x2F;&#x2F;unpkg.com&#x2F;redux@4.0.3&#x2F;dist&#x2F;redux.min.js 是对应redux@4.0.3版本的压缩后的js文件\n  &#x2F;&#x2F; 当你访问: https:&#x2F;&#x2F;unpkg.com&#x2F;redux ——根据package.json配置的unpkg, 重定向为--—&gt; https:&#x2F;&#x2F;unpkg.com&#x2F;redux@4.0.4&#x2F;dist&#x2F;redux.js , 做了两次重定向\n  &#x2F;&#x2F; 如何你访问: https:&#x2F;&#x2F;unpkg.com&#x2F;redux&#x2F; (注意redux后有&#x2F;), 是一个页面\n  &quot;unpkg&quot;: &quot;dist&#x2F;redux.js&quot;, &#x2F;&#x2F; 用unpkg的裸url访问时, 指定到该文件\n\n\n  &#x2F;**\n    module\n      点击 Setting up multi-platform npm packages 查看相关介绍。\n\n      就像 main 字段一样，定义一个针对 es6 模块及语法的入口文件。\n\n      构建工具在构建项目的时候，如果发现了这个字段，会首先使用这个字段指向的文件，如果未定义，则回退到 main 字段指向的文件。\n\n      支持的工具：\n\n      rollup\n      webpack\n  **&#x2F;\n  &quot;module&quot;: &quot;es&#x2F;redux.js&quot;,\n\n\n\n&#x2F;&#x2F; TypeScript是javascript 的超集, typings&#x2F;types字段, 定义了TypeScript的入口文件\n  &quot;types&quot;: &quot;types&#x2F;index.d.ts&quot;,\n\n\n\n  &#x2F;&#x2F; 发布上传内容\n  &#x2F;&#x2F; 是一个可选字段, 用来描述作将软件包作为依赖项安装时要包含的条目, 相当于白名单, 类似.gitignore类似的语法, files字段中包含的文件不能通过.npmignore或.gitignore排除\n  &quot;files&quot;: [\n    &quot;dist&quot;,\n    &quot;lib&quot;,\n    &quot;es&quot;,\n    &quot;src&quot;,\n    &quot;types&quot;\n  ],\n  &quot;scripts&quot;: &#123;\n    ...\n  &#125;,\n  &#x2F;&#x2F; 表示在生产环境下使用该依赖, 对应 npm install xx -S 或 npm install xx --save\n  &quot;dependencies&quot;: &#123;\n    &quot;@babel&#x2F;runtime&quot;: &quot;^7.16.7&quot;\n  &#125;,\n  &#x2F;&#x2F; 表示仅在开发环境下使用, 不会在生产环境中使用的依赖, 对应 npm install xx -D 或 npm install xx --save-dev\n  &quot;devDependencies&quot;: &#123;\n   ...\n  &#125;,\n  &quot;npmName&quot;: &quot;redux&quot;,\n\n\n  &#x2F;&#x2F; npm文件映射。把需要同步到 cdnjs 的文件配置在这里。\n  &quot;npmFileMap&quot;: [\n    &#123;\n      &quot;basePath&quot;: &quot;&#x2F;dist&#x2F;&quot;,\n      &quot;files&quot;: [\n        &quot;*.js&quot;\n      ]\n    &#125;\n  ],\n\n  &#x2F;&#x2F; webpack相关字段, 声明该模块是否包含 sideEffects（副作用），从而可以为 tree-shaking 提供更大的优化空间。\n  &quot;sideEffects&quot;: false\n&#125;\n</code></pre>\n<h2 id=\"version字段\"><a href=\"#version字段\" class=\"headerlink\" title=\"version字段\"></a>version字段</h2><p>包的版本, 必须有, 要符合<a href=\"https://docs.npmjs.com/about-semantic-versioning\">semantic versioning guidelines</a>, 参考 <a href=\"https://semver.org/lang/zh-CN/\">语义化版本控制规范</a>, 建议仔细通读<br><img src=\"http://t-blog-images.aijs.top/img/20220525140247.webp\" width=600 style=\"object-fit: content\"/></p>\n<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><p><a href=\"http://givencui.com/index.php/archives/29/\">配合redux项目深度了解package.json</a><br><a href=\"https://docs.npmjs.com/about-semantic-versioning\">semantic versioning guidelines</a><br><a href=\"https://semver.org/lang/zh-CN/\">语义化版本控制规范</a></p>\n<h2 id=\"源码目录\"><a href=\"#源码目录\" class=\"headerlink\" title=\"源码目录\"></a>源码目录</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">.\n├── applyMiddleware.ts\n├── bindActionCreators.ts\n├── combineReducers.ts\n├── compose.ts\n├── createStore.ts\n├── index.ts\n├── types\n│   ├── actions.ts\n│   ├── middleware.ts\n│   ├── reducers.ts\n│   └── store.ts\n└── utils\n    ├── actionTypes.ts\n    ├── formatProdErrorMessage.ts\n    ├── isPlainObject.ts\n    ├── kindOf.ts\n    ├── symbol-observable.ts\n    └── warning.ts\n\n2 directories, 16 files</code></pre>\n\n<h2 id=\"index-ts\"><a href=\"#index-ts\" class=\"headerlink\" title=\"index.ts\"></a>index.ts</h2><pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">export &#123;\n  createStore,\n  combineReducers,\n  bindActionCreators,\n  applyMiddleware,\n  compose,\n  __DO_NOT_USE__ActionTypes\n&#125;</code></pre>","text":"介绍A Predictable State Container for JS Apps package.json&#123; &quot;name&quot;: &quot;redux&quot;, &quot;version&quot;: &quot;5.0.0-alpha.0...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"React","slug":"React","count":18,"path":"api/categories/React.json"}],"tags":[{"name":"redux","slug":"redux","count":6,"path":"api/tags/redux.json"},{"name":"源码","slug":"源码","count":14,"path":"api/tags/源码.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">介绍</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#package-json\"><span class=\"toc-text\">package.json</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#version%E5%AD%97%E6%AE%B5\"><span class=\"toc-text\">version字段</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83\"><span class=\"toc-text\">参考</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%BA%90%E7%A0%81%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">源码目录</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#index-ts\"><span class=\"toc-text\">index.ts</span></a></li></ol>","author":{"name":"陈海龙","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"需要就学呗，多大点事😂","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"redux 源码 2","uid":"da6549350c9a9d927d67bdb10bc76a3c","slug":"2022-05-25.redux2","date":"2022-05-25T13:32:54.000Z","updated":"2022-09-16T14:58:02.583Z","comments":true,"path":"api/articles/2022-05-25.redux2.json","keywords":null,"cover":[],"text":"redux 简介Predictable state container for JavaScript apps 字面意思 js应用可预测状态容器 怎么用，为什么用看官网。。。 createStore代码注释如下 redux store持有state树，唯一可以改变store中数据...","link":"","photos":[],"count_time":{"symbolsCount":"24k","symbolsTime":"22 mins."},"categories":[{"name":"React","slug":"React","count":18,"path":"api/categories/React.json"}],"tags":[{"name":"redux","slug":"redux","count":6,"path":"api/tags/redux.json"},{"name":"源码","slug":"源码","count":14,"path":"api/tags/源码.json"}],"author":{"name":"陈海龙","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"需要就学呗，多大点事😂","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"react-redux  源码2","uid":"d512c56f4cbf1792b4d8bab0668985ad","slug":"2022-05-24react-redux2","date":"2022-05-24T13:15:31.000Z","updated":"2022-09-16T14:57:51.357Z","comments":true,"path":"api/articles/2022-05-24react-redux2.json","keywords":null,"cover":[],"text":"源码版本&quot;version&quot;: &quot;8.0.2&quot;, Provider 主要作用通过subscription调用redux中store的subscription产生订阅，订阅内容是onStateChange的回调 通过react的Provider...","link":"","photos":[],"count_time":{"symbolsCount":"30k","symbolsTime":"27 mins."},"categories":[{"name":"React","slug":"React","count":18,"path":"api/categories/React.json"}],"tags":[{"name":"react-redux","slug":"react-redux","count":2,"path":"api/tags/react-redux.json"},{"name":"redux","slug":"redux","count":6,"path":"api/tags/redux.json"},{"name":"源码","slug":"源码","count":14,"path":"api/tags/源码.json"}],"author":{"name":"陈海龙","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"需要就学呗，多大点事😂","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
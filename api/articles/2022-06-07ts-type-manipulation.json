{"title":"7.Typescriptæ‰‹å†Œ ç±»å‹æ“ä½œ","uid":"62218ddca7698d868da0d101af067d2c","slug":"2022-06-07ts-type-manipulation","date":"2022-06-08T03:20:35.000Z","updated":"2022-09-16T13:54:56.128Z","comments":true,"path":"api/articles/2022-06-07ts-type-manipulation.json","keywords":null,"cover":"https://img0.baidu.com/it/u=86492913,3057347241&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=208","content":"<h2 id=\"ts-ç±»å‹å¦‚ä½•è°ƒè¯•\"><a href=\"#ts-ç±»å‹å¦‚ä½•è°ƒè¯•\" class=\"headerlink\" title=\"ts ç±»å‹å¦‚ä½•è°ƒè¯•\"></a>ts ç±»å‹å¦‚ä½•è°ƒè¯•</h2><ul>\n<li>ä¸æ˜¯ä»£ç é€»è¾‘å¦‚ä½•è°ƒè¯•ï¼Œæ²¡æƒ³åˆ°</li>\n</ul>\n<h2 id=\"ts-è‡ªå®šä¹‰ç±»å‹å¦‚ä½•æ‰“å°\"><a href=\"#ts-è‡ªå®šä¹‰ç±»å‹å¦‚ä½•æ‰“å°\" class=\"headerlink\" title=\"ts è‡ªå®šä¹‰ç±»å‹å¦‚ä½•æ‰“å°\"></a>ts è‡ªå®šä¹‰ç±»å‹å¦‚ä½•æ‰“å°</h2><ul>\n<li>ä¸æ˜¯ js çš„ç»“æœå¦‚ä½•æ‰“å°ï¼Œæ²¡æƒ³åˆ°</li>\n</ul>\n<h2 id=\"Creating-Types-from-Types\"><a href=\"#Creating-Types-from-Types\" class=\"headerlink\" title=\"Creating Types from Types\"></a>Creating Types from Types</h2><p>ä»å·²æœ‰ç±»å‹ä¸­åˆ›å»ºç±»å‹</p>\n<p>TypeScript çš„ç±»å‹ç³»ç»Ÿéå¸¸å¼ºå¤§ï¼Œå› ä¸ºå®ƒå…è®¸è¡¨è¾¾ç±»å‹çš„å¦ä¸€ç§è¡¨è¾¾æ–¹å¼ã€‚<br>æœ€ç®€å•çš„æ–¹å¼æ˜¯æ³›å‹ï¼Œæˆ‘ä»¬å®é™…ä¸Šæœ‰ä¸€å¤§å †çš„ç±»å‹æ“ä½œç¬¦å¯ç”¨ã€‚è¿˜å¯ä»¥è¡¨è¾¾ç±»å‹çš„å¦ä¸€ç§è¡¨è¾¾æ–¹å¼ï¼Œå°±æ˜¯æŠŠå·²æœ‰çš„å€¼ä½œä¸ºç±»å‹ã€‚<br>é€šè¿‡åˆå¹¶å¤šç§ç±»å‹æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥è¡¨è¾¾å¤æ‚çš„æ“ä½œå’Œå€¼ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä»‹ç»ä»¥å¦ä¸€ä¸ªç±»å‹æˆ–å€¼ä¸ºåŸºç¡€å¦‚ä½•è¡¨è¾¾ä¸€ä¸ªæ–°ç±»å‹ã€‚</p>\n<p><code>ç®€å•æ¥è¯´ï¼šä½¿ç”¨ èŒƒå‹ æˆ– 6ç§è¡¨è¾¾å¼ æ¥åˆ›å»ºæ–°ç±»å‹</code></p>\n<ul>\n<li><p>èŒƒå‹ - ç±»å‹éœ€è¦å‚æ•°</p>\n</li>\n<li><p>Keyof Type Operator - ç”¨ keyof æ“ä½œå»åˆ›å»ºæ–°ç±»å‹</p>\n</li>\n<li><p>Typeof Type Operator - ç”¨ typeof æ“ä½œå»åˆ›å»ºæ–°ç±»å‹</p>\n</li>\n<li><p>Indexed Access Types - ä½¿ç”¨ Type[â€˜aâ€™]è¯­æ³•å»è®¿é—®ä¸€ä¸ªç±»å‹çš„ä¸€éƒ¨åˆ†</p>\n</li>\n<li><p>Conditional Types - ç±»å‹è¡Œä¸ºåƒ if è¯­å¥ä¸€æ ·</p>\n</li>\n<li><p>Mapped Types - é€šè¿‡æ˜ å°„å·²æœ‰ç±»å‹çš„æ¯ä¸ªå±æ€§æ¥åˆ›å»ºæ–°ç±»å‹</p>\n</li>\n<li><p>Template Literal Types - é€šè¿‡æ¨¡æ¿å­—ç¬¦ä¸²æ¥æ”¹å˜å±æ€§çš„æ˜ å°„ç±»å‹</p>\n</li>\n</ul>\n<h2 id=\"Keyof-Type-Operator\"><a href=\"#Keyof-Type-Operator\" class=\"headerlink\" title=\"Keyof Type Operator\"></a>Keyof Type Operator</h2><ul>\n<li>è¿™ä¸ªæ“ä½œç¬¦å¯ä»¥è·å–ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰ keyï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ•°å­—çš„è”åˆç±»å‹ï¼Œæ¥ä¸‹æ¥çš„ç±»å‹ P æ˜¯è¿™ä¸ªç±»å‹çš„ç±»å‹ï¼š</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type P1 &#x3D; keyof any; &#x2F;&#x2F; æç¤ºï¼štype P1 &#x3D; string | number | symbol</code></pre>\n\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type Point &#x3D; &#123; x: number; y: number &#125;;\ntype P &#x3D; keyof Point; &#x2F;&#x2F; æç¤ºï¼štype P &#x3D; keyof Pointï¼Œè¿™ä¸ªæç¤ºç­‰äºæ²¡æç¤º</code></pre>\n\n<ul>\n<li>å¦‚æœè¿™ä¸ªç±»å‹æœ‰å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ç´¢å¼•ï¼Œkeyof å°±ä¼šè¿”å›è¿™ä¸ªç±»å‹ï¼š</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type Arrayish &#x3D; &#123; [n: number]: unknown &#125;;\ntype A &#x3D; keyof Arrayish; &#x2F;&#x2F;æç¤ºï¼štype A &#x3D; number\n\ntype Mapish &#x3D; &#123; [k: string]: boolean &#125;;\ntype M &#x3D; keyof Mapish; &#x2F;&#x2F; æç¤ºï¼štype M &#x3D; string | number\n\n&#x2F;&#x2F; --------------------------------------------------------------\n&#x2F;&#x2F; å¯¹äºArrayish\n\n&#x2F;&#x2F; å®ä¾‹1:ok\nvar a: Arrayish &#x3D; &#123;\n  1: &quot;string&quot;,\n  2: false,\n&#125;;\n&#x2F;&#x2F; å®ä¾‹2: ok\nvar a1: Arrayish &#x3D; [1, 2, 3, 4];\n\n&#x2F;&#x2F; å¯¹äº Mapish\nvar b: Mapish &#x3D; &#123;\n  name: true,\n  age: false,\n&#125;;</code></pre>\n\n<p>æ³¨æ„ï¼Œè¿™ä¸ªä¾‹å­ä¸­ï¼ŒM æ˜¯ string | number â€” è¿™æ˜¯å› ä¸º JavaScript å¯¹è±¡é”®æ˜¯æ€»æ˜¯è¢«å¼ºåˆ¶ä¸ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ obj[0] æ€»æ˜¯å’Œ obj[â€œ0â€] ç›¸åŒã€‚</p>\n<p>keyof ç±»å‹æ“ä½œç¬¦å¯ä»¥è·å–ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰ keyï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ•°å­—çš„è”åˆç±»å‹ï¼Œæ¥ä¸‹æ¥çš„ç±»å‹ P æ˜¯è¿™ä¸ªç±»å‹çš„ç±»å‹ï¼š</p>\n<h2 id=\"Typeof-type-operator\"><a href=\"#Typeof-type-operator\" class=\"headerlink\" title=\"Typeof type operator\"></a>Typeof type operator</h2><p>JavaScript ä¹Ÿæœ‰ä¸€ä¸ª typeof æ“ä½œç¬¦ï¼Œå¯ä»¥ç”¨åœ¨è¡¨è¾¾å¼ä¸­ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; Prints &quot;string&quot;\nconsole.log(typeof &quot;Hello world&quot;);</code></pre>\n\n<p>TypeScript å¢åŠ äº†ä¸€ä¸ª typeof æ“ä½œç¬¦ï¼Œå¯ä»¥ç”¨åœ¨ç±»å‹ä¸Šï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">let s &#x3D; &quot;hello&quot;;\nlet n: typeof s; &#x2F;&#x2F; æç¤ºï¼šlet n: string</code></pre>\n\n<h2 id=\"ReturnType\"><a href=\"#ReturnType\" class=\"headerlink\" title=\"ReturnType\"></a>ReturnType</h2><p>å¯¹äºåŸºæœ¬ç±»å‹ï¼Œtypeof æ“ä½œç¬¦æ²¡æœ‰æ„ä¹‰ï¼Œä½†æ˜¯ä¸å…¶ä»–ç±»å‹æ“ä½œç¬¦ç»“åˆä½¿ç”¨ï¼Œå¯ä»¥ç”¨ typeof æ“ä½œç¬¦æ¥å®ç°ä¸€äº›æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¼€å§‹ç”¨ ReturnType<T> æ¥è¡¨ç¤ºå‡½æ•°çš„è¿”å›ç±»å‹ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type Predicate &#x3D; (x: unknown) &#x3D;&gt; boolean;\ntype K &#x3D; ReturnType&lt;Predicate&gt;; &#x2F;&#x2F; æç¤º type K &#x3D; boolean</code></pre>\n\n<p>å¦‚æœæˆ‘ä»¬å°è¯•ä½¿ç”¨ ReturnType åœ¨å‡½æ•°åä¸Šï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªæŒ‡ç¤ºæ€§çš„é”™è¯¯ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">function f() &#123;\n  return &#123; x: 10, y: 3 &#125;;\n&#125;\ntype P &#x3D; ReturnType&lt;f&gt;;\n&#x2F;&#x2F; æç¤ºï¼š&#39;f&#39; refers to a value, but is being used as a type here. Did you mean &#39;typeof f&#39;?\n&#x2F;&#x2F; æç¤ºï¼š&#39;f&#39; æ¶‰åŠåˆ°ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯åœ¨è¿™é‡Œè¢«ä½¿ç”¨ä½œä¸ºç±»å‹ã€‚ä½ æ˜¯å¦æƒ³ä½¿ç”¨ &#39;typeof f&#39; æ¥ä»£æ›¿ &#39;f&#39;ï¼Ÿ</code></pre>\n\n<p>è®°ä½ï¼Œå€¼å’Œç±»å‹ä¸æ˜¯ä¸€å›äº‹ã€‚è¦å¼•ç”¨å€¼ f æ‰€æ‹¥æœ‰çš„ç±»å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ typeofï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">function f() &#123;\n  return &#123; x: 10, y: 3 &#125;;\n&#125;\ntype P &#x3D; ReturnType&lt;typeof f&gt;;\n\n&#x2F;**\n * æç¤º\n * type P &#x3D; &#123;\n    x: number;\n    y: number;\n&#125;\n**&#x2F;</code></pre>\n\n<p><strong>é™åˆ¶</strong></p>\n<p>typescript é€šå¸¸é™åˆ¶äº† typeof çš„è¡¨è¾¾å¼çš„ç±»å‹ã€‚<br>ç‰¹æ®Šçš„ï¼Œtypeof çš„è¡¨è¾¾å¼<code>åªèƒ½ç”¨äºæ ‡è¯†ç¬¦ï¼ˆå³å˜é‡åï¼‰å…¶å±æ€§</code>ã€‚è¿™ä¸ªé™åˆ¶æ˜¯ä¸ºäº†é¿å…å†™ä¸€äº›ä½ è®¤ä¸ºæ˜¯æ‰§è¡Œçš„ä»£ç ï¼Œä½†å®é™…ä¸Šå¹¶ä¸æ˜¯çš„ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">&#x2F;&#x2F; Meant to use &#x3D; ReturnType&lt;typeof msgbox&gt;\nlet shouldContinue: typeof msgbox(&quot;Are you sure you want to continue?&quot;);\n&#x2F;&#x2F; &#39;,&#39; expected.</code></pre>\n\n<h2 id=\"Indexed-Access-Types\"><a href=\"#Indexed-Access-Types\" class=\"headerlink\" title=\"Indexed Access Types\"></a>Indexed Access Types</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç´¢å¼•è®¿é—®ç±»å‹æ¥æŸ¥æ‰¾ä¸€ä¸ªç±»å‹çš„ç‰¹å®šå±æ€§ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type Person &#x3D; &#123; age: number; name: string; alive: boolean &#125;;\ntype Age &#x3D; Person[&quot;age&quot;]; &#x2F;&#x2F; æç¤ºï¼štype Age &#x3D; number</code></pre>\n\n<p>è¿™ä¸ªç´¢å¼•ç±»å‹æœ¬èº«æ˜¯ä¸€ä¸ªç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è”åˆï¼Œkeyof æˆ–è€…å…¶ä»–ç±»å‹ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type I1 &#x3D; Person[&quot;age&quot; | &quot;name&quot;]; &#x2F;&#x2F; æç¤ºï¼štype I1 &#x3D; string | number\n\ntype I2 &#x3D; Person[keyof Person]; &#x2F;&#x2F; æç¤ºï¼štype I2 &#x3D; string | number | boolean\n\ntype AliveOrName &#x3D; &quot;alive&quot; | &quot;name&quot;;\ntype I3 &#x3D; Person[AliveOrName]; &#x2F;&#x2F; æç¤ºï¼štype I3 &#x3D; string | boolean</code></pre>\n\n<p>ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå¦‚æœä½ å°è¯•ç´¢å¼•ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type I1 &#x3D; Person[&quot;alve&quot;];\nProperty &#39;alve&#39; does not exist on type &#39;Person&#39;.</code></pre>\n\n<p>å¦ä¸€ä¸ªä¾‹å­æ˜¯ä½¿ç”¨ number æ¥è·å–æ•°ç»„çš„å…ƒç´ ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ typeof æ¥æ–¹ä¾¿åœ°æ•è·æ•°ç»„å­—é¢é‡çš„å…ƒç´ ç±»å‹ã€‚</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">const MyArray &#x3D; [\n  &#123; name: &quot;Alice&quot;, age: 15 &#125;,\n  &#123; name: &quot;Bob&quot;, age: 23 &#125;,\n  &#123; name: &quot;Eve&quot;, age: 38 &#125;,\n];\n\ntype Person &#x3D; typeof MyArray[number];\n\n&#x2F;&#x2F; æç¤ºï¼štype Person &#x3D; &#123; name: string; age: number; &#125;\n\ntype Age &#x3D; typeof MyArray[number][&quot;age&quot;]; &#x2F;&#x2F; æç¤º type Age &#x3D; number;\n&#x2F;&#x2F; Or\ntype Age2 &#x3D; Person[&quot;age&quot;]; &#x2F;&#x2F; æç¤º type Age2 &#x3D; number;</code></pre>\n\n<p>ä½ åªèƒ½ä½¿ç”¨ç±»å‹æ¥ç´¢å¼•ï¼Œæ„å‘³ç€ä½ ä¸èƒ½ä½¿ç”¨ const æ¥åˆ›å»ºä¸€ä¸ªå˜é‡å¼•ç”¨ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">const key &#x3D; &quot;age&quot;;\ntype Age &#x3D; Person[key];\n&#x2F;&#x2F; Type &#39;key&#39; cannot be used as an index type.\n&#x2F;&#x2F; è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸º key æ˜¯ä¸€ä¸ªå­—é¢é‡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå˜é‡ã€‚\n&#x2F;&#x2F; &#39;key&#39; refers to a value, but is being used as a type here. Did you mean &#39;typeof key&#39;?\n&#x2F;&#x2F; è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸º key æ¶‰åŠåˆ°ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯åœ¨è¿™é‡Œè¢«ä½¿ç”¨ä½œä¸ºç±»å‹ã€‚ä½ æ˜¯å¦æƒ³ä½¿ç”¨ &#39;typeof key&#39; æ¥ä»£æ›¿ &#39;key&#39;ï¼Ÿ</code></pre>\n\n<p>ç„¶è€Œï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç±»å‹åˆ«åæ¥æ›¿æ¢ç›¸åŒçš„é£æ ¼çš„é‡æ„ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type key &#x3D; &quot;age&quot;;\ntype Age &#x3D; Person[key];</code></pre>\n\n<h2 id=\"Conditional-Types\"><a href=\"#Conditional-Types\" class=\"headerlink\" title=\"Conditional Types\"></a>Conditional Types</h2><p>At the heart of most useful programs, we have to make decisions based on input. JavaScript programs are no different, but given the fact that values can be easily introspected, those decisions are also based on the types of the inputs. Conditional types help describe the relation between the types of inputs and outputs.<br>åœ¨æœ€å¸¸è§çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è¾“å…¥æ¥åšå†³ç­–ã€‚ JavaScript ç¨‹åºæ˜¯ä¸åŒçš„ï¼Œä½†æ˜¯ç»™å®šäº†è¿™ä¸ªäº‹å®ï¼Œé‚£äº›å†³ç­–æ˜¯æ ¹æ®è¾“å…¥çš„ç±»å‹æ¥åšçš„ã€‚æ¡ä»¶ç±»å‹å¸®åŠ©æè¿°è¾“å…¥å’Œè¾“å‡ºç±»å‹ä¹‹é—´çš„å…³ç³»ã€‚</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">interface Animal &#123;\n  live(): void;\n&#125;\ninterface Dog extends Animal &#123;\n  woof(): void;\n&#125;\n\ntype Example1 &#x3D; Dog extends Animal ? number : string; &#x2F;&#x2F; æç¤ºï¼štype Example1 &#x3D; number\n\ntype Example2 &#x3D; RegExp extends Animal ? number : string; &#x2F;&#x2F; æç¤ºï¼štype Example2 &#x3D; string</code></pre>\n\n<p>æ¡ä»¶ç±»å‹çš„è¡¨è¾¾å¼åƒ JavaScript ä¸­çš„æ¡ä»¶è¡¨è¾¾å¼ä¸€æ ·ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">SomeType extends OtherType ? TrueType : FalseType;</code></pre>\n\n<p><strong>æ­¤æ®µå†…å®¹ï¼ŒåŸæ–‡ä¿ç•™</strong><br>When the type on the left of the extends is assignable to the one on the right, then youâ€™ll get the type in the first branch (the â€œtrueâ€ branch); otherwise youâ€™ll get the type in the latter branch (the â€œfalseâ€ branch).</p>\n<p>å½“ extends å·¦è¾¹çš„ç±»å‹å¯ä»¥èµ‹å€¼ç»™å³è¾¹çš„ç±»å‹æ—¶ï¼Œä½ ä¼šå¾—åˆ°ç¬¬ä¸€ä¸ªåˆ†æ”¯çš„ç±»å‹ï¼ˆâ€œtrueâ€åˆ†æ”¯ï¼‰ï¼›å¦åˆ™ä½ ä¼šå¾—åˆ°ç¬¬äºŒä¸ªåˆ†æ”¯çš„ç±»å‹ï¼ˆâ€œfalseâ€åˆ†æ”¯ï¼‰ã€‚</p>\n<p>From the examples above, conditional types might not immediately seem useful - we can tell ourselves whether or not Dog extends Animal and pick number or string! But the power of conditional types comes from using them with generics.<br>ä»ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹åˆ°æ¡ä»¶ç±»å‹å¯èƒ½ä¸ä¼šç«‹å³çœ‹èµ·æ¥å¾ˆæœ‰ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰è‡ªå·± Dog æ˜¯å¦ç»§æ‰¿äº† Animalï¼Œç„¶åé€‰æ‹© number æˆ– stringï¼ä½†æ˜¯æ¡ä»¶ç±»å‹çš„åŠ›é‡æ¥è‡ªäºä½¿ç”¨å®ƒä»¬ä¸æ³›å‹ã€‚</p>\n<p>For example, letâ€™s take the following createLabel function:<br>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸‹é¢çš„ createLabel å‡½æ•°æ‹¿æ¥è¯´è¯´ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">interface IdLabel &#123;\n  id: number &#x2F;* some fields *&#x2F;;\n&#125;\ninterface NameLabel &#123;\n  name: string &#x2F;* other fields *&#x2F;;\n&#125;\n\nfunction createLabel(id: number): IdLabel;\nfunction createLabel(name: string): NameLabel;\nfunction createLabel(nameOrId: string | number): IdLabel | NameLabel;\nfunction createLabel(nameOrId: string | number): IdLabel | NameLabel &#123;\n  throw &quot;unimplemented&quot;;\n&#125;</code></pre>\n\n<p>These overloads for createLabel describe a single JavaScript function that makes a choice based on the types of its inputs. Note a few things:<br>è¿™äº› createLabel çš„é‡è½½æè¿°äº†ä¸€ä¸ªå•ä¸€çš„ JavaScript å‡½æ•°ï¼Œå®ƒæ ¹æ®è¾“å…¥çš„ç±»å‹æ¥åšå†³ç­–ã€‚è¯·æ³¨æ„ä¸€äº›äº‹æƒ…ï¼š</p>\n<p>If a library has to make the same sort of choice over and over throughout its API, this becomes cumbersome.<br>We have to create three overloads: one for each case when weâ€™re sure of the type (one for string and one for number), and one for the most general case (taking a string | number). For every new type createLabel can handle, the number of overloads grows exponentially.<br>å¦‚æœä¸€ä¸ªåº“éœ€è¦åœ¨å…¶ API ä¸­é‡å¤ä½¿ç”¨ç›¸åŒçš„é€‰æ‹©ï¼Œè¿™å°±å˜å¾—éå¸¸éº»çƒ¦ã€‚æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸‰ä¸ªé‡è½½ï¼šä¸€ä¸ªå½“æˆ‘ä»¬çŸ¥é“ç±»å‹æ—¶ï¼Œä¸€ä¸ªå½“æˆ‘ä»¬çŸ¥é“ç±»å‹æ—¶ï¼Œä¸€ä¸ªå½“æˆ‘ä»¬ä¸çŸ¥é“ç±»å‹æ—¶ã€‚å¯¹äºæ¯ä¸ªæ–°çš„ç±»å‹ createLabel å¯ä»¥å¤„ç†ï¼Œé‡è½½çš„æ•°é‡å°±ä¼šæŒ‡æ•°å¢é•¿ã€‚<br>Instead, we can encode that logic in a conditional type:<br>åä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¡ä»¶ç±»å‹æ¥è¡¨ç¤ºé€»è¾‘ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type NameOrId&lt;T extends number | string&gt; &#x3D; T extends number\n  ? IdLabel\n  : NameLabel;</code></pre>\n\n<p>We can then use that conditional type to simplify our overloads down to a single function with no overloads.<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¡ä»¶ç±»å‹æ¥ç®€åŒ–æˆ‘ä»¬çš„é‡è½½ï¼Œåªæœ‰ä¸€ä¸ªå‡½æ•°ã€‚</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">function createLabel&lt;T extends number | string&gt;(idOrName: T): NameOrId&lt;T&gt; &#123;\n  throw &quot;unimplemented&quot;;\n&#125;\n\nlet a &#x3D; createLabel(&quot;typescript&quot;);\n\n&#x2F;&#x2F; æç¤ºï¼šlet a: NameLabel;\n\nlet b &#x3D; createLabel(2.8);\n\n&#x2F;&#x2F; æç¤ºï¼šlet b: IdLabel;\n\nlet c &#x3D; createLabel(Math.random() ? &quot;hello&quot; : 42);\n&#x2F;&#x2F; æç¤ºï¼šlet c: NameLabel | IdLabel;</code></pre>\n\n<ul>\n<li>Conditional Type Constraints</li>\n</ul>\n<p>æ¡ä»¶ç±»å‹çº¦æŸ</p>\n<p>Often, the checks in a conditional type will provide us with some new information. Just like with narrowing with type guards can give us a more specific type, the true branch of a conditional type will further constrain generics by the type we check against.<br>é€šå¸¸ï¼Œåœ¨æ¡ä»¶ç±»å‹ä¸­çš„æ£€æŸ¥ä¼šæä¾›æˆ‘ä»¬ä¸€äº›æ–°çš„ä¿¡æ¯ã€‚åƒç±»å‹æ£€æŸ¥ä¸€æ ·ï¼Œé€šè¿‡ç±»å‹çº¦æŸå¯ä»¥ç»™æˆ‘ä»¬æ›´å…·ä½“çš„ç±»å‹ï¼Œæ¡ä»¶ç±»å‹çš„ true åˆ†æ”¯å°†é€šè¿‡æˆ‘ä»¬æ£€æŸ¥çš„ç±»å‹æ¥çº¦æŸæ³›å‹ã€‚<br>For example, letâ€™s take the following:<br>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸‹é¢çš„å‡½æ•°æ‹¿æ¥è¯´è¯´ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type MessageOf&lt;T&gt; &#x3D; T[&quot;message&quot;];\n&#x2F;&#x2F; Type &#39;&quot;message&quot;&#39; cannot be used to index type &#39;T&#39;.</code></pre>\n\n<p>In this example, TypeScript errors because T isnâ€™t known to have a property called message. We could constrain T, and TypeScript would no longer complain:</p>\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒTypeScript é”™è¯¯ï¼Œå› ä¸º T æ²¡æœ‰ä¸€ä¸ªå±æ€§å« messageã€‚æˆ‘ä»¬å¯ä»¥çº¦æŸ Tï¼ŒTypeScript ä¸ä¼šå†æŠ¥é”™äº†ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type MessageOf&lt;T extends &#123; message: unknown &#125;&gt; &#x3D; T[&quot;message&quot;];\n\ninterface Email &#123;\n  message: string;\n&#125;\n\ntype EmailMessageContents &#x3D; MessageOf&lt;Email&gt;;\n\n&#x2F;&#x2F; æç¤ºï¼štype EmailMessageContents &#x3D; string</code></pre>\n\n<p>However, what if we wanted MessageOf to take any type, and default to something like never if a message property isnâ€™t available? We can do this by moving the constraint out and introducing a conditional type:<br>ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ MessageOf å–ä»»æ„ç±»å‹ï¼Œå¹¶ä¸”é»˜è®¤ä¸ºæ²¡æœ‰ message å±æ€§çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type MessageOf&lt;T&gt; &#x3D; T extends &#123; message: unknown &#125; ? T[&quot;message&quot;] : never;\n\ninterface Email &#123;\n  message: string;\n&#125;\n\ninterface Dog &#123;\n  bark(): void;\n&#125;\n\ntype EmailMessageContents &#x3D; MessageOf&lt;Email&gt;;\n\n&#x2F;&#x2F; æç¤ºï¼štype EmailMessageContents &#x3D; string;\n\ntype DogMessageContents &#x3D; MessageOf&lt;Dog&gt;;\n\n&#x2F;&#x2F; æç¤ºï¼štype DogMessageContents &#x3D; never;</code></pre>\n\n<p>Within the true branch, TypeScript knows that T will have a message property.<br>åœ¨ true åˆ†æ”¯ä¸­ï¼ŒTypeScript çŸ¥é“ T æœ‰ä¸€ä¸ª message å±æ€§ã€‚</p>\n<p>As another example, we could also write a type called Flatten that flattens array types to their element types, but leaves them alone otherwise:<br>ä½œä¸ºå¦ä¸€ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç¼–å†™ä¸€ä¸ªåä¸º Flatten çš„ç±»å‹ï¼Œè¯¥ç±»å‹å°†æ•°ç»„ç±»å‹å±•å¹³ä¸ºå…¶å…ƒç´ ç±»å‹ï¼Œä½†åœ¨å…¶ä»–æƒ…å†µä¸‹ä¸ä½¿ç”¨å®ƒä»¬ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type Flatten&lt;T&gt; &#x3D; T extends any[] ? T[number] : T;\n\n&#x2F;&#x2F; Extracts out the element type. æå–å…ƒç´ ç±»å‹ã€‚\ntype Str &#x3D; Flatten&lt;string[]&gt;;\n\ntype Str &#x3D; string;\n\n&#x2F;&#x2F; Leaves the type alone. ä¿ç•™è¯¥ç±»å‹ã€‚\ntype Num &#x3D; Flatten&lt;number&gt;;\n\ntype Num &#x3D; number;</code></pre>\n\n<p>When Flatten is given an array type, it uses an indexed access with number to fetch out string[]â€™s element type. Otherwise, it just returns the type it was given.<br>å½“ Flatten ç»™å®šä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œå®ƒä½¿ç”¨ number ä¸‹æ ‡å¾—åˆ° string[]å…ƒç´ ç±»å‹ï¼Œå¦åˆ™ï¼Œä»…è¿”å›æ‰€ç»™ç±»å‹</p>\n<p>Inferring Within Conditional Types<br>åœ¨æ¡ä»¶ç±»å‹å†…æ¨æ–­</p>\n<p>We just found ourselves using conditional types to apply constraints and then extract out types. This ends up being such a common operation that conditional types make it easier.</p>\n<p>æˆ‘ä»¬åªæ˜¯å‘ç°è‡ªå·±ä½¿ç”¨æ¡ä»¶ç±»å‹æ¥åº”ç”¨çº¦æŸï¼Œç„¶åæå–å‡ºç±»å‹ã€‚è¿™æœ€ç»ˆæ˜¯ä¸€ç§å¸¸è§çš„æ“ä½œï¼Œæ¡ä»¶ç±»å‹ä½¿å…¶æ›´å®¹æ˜“å®ç°ã€‚</p>\n<p>Conditional types provide us with a way to infer from types we compare against in the true branch using the infer keyword. For example, we could have inferred the element type in Flatten instead of fetching it out â€œmanuallyâ€ with an indexed access type:</p>\n<p>æ¡ä»¶ç±»å‹ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§ä½¿ç”¨ infer å…³é”®å­—ä» true åˆ†æ”¯ä¸­æ¯”è¾ƒçš„ç±»å‹æ¨æ–­çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Flatten ä¸­æ¨æ–­å…ƒç´ ç±»å‹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç´¢å¼•è®¿é—®ç±»å‹â€œæ‰‹åŠ¨â€æå–å®ƒï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type Flatten&lt;Type&gt; &#x3D; Type extends Array&lt;infer Item&gt; ? Item : Type;</code></pre>\n\n<p>Here, we used the infer keyword to declaratively introduce a new generic type variable named Item instead of specifying how to retrieve the element type of T within the true branch. This frees us from having to think about how to dig through and probing apart the structure of the types weâ€™re interested in.</p>\n<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ infer å…³é”®å­—å£°æ˜æ€§åœ°å¼•å…¥ä¸€ä¸ªåä¸º Item çš„æ–°æ³›å‹ç±»å‹å˜é‡ï¼Œè€Œä¸æ˜¯æŒ‡å®šå¦‚ä½•åœ¨ true åˆ†æ”¯ä¸­æ£€ç´¢ T çš„å…ƒç´ ç±»å‹ã€‚è¿™ä½¿æˆ‘ä»¬ä¸å¿…æ€è€ƒå¦‚ä½•æŒ–æ˜å’Œæ¢ç´¢æˆ‘ä»¬æ„Ÿå…´è¶£çš„ç±»å‹çš„ç»“æ„ã€‚</p>\n<p>We can write some useful helper type aliases using the infer keyword. For example, for simple cases, we can extract the return type out from function types:</p>\n<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ infer å…³é”®å­—ç¼–å†™ä¸€äº›æœ‰ç”¨çš„åŠ©æ‰‹ç±»å‹åˆ«åã€‚ä¾‹å¦‚ï¼Œå¯¹äºç®€å•çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä»å‡½æ•°ç±»å‹ä¸­æå–è¿”å›ç±»å‹ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type GetReturnType&lt;Type&gt; &#x3D; Type extends (...args: never[]) &#x3D;&gt; infer Return\n  ? Return\n  : never;\n\ntype Num &#x3D; GetReturnType&lt;() &#x3D;&gt; number&gt;;\n\n&#x2F;&#x2F; æç¤ºï¼š type Num &#x3D; number\n\ntype Str &#x3D; GetReturnType&lt;(x: string) &#x3D;&gt; string&gt;;\n\n&#x2F;&#x2F; æç¤ºï¼štype Str &#x3D; string\n\ntype Bools &#x3D; GetReturnType&lt;(a: boolean, b: boolean) &#x3D;&gt; boolean[]&gt;;\n\n&#x2F;&#x2F; æç¤ºï¼š type Bools &#x3D; boolean[]</code></pre>\n\n<p>When inferring from a type with multiple call signatures (such as the type of an overloaded function), inferences are made from the last signature (which, presumably, is the most permissive catch-all case). It is not possible to perform overload resolution based on a list of argument types.<br>å½“ä»å…·æœ‰å¤šä¸ªè°ƒç”¨ç­¾åçš„ç±»å‹ï¼ˆä¾‹å¦‚é‡è½½å‡½æ•°çš„ç±»å‹ï¼‰è¿›è¡Œæ¨æ–­æ—¶ï¼Œå°†ä»æœ€åä¸€ä¸ªç­¾åè¿›è¡Œæ¨æ–­ï¼ˆè¿™å¯èƒ½æ˜¯æœ€å…è®¸çš„ä¸€ç½‘æ‰“å°½çš„æƒ…å†µï¼‰ã€‚æ— æ³•åŸºäºå‚æ•°ç±»å‹åˆ—è¡¨æ‰§è¡Œé‡è½½è§£æã€‚</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">declare function stringOrNum(x: string): number;\ndeclare function stringOrNum(x: number): string;\ndeclare function stringOrNum(x: string | number): string | number;\n\ntype T1 &#x3D; ReturnType&lt;typeof stringOrNum&gt;;\n\n&#x2F;&#x2F; æç¤ºï¼štype T1 &#x3D; string | number;</code></pre>\n\n<h2 id=\"Distributive-Conditional-Types\"><a href=\"#Distributive-Conditional-Types\" class=\"headerlink\" title=\"Distributive Conditional Types\"></a>Distributive Conditional Types</h2><p>åˆ†å¸ƒæ¡ä»¶ç±»å‹</p>\n<p>When conditional types act on a generic type, they become distributive when given a union type. For example, take the following:<br>å½“æ¡ä»¶ç±»å‹ä½œç”¨äºæ³›å‹ç±»å‹æ—¶ï¼Œå½“ç»™å®šä¸€ä¸ªè”åˆç±»å‹æ—¶ï¼Œå®ƒä»¬å°†æˆä¸ºåˆ†å¸ƒå¼çš„ã€‚ä¾‹å¦‚ï¼Œä»¥ä»¥ä¸‹å†…å®¹ä¸ºä¾‹ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type ToArray&lt;Type&gt; &#x3D; Type extends any ? Type[] : never;</code></pre>\n\n<p>If we plug a union type into ToArray, then the conditional type will be applied to each member of that union.<br>å¦‚æœæˆ‘ä»¬å°†ä¸€ä¸ªè”åˆç±»å‹æ’å…¥ ToArrayï¼Œé‚£ä¹ˆæ¡ä»¶ç±»å‹å°†åº”ç”¨äºè¯¥è”åˆçš„æ¯ä¸ªæˆå‘˜ã€‚</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type ToArray&lt;Type&gt; &#x3D; Type extends any ? Type[] : never;\n\ntype StrArrOrNumArr &#x3D; ToArray&lt;string | number&gt;;\n\n&#x2F;&#x2F; æç¤ºï¼štype StrArrOrNumArr &#x3D; string[] | number[];</code></pre>\n\n<p>What happens here is that StrArrOrNumArr distributes on:<br>è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">string | number;</code></pre>\n\n<p>and maps over each member type of the union, to what is effectively:<br>å¹¶æ˜ å°„åˆ°è”åˆç±»å‹æ¯ä¸ªæˆå‘˜ç±»å‹</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">ToArray&lt;string&gt; | ToArray&lt;number&gt;;</code></pre>\n\n<p>which leaves us with:<br>è¿™ç»™æˆ‘ä»¬ç•™ä¸‹äº†ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">string[] | number[];</code></pre>\n\n<p>Typically, distributivity is the desired behavior. To avoid that behavior, you can surround each side of the extends keyword with square brackets.<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œåˆ†å¸ƒå¼æ˜¯æ‰€éœ€çš„è¡Œä¸ºã€‚è¦é¿å…è¿™ç§è¡Œä¸ºï¼Œä½ å¯ä»¥åœ¨æ¯è¾¹ extends å…³é”®å­—ä¹‹å‰ä½¿ç”¨æ–¹æ‹¬å·ã€‚</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type ToArrayNonDist&lt;Type&gt; &#x3D; [Type] extends [any] ? Type[] : never;\n\n&#x2F;&#x2F; &#39;StrArrOrNumArr&#39; is no longer a union.\ntype StrArrOrNumArr &#x3D; ToArrayNonDist&lt;string | number&gt;;\n&#x2F;&#x2F; æç¤ºï¼štype StrArrOrNumArr &#x3D; (string | number)[];</code></pre>\n\n<h2 id=\"Return\"><a href=\"#Return\" class=\"headerlink\" title=\"Return\"></a>Return</h2><h2 id=\"æ¨¡æ¿å­—é¢é‡ç±»å‹ï¼ˆTemplate-Literal-Typesï¼‰\"><a href=\"#æ¨¡æ¿å­—é¢é‡ç±»å‹ï¼ˆTemplate-Literal-Typesï¼‰\" class=\"headerlink\" title=\"æ¨¡æ¿å­—é¢é‡ç±»å‹ï¼ˆTemplate Literal Typesï¼‰\"></a>æ¨¡æ¿å­—é¢é‡ç±»å‹ï¼ˆTemplate Literal Typesï¼‰</h2><p>æ¨¡æ¿å­—é¢é‡ç±»å‹ä»¥å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ä¸ºåŸºç¡€ï¼Œå¯ä»¥é€šè¿‡è”åˆç±»å‹æ‰©å±•æˆå¤šä¸ªå­—ç¬¦ä¸²ã€‚</p>\n<p>å®ƒä»¬è·Ÿ JavaScript çš„æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯ç›¸åŒçš„è¯­æ³•ï¼Œä½†æ˜¯åªèƒ½ç”¨åœ¨ç±»å‹æ“ä½œä¸­ã€‚å½“ä½¿ç”¨æ¨¡æ¿å­—é¢é‡ç±»å‹æ—¶ï¼Œå®ƒä¼šæ›¿æ¢æ¨¡æ¿ä¸­çš„å˜é‡ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å­—é¢é‡ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type World &#x3D; &quot;world&quot;;\n\ntype Greeting &#x3D; &#96;hello $&#123;World&#125;&#96;;\n&#x2F;&#x2F; type Greeting &#x3D; &quot;hello world&quot;</code></pre>\n\n<ul>\n<li>å½“æ¨¡æ¿ä¸­çš„å˜é‡æ˜¯ä¸€ä¸ªè”åˆç±»å‹æ—¶ï¼Œæ¯ä¸€ä¸ªå¯èƒ½çš„å­—ç¬¦ä¸²å­—é¢é‡éƒ½ä¼šè¢«è¡¨ç¤ºï¼š</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type EmailLocaleIDs &#x3D; &quot;welcome_email&quot; | &quot;email_heading&quot;;\ntype FooterLocaleIDs &#x3D; &quot;footer_title&quot; | &quot;footer_sendoff&quot;;\n\ntype AllLocaleIDs &#x3D; &#96;$&#123;EmailLocaleIDs | FooterLocaleIDs&#125;_id&#96;;\n&#x2F;&#x2F; type AllLocaleIDs &#x3D; &quot;welcome*email_id&quot; | &quot;email_heading_id&quot; | &quot;footer_title_id&quot; | &quot;footer_sendoff_id&quot;</code></pre>\n\n<ul>\n<li>å¦‚æœæ¨¡æ¿å­—é¢é‡é‡Œçš„å¤šä¸ªå˜é‡éƒ½æ˜¯è”åˆç±»å‹ï¼Œç»“æœä¼šäº¤å‰ç›¸ä¹˜ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­å°±æœ‰ 2 * 2 _ 3 ä¸€å…± 12 ç§ç»“æœï¼š</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type AllLocaleIDs &#x3D; &#96;$&#123;EmailLocaleIDs | FooterLocaleIDs&#125;_id&#96;;\ntype Lang &#x3D; &quot;en&quot; | &quot;ja&quot; | &quot;pt&quot;;\n\ntype LocaleMessageIDs &#x3D; &#96;$&#123;Lang&#125;_$&#123;AllLocaleIDs&#125;&#96;;\n&#x2F;&#x2F; type LocaleMessageIDs &#x3D; &quot;en_welcome_email_id&quot; | &quot;en_email_heading_id&quot; | &quot;en_footer_title_id&quot; | &quot;en_footer_sendoff_id&quot; | &quot;ja_welcome_email_id&quot; | &quot;ja_email_heading_id&quot; | &quot;ja_footer_title_id&quot; | &quot;ja_footer_sendoff_id&quot; | &quot;pt_welcome_email_id&quot; | &quot;pt_email_heading_id&quot; | &quot;pt_footer_title_id&quot; | &quot;pt_footer_sendoff_id&quot;</code></pre>\n\n<ul>\n<li>å¦‚æœçœŸçš„æ˜¯éå¸¸é•¿çš„å­—ç¬¦ä¸²è”åˆç±»å‹ï¼Œæ¨èæå‰ç”Ÿæˆï¼Œè¿™ç§è¿˜æ˜¯é€‚ç”¨äºçŸ­ä¸€äº›çš„æƒ…å†µã€‚</li>\n</ul>\n<h2 id=\"ç±»å‹ä¸­çš„å­—ç¬¦ä¸²è”åˆç±»å‹ï¼ˆString-Unions-in-Typesï¼‰\"><a href=\"#ç±»å‹ä¸­çš„å­—ç¬¦ä¸²è”åˆç±»å‹ï¼ˆString-Unions-in-Typesï¼‰\" class=\"headerlink\" title=\"ç±»å‹ä¸­çš„å­—ç¬¦ä¸²è”åˆç±»å‹ï¼ˆString Unions in Typesï¼‰\"></a>ç±»å‹ä¸­çš„å­—ç¬¦ä¸²è”åˆç±»å‹ï¼ˆString Unions in Typesï¼‰</h2><p>æ¨¡æ¿å­—é¢é‡æœ€æœ‰ç”¨çš„åœ°æ–¹åœ¨äºä½ å¯ä»¥åŸºäºä¸€ä¸ªç±»å‹å†…éƒ¨çš„ä¿¡æ¯ï¼Œå®šä¹‰ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè®©æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼š</p>\n<p>æœ‰è¿™æ ·ä¸€ä¸ªå‡½æ•° makeWatchedObjectï¼Œ å®ƒä¼šç»™ä¼ å…¥çš„å¯¹è±¡æ·»åŠ äº†ä¸€ä¸ª on æ–¹æ³•ã€‚åœ¨ JavaScript ä¸­ï¼Œå®ƒçš„è°ƒç”¨çœ‹èµ·æ¥æ˜¯è¿™æ ·ï¼šmakeWatchedObject(baseObject)ï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸ªä¼ å…¥å¯¹è±¡ä¸ºï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">const passedObject &#x3D; &#123;\n  firstName: &quot;Saoirse&quot;,\n  lastName: &quot;Ronan&quot;,\n  age: 26,\n&#125;;</code></pre>\n\n<p>è¿™ä¸ª on æ–¹æ³•ä¼šè¢«æ·»åŠ åˆ°è¿™ä¸ªä¼ å…¥å¯¹è±¡ä¸Šï¼Œè¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼ŒeventName ï¼ˆ string ç±»å‹ï¼‰ å’Œ callBack ï¼ˆfunction ç±»å‹ï¼‰ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">&#x2F;&#x2F; ä¼ªä»£ç \nconst result &#x3D; makeWatchedObject(baseObject);\nresult.on(eventName, callBack);</code></pre>\n\n<p>æˆ‘ä»¬å¸Œæœ› eventName æ˜¯è¿™ç§å½¢å¼ï¼šattributeInThePassedObject + â€œChangedâ€ ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œ</p>\n<ul>\n<li>passedObject æœ‰ä¸€ä¸ªå±æ€§ firstNameï¼Œå¯¹åº”äº§ç”Ÿçš„ eventName ä¸º firstNameChangedï¼Œ</li>\n<li>åŒç†ï¼ŒlastName å¯¹åº”çš„æ˜¯ lastNameChangedï¼Œ</li>\n<li>age å¯¹åº”çš„æ˜¯ ageChangedã€‚</li>\n</ul>\n<p>å½“è¿™ä¸ª callBack å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™ï¼š</p>\n<ul>\n<li>åº”è¯¥è¢«ä¼ å…¥ä¸ attributeInThePassedObject ç›¸åŒç±»å‹çš„å€¼ã€‚æ¯”å¦‚ passedObject ä¸­ï¼Œ<ul>\n<li>firstName çš„å€¼çš„ç±»å‹ä¸º string , å¯¹åº” firstNameChanged äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œåˆ™æ¥å—ä¼ å…¥ä¸€ä¸ª string ç±»å‹çš„å€¼ã€‚</li>\n<li>age çš„å€¼çš„ç±»å‹ä¸º numberï¼Œå¯¹åº” ageChanged äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œåˆ™æ¥å—ä¼ å…¥ä¸€ä¸ª number ç±»å‹çš„å€¼ã€‚</li>\n</ul>\n</li>\n<li>è¿”å›å€¼ç±»å‹ä¸º void ç±»å‹ã€‚<br>on() æ–¹æ³•çš„ç­¾åæœ€ä¸€å¼€å§‹æ˜¯è¿™æ ·çš„ï¼šon(eventName: string, callBack: (newValue: any) &#x3D;&gt; void)ã€‚ ä½¿ç”¨è¿™æ ·çš„ç­¾åï¼Œæˆ‘ä»¬æ˜¯ä¸èƒ½å®ç°ä¸Šé¢æ‰€è¯´çš„è¿™äº›çº¦æŸçš„ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ¨¡æ¿å­—é¢é‡ï¼š</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">const person &#x3D; makeWatchedObject(&#123;\n  firstName: &quot;Saoirse&quot;,\n  lastName: &quot;Ronan&quot;,\n  age: 26,\n&#125;);\n\n&#x2F;&#x2F; makeWatchedObject has added &#96;on&#96; to the anonymous Object\nperson.on(&quot;firstNameChanged&quot;, (newValue) &#x3D;&gt; &#123;\n  console.log(&#96;firstName was changed to $&#123;newValue&#125;!&#96;);\n&#125;);</code></pre>\n\n<p>æ³¨æ„è¿™ä¸ªä¾‹å­é‡Œï¼Œon æ–¹æ³•æ·»åŠ çš„äº‹ä»¶åä¸º â€œfirstNameChangedâ€ï¼Œ è€Œä¸ä»…ä»…æ˜¯ â€œfirstNameâ€ï¼Œè€Œå›è°ƒå‡½æ•°ä¼ å…¥çš„å€¼ newValue ï¼Œæˆ‘ä»¬å¸Œæœ›çº¦æŸä¸º string ç±»å‹ã€‚æˆ‘ä»¬å…ˆå®ç°ç¬¬ä¸€ç‚¹ã€‚</p>\n<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬å¸Œæœ›ä¼ å…¥çš„äº‹ä»¶åçš„ç±»å‹ï¼Œæ˜¯å¯¹è±¡å±æ€§åçš„è”åˆï¼Œåªæ˜¯æ¯ä¸ªè”åˆæˆå‘˜éƒ½è¿˜åœ¨æœ€åæ‹¼æ¥ä¸€ä¸ª Changed å­—ç¬¦ï¼Œåœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åšè¿™æ ·ä¸€ä¸ªè®¡ç®—ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">Object.keys(passedObject).map(x &#x3D;&gt; $&#123;x&#125;Changed)</code></pre>\n\n<p>æ¨¡æ¿å­—é¢é‡æä¾›äº†ä¸€ä¸ªç›¸ä¼¼çš„å­—ç¬¦ä¸²æ“ä½œï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type PropEventSource&lt;Type&gt; &#x3D; &#123;\n  on(\n    eventName: &#96;$&#123;string &amp; keyof Type&#125;Changed&#96;,\n    callback: (newValue: any) &#x3D;&gt; void\n  ): void;\n&#125;;\n\n&#x2F;&#x2F;&#x2F; Create a &quot;watched object&quot; with an &#39;on&#39; method\n&#x2F;&#x2F;&#x2F; so that you can watch for changes to properties.\n\ndeclare function makeWatchedObject&lt;Type&gt;(\n  obj: Type\n): Type &amp; PropEventSource&lt;Type&gt;;</code></pre>\n\n<p>æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä¾‹å­ä¸­ï¼Œæ¨¡æ¿å­—é¢é‡é‡Œæˆ‘ä»¬å†™çš„æ˜¯ string &amp; keyof Typeï¼Œæˆ‘ä»¬å¯ä¸å¯ä»¥åªå†™æˆ keyof Type å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬è¿™æ ·å†™ï¼Œä¼šæŠ¥é”™ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type PropEventSource&lt;Type&gt; &#x3D; &#123;\n  on(\n    eventName: &#96;$&#123;keyof Type&#125;Changed&#96;,\n    callback: (newValue: any) &#x3D;&gt; void\n  ): void;\n&#125;;\n\n&#x2F;&#x2F; Type &#39;keyof Type&#39; is not assignable to type &#39;string | number | bigint | boolean | null | undefined&#39;.\n&#x2F;&#x2F; Type &#39;string | number | symbol&#39; is not assignable to type &#39;string | number | bigint | boolean | null | undefined&#39;.\n&#x2F;&#x2F; ...</code></pre>\n\n<p>ä»æŠ¥é”™ä¿¡æ¯ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºæŠ¥é”™åŸå› ï¼Œåœ¨ ã€ŠTypeScript ç³»åˆ—ä¹‹ Keyof æ“ä½œç¬¦ã€‹é‡Œï¼Œæˆ‘ä»¬çŸ¥é“</p>\n<ul>\n<li>keyof æ“ä½œç¬¦ä¼šè¿”å› string | number | symbol ç±»å‹ï¼Œ</li>\n<li>ä½†æ˜¯æ¨¡æ¿å­—é¢é‡çš„å˜é‡è¦æ±‚çš„ç±»å‹å´æ˜¯ string | number | bigint | boolean | null | undefinedï¼Œ</li>\n</ul>\n<p>æ¯”è¾ƒä¸€ä¸‹ï¼Œå¤šäº†ä¸€ä¸ª symbol ç±»å‹ï¼Œæ‰€ä»¥å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type PropEventSource&lt;Type&gt; &#x3D; &#123;\n  on(\n    eventName: &#96;$&#123;Exclude&lt;keyof Type, symbol&gt;&#125;Changed&#96;,\n    callback: (newValue: any) &#x3D;&gt; void\n  ): void;\n&#125;;</code></pre>\n\n<p>å†æˆ–è€…è¿™æ ·å†™ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type PropEventSource&lt;Type&gt; &#x3D; &#123;\n  on(\n    eventName: &#96;$&#123;Extract&lt;keyof Type, string&gt;&#125;Changed&#96;,\n    callback: (newValue: any) &#x3D;&gt; void\n  ): void;\n&#125;;</code></pre>\n\n<p>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨é”™è¯¯çš„äº‹ä»¶åæ—¶ï¼ŒTypeScript ä¼šç»™å‡ºæŠ¥é”™ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">const person &#x3D; makeWatchedObject(&#123;\n  firstName: &quot;Saoirse&quot;,\n  lastName: &quot;Ronan&quot;,\n  age: 26,\n&#125;);\n\nperson.on(&quot;firstNameChanged&quot;, () &#x3D;&gt; &#123;&#125;);\n\n&#x2F;&#x2F; Prevent easy human error (using the key instead of the event name)\nperson.on(&quot;firstName&quot;, () &#x3D;&gt; &#123;&#125;);\n&#x2F;&#x2F; Argument of type &#39;&quot;firstName&quot;&#39; is not assignable to parameter of type &#39;&quot;firstNameChanged&quot; | &quot;lastNameChanged&quot; | &quot;ageChanged&quot;&#39;.\n\n&#x2F;&#x2F; It&#39;s typo-resistant\nperson.on(&quot;frstNameChanged&quot;, () &#x3D;&gt; &#123;&#125;);\n&#x2F;&#x2F; Argument of type &#39;&quot;frstNameChanged&quot;&#39; is not assignable to parameter of type &#39;&quot;firstNameChanged&quot; | &quot;lastNameChanged&quot; | &quot;ageChanged&quot;&#39;.</code></pre>\n\n<h2 id=\"æ¨¡æ¿å­—é¢é‡çš„æ¨æ–­ï¼ˆInference-with-Template-Literalsï¼‰\"><a href=\"#æ¨¡æ¿å­—é¢é‡çš„æ¨æ–­ï¼ˆInference-with-Template-Literalsï¼‰\" class=\"headerlink\" title=\"æ¨¡æ¿å­—é¢é‡çš„æ¨æ–­ï¼ˆInference with Template Literalsï¼‰\"></a>æ¨¡æ¿å­—é¢é‡çš„æ¨æ–­ï¼ˆInference with Template Literalsï¼‰</h2><p>ç°åœ¨æˆ‘ä»¬æ¥å®ç°ç¬¬äºŒç‚¹ï¼Œå›è°ƒå‡½æ•°ä¼ å…¥çš„å€¼çš„ç±»å‹ä¸å¯¹åº”çš„å±æ€§å€¼çš„ç±»å‹ç›¸åŒã€‚<br>æˆ‘ä»¬ç°åœ¨åªæ˜¯ç®€å•çš„å¯¹ callBack çš„å‚æ•°ä½¿ç”¨ any ç±»å‹ã€‚å®ç°è¿™ä¸ªçº¦æŸçš„å…³é”®åœ¨äºå€ŸåŠ©æ³›å‹å‡½æ•°ï¼š</p>\n<p>æ•è·æ³›å‹å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°çš„å­—é¢é‡ï¼Œç”Ÿæˆä¸€ä¸ªå­—é¢é‡ç±»å‹</p>\n<ul>\n<li>è¯¥å­—é¢é‡ç±»å‹å¯ä»¥è¢«å¯¹è±¡å±æ€§æ„æˆçš„è”åˆçº¦æŸ</li>\n<li>å¯¹è±¡å±æ€§çš„ç±»å‹å¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®è·å–</li>\n<li>åº”ç”¨æ­¤ç±»å‹ï¼Œç¡®ä¿å›è°ƒå‡½æ•°çš„å‚æ•°ç±»å‹ä¸å¯¹è±¡å±æ€§çš„ç±»å‹æ˜¯åŒä¸€ä¸ªç±»å‹</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type PropEventSource&lt;Type&gt; &#x3D; &#123;\n  on&lt;Key extends string &amp; keyof Type&gt;(\n    eventName: &#96;$&#123;Key&#125;Changed&#96;,\n    callback: (newValue: Type[Key]) &#x3D;&gt; void\n  ): void;\n&#125;;\n\ndeclare function makeWatchedObject&lt;Type&gt;(\n  obj: Type\n): Type &amp; PropEventSource&lt;Type&gt;;\n\nconst person &#x3D; makeWatchedObject(&#123;\n  firstName: &quot;Saoirse&quot;,\n  lastName: &quot;Ronan&quot;,\n  age: 26,\n&#125;);\n\nperson.on(&quot;firstNameChanged&quot;, (newName) &#x3D;&gt; &#123;\n  &#x2F;&#x2F; (parameter) newName: string\n  console.log(&#96;new name is $&#123;newName.toUpperCase()&#125;&#96;);\n&#125;);\n\nperson.on(&quot;ageChanged&quot;, (newAge) &#x3D;&gt; &#123;\n  &#x2F;&#x2F; (parameter) newAge: number\n  if (newAge &lt; 0) &#123;\n    console.warn(&quot;warning! negative age&quot;);\n  &#125;\n&#125;);</code></pre>\n\n<p>è¿™é‡Œæˆ‘ä»¬æŠŠ on æ”¹æˆäº†ä¸€ä¸ªæ³›å‹å‡½æ•°ã€‚</p>\n<p>å½“ä¸€ä¸ªç”¨æˆ·è°ƒç”¨çš„æ—¶å€™ä¼ å…¥ â€œfirstNameChangedâ€ï¼ŒTypeScript ä¼šå°è¯•ç€æ¨æ–­ Key æ­£ç¡®çš„ç±»å‹ã€‚å®ƒä¼šåŒ¹é… key å’Œ â€œChangedâ€ å‰çš„å­—ç¬¦ä¸² ï¼Œç„¶åæ¨æ–­å‡ºå­—ç¬¦ä¸² â€œfirstNameâ€ ï¼Œç„¶åå†è·å–åŸå§‹å¯¹è±¡çš„ firstName å±æ€§çš„ç±»å‹ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°±æ˜¯ string ç±»å‹ã€‚</p>\n<h2 id=\"å†…ç½®å­—ç¬¦æ“ä½œç±»å‹ï¼ˆIntrinsic-String-Manipulation-Typesï¼‰\"><a href=\"#å†…ç½®å­—ç¬¦æ“ä½œç±»å‹ï¼ˆIntrinsic-String-Manipulation-Typesï¼‰\" class=\"headerlink\" title=\"å†…ç½®å­—ç¬¦æ“ä½œç±»å‹ï¼ˆIntrinsic String Manipulation Typesï¼‰\"></a>å†…ç½®å­—ç¬¦æ“ä½œç±»å‹ï¼ˆIntrinsic String Manipulation Typesï¼‰</h2><p>TypeScript çš„ä¸€äº›ç±»å‹å¯ä»¥ç”¨äºå­—ç¬¦æ“ä½œï¼Œè¿™äº›ç±»å‹å¤„äºæ€§èƒ½çš„è€ƒè™‘è¢«å†…ç½®åœ¨ç¼–è¯‘å™¨ä¸­ï¼Œä½ ä¸èƒ½åœ¨ .d.ts æ–‡ä»¶é‡Œæ‰¾åˆ°å®ƒä»¬ã€‚</p>\n<h2 id=\"Uppercase\"><a href=\"#Uppercase\" class=\"headerlink\" title=\"Uppercase\"></a>Uppercase</h2><p>æŠŠæ¯ä¸ªå­—ç¬¦è½¬ä¸ºå¤§å†™å½¢å¼ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type Greeting &#x3D; &quot;Hello, world&quot;;\ntype ShoutyGreeting &#x3D; Uppercase&lt;Greeting&gt;;\n&#x2F;&#x2F; type ShoutyGreeting &#x3D; &quot;HELLO, WORLD&quot;\n\ntype ASCIICacheKey&lt;Str extends string&gt; &#x3D; &#96;ID-$&#123;Uppercase&lt;Str&gt;&#125;&#96;;\ntype MainID &#x3D; ASCIICacheKey&lt;&quot;my_app&quot;&gt;;\n&#x2F;&#x2F; type MainID &#x3D; &quot;ID-MY_APP&quot;</code></pre>\n\n<h2 id=\"Lowercase\"><a href=\"#Lowercase\" class=\"headerlink\" title=\"Lowercase\"></a>Lowercase</h2><p>æŠŠæ¯ä¸ªå­—ç¬¦è½¬ä¸ºå°å†™å½¢å¼ï¼š</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type Greeting &#x3D; &quot;Hello, world&quot;;\ntype QuietGreeting &#x3D; Lowercase&lt;Greeting&gt;;\n&#x2F;&#x2F; type QuietGreeting &#x3D; &quot;hello, world&quot;\n\ntype ASCIICacheKey&lt;Str extends string&gt; &#x3D; &#96;id-$&#123;Lowercase&lt;Str&gt;&#125;&#96;;\ntype MainID &#x3D; ASCIICacheKey&lt;&quot;MY_APP&quot;&gt;;\n&#x2F;&#x2F; type MainID &#x3D; &quot;id-my_app&quot;</code></pre>\n\n<h2 id=\"Capitalize\"><a href=\"#Capitalize\" class=\"headerlink\" title=\"Capitalize\"></a>Capitalize</h2><ul>\n<li>æŠŠå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬ä¸ºå¤§å†™å½¢å¼ï¼š</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type LowercaseGreeting &#x3D; &quot;hello, world&quot;;\ntype Greeting &#x3D; Capitalize&lt;LowercaseGreeting&gt;;\n&#x2F;&#x2F; type Greeting &#x3D; &quot;Hello, world&quot;</code></pre>\n\n<h2 id=\"Uncapitalize\"><a href=\"#Uncapitalize\" class=\"headerlink\" title=\"Uncapitalize\"></a>Uncapitalize</h2><ul>\n<li>æŠŠå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå°å†™å½¢å¼ï¼š</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">type UppercaseGreeting &#x3D; &quot;HELLO WORLD&quot;;\ntype UncomfortableGreeting &#x3D; Uncapitalize&lt;UppercaseGreeting&gt;;\n&#x2F;&#x2F; type UncomfortableGreeting &#x3D; &quot;hELLO WORLD&quot;</code></pre>\n\n<ul>\n<li>å­—ç¬¦æ“ä½œç±»å‹çš„æŠ€æœ¯ç»†èŠ‚<br>ä» TypeScript 4.1 èµ·ï¼Œè¿™äº›å†…ç½®å‡½æ•°ä¼šç›´æ¥ä½¿ç”¨ JavaScript å­—ç¬¦ä¸²è¿è¡Œæ—¶å‡½æ•°ï¼Œè€Œä¸æ˜¯æœ¬åœ°åŒ–è¯†åˆ« (locale aware)ã€‚</li>\n</ul>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">function applyStringMapping(symbol: Symbol, str: string) &#123;\n  switch (intrinsicTypeKinds.get(symbol.escapedName as string)) &#123;\n    case IntrinsicTypeKind.Uppercase:\n      return str.toUpperCase();\n    case IntrinsicTypeKind.Lowercase:\n      return str.toLowerCase();\n    case IntrinsicTypeKind.Capitalize:\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    case IntrinsicTypeKind.Uncapitalize:\n      return str.charAt(0).toLowerCase() + str.slice(1);\n  &#125;\n  return str;\n&#125;</code></pre>\n\n<p>ä½œè€…ï¼šå†´ç¾½<br>é“¾æ¥ï¼š<a href=\"https://www.imooc.com/article/322215\">https://www.imooc.com/article/322215</a><br>æ¥æºï¼šæ…•è¯¾ç½‘<br>æœ¬æ–‡åŸåˆ›å‘å¸ƒäºæ…•è¯¾ç½‘ ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢åˆä½œ</p>\n<h2 id=\"åœ¨æƒ³ä¸€ä¸ªé—®é¢˜\"><a href=\"#åœ¨æƒ³ä¸€ä¸ªé—®é¢˜\" class=\"headerlink\" title=\"åœ¨æƒ³ä¸€ä¸ªé—®é¢˜\"></a>åœ¨æƒ³ä¸€ä¸ªé—®é¢˜</h2><p>ä¸ºä»€ä¹ˆåˆ«äººå¯ä»¥æŠŠæ–‡æ¡£ç¿»è¯‘çš„é‚£ä¹ˆå‡†ç¡®ï¼Œè®©è¯»è€…ä¸€çœ‹å°±æ˜ç™½</p>\n","text":"ts ç±»å‹å¦‚ä½•è°ƒè¯• ä¸æ˜¯ä»£ç é€»è¾‘å¦‚ä½•è°ƒè¯•ï¼Œæ²¡æƒ³åˆ° ts è‡ªå®šä¹‰ç±»å‹å¦‚ä½•æ‰“å° ä¸æ˜¯ js çš„ç»“æœå¦‚ä½•æ‰“å°ï¼Œæ²¡æƒ³åˆ° Creating Types from Typesä»å·²æœ‰ç±»å‹ä¸­åˆ›å»ºç±»å‹ TypeScript çš„ç±»å‹ç³»ç»Ÿéå¸¸å¼ºå¤§ï¼Œå› ä¸ºå®ƒå…è®¸è¡¨è¾¾ç±»å‹çš„å¦ä¸€ç§è¡¨è¾¾æ–¹å¼ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯æ³›å‹...","link":"","photos":[],"count_time":{"symbolsCount":"24k","symbolsTime":"21 mins."},"categories":[{"name":"typescript","slug":"typescript","count":11,"path":"api/categories/typescript.json"}],"tags":[{"name":"TypeScript","slug":"TypeScript","count":11,"path":"api/tags/TypeScript.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ts-%E7%B1%BB%E5%9E%8B%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95\"><span class=\"toc-text\">ts ç±»å‹å¦‚ä½•è°ƒè¯•</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ts-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%A6%82%E4%BD%95%E6%89%93%E5%8D%B0\"><span class=\"toc-text\">ts è‡ªå®šä¹‰ç±»å‹å¦‚ä½•æ‰“å°</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Creating-Types-from-Types\"><span class=\"toc-text\">Creating Types from Types</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Keyof-Type-Operator\"><span class=\"toc-text\">Keyof Type Operator</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Typeof-type-operator\"><span class=\"toc-text\">Typeof type operator</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ReturnType\"><span class=\"toc-text\">ReturnType</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Indexed-Access-Types\"><span class=\"toc-text\">Indexed Access Types</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Conditional-Types\"><span class=\"toc-text\">Conditional Types</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Distributive-Conditional-Types\"><span class=\"toc-text\">Distributive Conditional Types</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Return\"><span class=\"toc-text\">Return</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E6%9D%BF%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B%EF%BC%88Template-Literal-Types%EF%BC%89\"><span class=\"toc-text\">æ¨¡æ¿å­—é¢é‡ç±»å‹ï¼ˆTemplate Literal Typesï¼‰</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%B1%BB%E5%9E%8B%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B%EF%BC%88String-Unions-in-Types%EF%BC%89\"><span class=\"toc-text\">ç±»å‹ä¸­çš„å­—ç¬¦ä¸²è”åˆç±»å‹ï¼ˆString Unions in Typesï¼‰</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E6%9D%BF%E5%AD%97%E9%9D%A2%E9%87%8F%E7%9A%84%E6%8E%A8%E6%96%AD%EF%BC%88Inference-with-Template-Literals%EF%BC%89\"><span class=\"toc-text\">æ¨¡æ¿å­—é¢é‡çš„æ¨æ–­ï¼ˆInference with Template Literalsï¼‰</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%86%85%E7%BD%AE%E5%AD%97%E7%AC%A6%E6%93%8D%E4%BD%9C%E7%B1%BB%E5%9E%8B%EF%BC%88Intrinsic-String-Manipulation-Types%EF%BC%89\"><span class=\"toc-text\">å†…ç½®å­—ç¬¦æ“ä½œç±»å‹ï¼ˆIntrinsic String Manipulation Typesï¼‰</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Uppercase\"><span class=\"toc-text\">Uppercase</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Lowercase\"><span class=\"toc-text\">Lowercase</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Capitalize\"><span class=\"toc-text\">Capitalize</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Uncapitalize\"><span class=\"toc-text\">Uncapitalize</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9C%A8%E6%83%B3%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">åœ¨æƒ³ä¸€ä¸ªé—®é¢˜</span></a></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"8.Typescriptæ‰‹å†Œ ç±»","uid":"14464d0b7865c234ecdc15847ed605ff","slug":"2022-06-08ts-classes","date":"2022-06-08T06:21:19.000Z","updated":"2022-09-16T13:54:56.130Z","comments":true,"path":"api/articles/2022-06-08ts-classes.json","keywords":null,"cover":"https://img0.baidu.com/it/u=86492913,3057347241&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=208","text":"Background Reading:èƒŒæ™¯é˜…è¯» Classes (MDN) TypeScript offers full support for the class keyword introduced in ES2015.typescript æ”¯æŒ ES2015 çš„ class...","link":"","photos":[],"count_time":{"symbolsCount":"46k","symbolsTime":"41 mins."},"categories":[{"name":"typescript","slug":"typescript","count":11,"path":"api/categories/typescript.json"}],"tags":[{"name":"TypeScript","slug":"TypeScript","count":11,"path":"api/tags/TypeScript.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"6.Typescriptæ‰‹å†Œ å¯¹è±¡ç±»å‹","uid":"f1faf548c4c61142a49eddcdf4aec1f6","slug":"2022-06-08ts-object-types","date":"2022-06-08T01:21:19.000Z","updated":"2022-09-16T13:54:56.135Z","comments":true,"path":"api/articles/2022-06-08ts-object-types.json","keywords":null,"cover":"https://img0.baidu.com/it/u=86492913,3057347241&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=208","text":"In JavaScript, the fundamental way that we group and pass around data is through objects. In TypeScript, we represent those through object t...","link":"","photos":[],"count_time":{"symbolsCount":"31k","symbolsTime":"28 mins."},"categories":[{"name":"typescript","slug":"typescript","count":11,"path":"api/categories/typescript.json"}],"tags":[{"name":"TypeScript","slug":"TypeScript","count":11,"path":"api/tags/TypeScript.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
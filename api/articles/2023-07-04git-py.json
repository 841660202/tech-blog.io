{"title":"获取开发大概时间","uid":"f294c5e88fbdfee2c3ec39e3af3f094c","slug":"2023-07-04git-py","date":"2023-07-04T00:36:43.000Z","updated":"2023-07-20T14:58:47.209Z","comments":true,"path":"api/articles/2023-07-04git-py.json","keywords":null,"cover":[],"content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p>赚点小钱，看看划不划算，作为以后评估工作量的参考</p>\n<h2 id=\"脚本\"><a href=\"#脚本\" class=\"headerlink\" title=\"脚本\"></a>脚本</h2><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">import subprocess\nfrom datetime import datetime\n\n\ndef get_user_commits(username):\n    git_log &#x3D; subprocess.check_output([&#39;git&#39;, &#39;log&#39;, &#39;--author&#x3D;&#39; + username])\n    log_lines &#x3D; git_log.decode(&#39;utf-8&#39;).splitlines()\n\n    commits &#x3D; []\n    commit_info &#x3D; &#123;&#125;\n    for line in log_lines:\n        print(&#39;line: &#39;, line)\n        if line.startswith(&#39;commit&#39;):\n            if commit_info:\n                commits.append(commit_info)\n                commit_info &#x3D; &#123;&#125;\n            commit_info[&#39;commit&#39;] &#x3D; line.split()[1]\n        elif line.startswith(&#39;Author:&#39;):\n            commit_info[&#39;author&#39;] &#x3D; line.split(&#39;:&#39;)[1].strip()\n        elif line.startswith(&#39;Date:&#39;):\n            commit_date &#x3D; line.split(&#39;Date:&#39;)[1].strip()\n            # print(&quot;commit_date: &quot;, commit_date)\n            commit_info[&#39;date&#39;] &#x3D; datetime.strptime(\n                commit_date, &#39;%a %b %d %H:%M:%S %Y %z&#39;).strftime(&#39;%Y-%m-%d %H:%M:%S&#39;)\n\n    if commit_info:\n        commits.append(commit_info)\n\n    return commits\n\n\n# 使用示例\nusername &#x3D; &quot;haotian&quot;\ncommits &#x3D; get_user_commits(username)\nweekdays &#x3D; []\nworkdays &#x3D; []\nwith open(&quot;time.txt&quot;, &quot;w&quot;) as file:\n    # 清空文件内容\n    file.truncate(0)\n    for commit in commits:\n        date &#x3D; commit[&#39;date&#39;]\n        # 格式化日期，将字符串转换为日期对象\n        date_obj &#x3D; datetime.strptime(date, &#39;%Y-%m-%d %H:%M:%S&#39;)\n\n        # 判断日期是周几（周一对应0，周日对应6）\n        weekday &#x3D; date_obj.weekday()\n\n        # 判断日期是周六或周日\n        if (weekday &#x3D;&#x3D; 5 or weekday &#x3D;&#x3D; 6):\n            print(commit[&#39;commit&#39;], commit[&#39;date&#39;], commit[&#39;author&#39;])\n            weekdays.append(date_obj.strftime(&quot;%Y-%m-%d&quot;))\n        else:\n            print(commit[&#39;commit&#39;], commit[&#39;date&#39;], commit[&#39;author&#39;])\n            workdays.append(date_obj.strftime(&quot;%Y-%m-%d&quot;))\n\n        file.write(commit[&#39;date&#39;] + &#39; &#39; + commit[&#39;author&#39;]+&#39;\\n&#39;)\n\n    allday &#x3D; list(set(weekdays))\n    workday &#x3D; list(set(workdays))\n    print(&quot;全天: &quot;, len(allday))\n    print(&quot;工作日: &quot;, len(workday))\n</code></pre>\n\n<h2 id=\"已去除敏感信息\"><a href=\"#已去除敏感信息\" class=\"headerlink\" title=\"已去除敏感信息\"></a>已去除敏感信息</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">1bfed7f0e80992810b93ca82369a2315ccbba026 2023-07-03 23:00:08 ht &lt;ht.chen@ty.com&gt;\n05f48d3f8efa00a1e357f374dd5574a8b1bf8cf0 2023-07-03 13:33:37 ht &lt;ht.chen@ty.com&gt;\n0189657ffa1d72940a546ccffcc469e8dbb90040 2023-06-28 23:35:04 ht &lt;ht.chen@ty.com&gt;\n95408678816c1cd3ad6c8d1304055986d0ad74a1 2023-06-28 22:08:27 ht &lt;ht.chen@ty.com&gt;\n8cd1b11885c1d6fb243de1e7cddd97707e42d23d 2023-06-28 21:53:15 ht &lt;ht.chen@ty.com&gt;\n792a737df475f7e424860b56ab5f3077ac2d54d6 2023-06-27 23:01:22 ht &lt;ht.chen@ty.com&gt;\na69bf6310db03a0d130215511e2d8fd6cb323890 2023-06-27 22:56:42 ht &lt;ht.chen@ty.com&gt;\n902ee364a5be6d82305d38e9eab0aa4260190476 2023-06-27 22:11:43 ht &lt;ht.chen@ty.com&gt;\nc8e71b2b7c74731ed1e27b8d7cf2ca9a8f5f0b89 2023-06-27 22:09:14 ht &lt;ht.chen@ty.com&gt;\ne8e51ef0b6e9e12994fd0eb1f0982d9e9070d479 2023-06-27 21:57:57 ht &lt;ht.chen@ty.com&gt;\nd2cb3feb5e3168ee8bdd36df4507039dfc068b32 2023-06-27 21:37:26 ht &lt;ht.chen@ty.com&gt;\n759ad6d046995f4e023482a5648fa5d9ae08c5b0 2023-06-27 20:31:54 ht &lt;ht.chen@ty.com&gt;\nfd196dfe8a44802550bae800a20e7730363dcaa4 2023-06-27 01:07:32 ht &lt;ht.chen@ty.com&gt;\nf35e9f024dcefd7813817072aaae695150b573d6 2023-06-26 21:50:05 ht &lt;ht.chen@ty.com&gt;\n0534cb54b73690763bfec5da9376cf331769215b 2023-06-26 00:22:54 ht &lt;ht.chen@ty.com&gt;\n1abc07518cf455aeb2486dfedfbb8aebd7ac821b 2023-06-26 00:11:59 ht &lt;ht.chen@ty.com&gt;\n34648da0e76d2dd334548c50d29ba22f7740f98d 2023-06-24 19:57:22 ht &lt;ht.chen@ty.com&gt;\n02c888300fce9d24d87e85be94fac5d2439b469c 2023-06-24 18:51:45 ht &lt;ht.chen@ty.com&gt;\n39f882eba535da96744b256fcad96073507d10be 2023-06-24 18:38:02 ht &lt;ht.chen@ty.com&gt;\n3c64269ce2a5c2424019fc82cebb722d0cdceace 2023-06-24 16:28:16 ht &lt;ht.chen@ty.com&gt;\nb784e4d7c8b058749f7c1131f8ea08e62f4b5d2e 2023-06-24 16:12:08 ht &lt;ht.chen@ty.com&gt;\n7450469a468f1732e2d8544729d94435b34ca631 2023-06-24 16:01:11 ht &lt;ht.chen@ty.com&gt;\n1dcbbeade1fec60cd40e0e6f5af7dd254c3497a3 2023-06-24 14:29:55 ht &lt;ht.chen@ty.com&gt;\n80b316775c2db12c5cca700aa55766d70503e73f 2023-06-24 13:46:45 ht &lt;ht.chen@ty.com&gt;\n4af2ae7795f8b9b41a3b5c8c22c9cca21b7f14e9 2023-06-24 11:18:01 ht &lt;ht.chen@ty.com&gt;\n0b40074f7886b3181c6bd8cb04278c1aae789b1a 2023-06-24 10:53:28 ht &lt;ht.chen@ty.com&gt;\n235b692c630d07cfc938b02cf29b38060ec8f8b1 2023-06-24 10:52:27 ht &lt;ht.chen@ty.com&gt;\n2d9a8c0eed74bc61189b445ecddaec19878e1530 2023-06-24 10:20:32 ht &lt;ht.chen@ty.com&gt;\nbcd965a42c29031cdee057d470dfa1772ac3fd0a 2023-06-24 09:59:09 ht &lt;ht.chen@ty.com&gt;\na239f0f178c6553d57a2dd441ea51206ad2a0726 2023-06-24 09:42:55 ht &lt;ht.chen@ty.com&gt;\n5ba446157d44dc616a154b664d9965dcb223254e 2023-06-23 22:45:22 ht &lt;ht.chen@ty.com&gt;\n113752ff31a3d9ebe8a5f8017fa96e73d7bd612c 2023-06-23 18:01:54 ht &lt;ht.chen@ty.com&gt;\n2eb40f5cc77eddd79ef2e1f12a32d8440e2a8c07 2023-06-23 12:44:05 ht &lt;ht.chen@ty.com&gt;\nbaa948ddf1df7789c5ccda93842d2f689b880b0b 2023-06-23 12:43:42 ht &lt;ht.chen@ty.com&gt;\ne61be5c5ddd666a538226177a8467032fd11ac46 2023-06-23 12:33:23 ht &lt;ht.chen@ty.com&gt;\n795112871a04261f932a395d183cdedc97810023 2023-06-23 01:18:43 ht &lt;ht.chen@ty.com&gt;\nf6f1f06beba7951367eb6a6c47b8499f52cf84d0 2023-06-23 00:28:55 ht &lt;ht.chen@ty.com&gt;\n998b6fe7e9d9326498a59ff848f163140dd07bd7 2023-06-22 22:58:38 ht &lt;ht.chen@ty.com&gt;\nccf3d2aa859a3a41ff1acd90008e87e52ffa493d 2023-06-22 15:46:55 ht &lt;ht.chen@ty.com&gt;\n9d266128e6281c516e64e7273b220691d4f13839 2023-06-22 15:30:28 ht &lt;ht.chen@ty.com&gt;\na5586b810299168c67561159b8e82879d9641a0a 2023-06-22 07:42:21 ht &lt;ht.chen@ty.com&gt;\nb4dec966dadbe70b550aa3e6c009388174fdef9f 2023-06-22 07:39:18 ht &lt;ht.chen@ty.com&gt;\n5bda73af131f82761e81ba5c91143ad4971549fb 2023-06-21 02:54:12 ht &lt;***202@qq.com&gt;\nd54df9f433bc6f141e977111823bf1c9d3703e08 2023-06-21 01:08:51 ht &lt;***202@qq.com&gt;\n5f766eaeffd45ecf36fd91771c7237cf54893853 2023-06-21 00:50:32 ht &lt;***202@qq.com&gt;\n0d20c3b713073dadb6b4f996aa892964ef2c71ef 2023-06-20 23:27:34 ht &lt;***202@qq.com&gt;\na6bbcac9724fbdb835ab201ae2784c816ba1a5a5 2023-06-20 21:52:48 ht &lt;***202@qq.com&gt;\n1c391ea0de33d971276ddc8a07308a2420d29df9 2023-06-20 19:32:33 ht &lt;ht.chen@ty.com&gt;\nd96b6d761b2f97dc005f453c8bd329fea93055fe 2023-06-20 19:29:12 ht &lt;ht.chen@ty.com&gt;\n284dd8fc929b01bd722c2958210d2ae8849cac58 2023-06-20 15:04:23 ht &lt;ht.chen@ty.com&gt;\ncbfec6019dd8915c057682a8dc32d1a34fe592b8 2023-06-20 10:38:08 ht &lt;ht.chen@ty.com&gt;\nc61777525025d88ef9a77d50876fc5c01951bd28 2023-06-20 01:02:26 ht &lt;***202@qq.com&gt;\n96f0b1ab03f1475568ed2a3490fca63fff1db65c 2023-06-19 23:45:22 ht &lt;***202@qq.com&gt;\n48b2d2658d5b48dfb8083f1161b6bda7b6212696 2023-06-18 23:30:28 ht &lt;***202@qq.com&gt;\n4fd42675497733a147c7a433a77e695fa27a849c 2023-06-18 20:02:53 ht &lt;***202@qq.com&gt;\n526c0d082cb57ee67d383b2182b072da9b03e4c6 2023-06-18 18:53:19 ht &lt;***202@qq.com&gt;\ned9ebfc6de2796579482c2793f88629560a3f10c 2023-06-18 18:04:10 ht &lt;***202@qq.com&gt;\n2de36373a7e2e10175842890c9b030acd97e3af8 2023-06-18 16:23:53 ht &lt;***202@qq.com&gt;\n7dd9073f8e76707e8ae4b3c2ad202c8505e0dd8c 2023-06-18 15:42:33 ht &lt;***202@qq.com&gt;\nfc18f1539fefc753e3a0c9aea93b982fa0d3776c 2023-06-18 15:30:10 ht &lt;***202@qq.com&gt;\nfff6cfa00e045dc502c20f897a9df864a0d1d540 2023-06-17 21:49:13 ht &lt;***202@qq.com&gt;\n7bd9a6502d6f86056e8e75930f77e16374b43fc7 2023-06-17 18:29:08 ht &lt;***202@qq.com&gt;\n80410fe64d54d98c5c2026d509b860de65d66971 2023-06-17 18:20:59 ht &lt;***202@qq.com&gt;\n4043dc9f5ba165b16d992e66bcf1d3422e3fd320 2023-06-17 18:14:09 ht &lt;***202@qq.com&gt;\n8edf99e4717df1641f0d19b6c61b866778f6f436 2023-06-17 17:28:18 ht &lt;***202@qq.com&gt;\n7b916fe08d2181fb86d16fed2acee69fa1a7138d 2023-06-17 10:50:47 ht &lt;***202@qq.com&gt;\n40db942782bb369932d5dd0695beb6140606ae2f 2023-06-15 20:29:09 ht &lt;***202@qq.com&gt;\nb122f609f3075f6ec3cf7b2ba2fc0120f2dbdeab 2023-06-14 22:20:13 ht &lt;***202@qq.com&gt;\n925eb7b2e7f4322f0bad4bd5aed39eaaaeb10bff 2023-06-14 22:11:38 ht &lt;***202@qq.com&gt;\nf2464f90f59b05dc6751e2ad4f6a0d20b7bca974 2023-06-13 23:27:27 ht &lt;***202@qq.com&gt;</code></pre>\n\n<h2 id=\"复盘\"><a href=\"#复盘\" class=\"headerlink\" title=\"复盘\"></a>复盘</h2><ol>\n<li>开发时间</li>\n<li>修改验收时间</li>\n<li>会议、其他杂乱时间</li>\n</ol>\n<p>本次，评估工作量，本来我是不参与开发的，也没当回事；和我沟通的时间，我只是说，工时肯定不够的；最后开发大头却是我，亏死；</p>\n<p>开发时间：</p>\n<p>主要原因：一开始需求都没有全部定下来，就着急着“报价”</p>\n<ol>\n<li>需求未定，无法评估实际工作，评估少了</li>\n<li>阅读源码，梳理业务，工作量增加</li>\n<li>需求变更，工作量增加</li>\n<li>开口子改非业务代码，工作量增加</li>\n<li>和不理解业务的人沟通，工作量增加</li>\n<li>高保真（示意图）不符合业务的设计，工作量增加</li>\n</ol>\n<h2 id=\"再遇到如何评估\"><a href=\"#再遇到如何评估\" class=\"headerlink\" title=\"再遇到如何评估\"></a>再遇到如何评估</h2><ol>\n<li>实际开发工作量按能力算，对应比例算人&#x2F;天</li>\n<li><strong>高度定制成本</strong></li>\n<li>业务梳理成本</li>\n<li>沟通成本【大头】</li>\n<li>验收成本</li>\n<li>额外开发成本（<strong>需求变更</strong>、非开发范围开发）</li>\n<li>隐藏开发工作量（有些代码坑太多，需要处理）</li>\n</ol>\n<p>加粗字体 经常发生，从公司工作中也经常遇到客户不断改需求，走需求变更的现象</p>\n<img src=\"http://t-blog-images.aijs.top/img/202307041101411.webp\" />\n","text":"背景赚点小钱，看看划不划算，作为以后评估工作量的参考 脚本import subprocess from datetime import datetime def get_user_commits(username): git_log &#x3D; subprocess.check...","link":"","photos":[],"count_time":{"symbolsCount":"8.8k","symbolsTime":"8 mins."},"categories":[{"name":"Python","slug":"Python","count":4,"path":"api/categories/Python.json"}],"tags":[{"name":"Python","slug":"Python","count":4,"path":"api/tags/Python.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">背景</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\">脚本</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B7%B2%E5%8E%BB%E9%99%A4%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF\"><span class=\"toc-text\">已去除敏感信息</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A4%8D%E7%9B%98\"><span class=\"toc-text\">复盘</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%86%8D%E9%81%87%E5%88%B0%E5%A6%82%E4%BD%95%E8%AF%84%E4%BC%B0\"><span class=\"toc-text\">再遇到如何评估</span></a></li></ol>","author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"ellipsis检测","uid":"0f92e5beba8a19456370cfbf5ca7de88","slug":"2023-07-04ellipsis","date":"2023-07-04T02:06:40.000Z","updated":"2023-07-16T02:13:26.428Z","comments":true,"path":"api/articles/2023-07-04ellipsis.json","keywords":null,"cover":[],"text":"ellipsis 字符串长度不够准确 如何不用字符串长度更好的实现 html 前端如何检测 触发了 ellipsis要检测 HTML 前端中是否触发了文本省略（ellipsis），可以使用以下方法： 使用 JavaScript 和 DOM 操作： 在元素的父容器上使用 offse...","link":"","photos":[],"count_time":{"symbolsCount":"5k","symbolsTime":"5 mins."},"categories":[{"name":"前端","slug":"前端","count":5,"path":"api/categories/前端.json"}],"tags":[{"name":"前端","slug":"前端","count":5,"path":"api/tags/前端.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"esbuild【未完】","uid":"5d9cafec7c25eb56320f408e07855150","slug":"2023-07-03esbuild","date":"2023-07-03T01:47:30.000Z","updated":"2023-07-08T01:06:25.366Z","comments":true,"path":"api/articles/2023-07-03esbuild.json","keywords":null,"cover":null,"text":"esbuild 为什么叫 esbuild, 名字的由来esbuild 的名字源自于两个关键因素：ES（ECMAScript）和构建（build）。 ES：ESbuild 是专为 ECMAScript（即 JavaScript）设计的构建工具。ECMAScript 是一种标准化的脚...","link":"","photos":[],"count_time":{"symbolsCount":"8k","symbolsTime":"7 mins."},"categories":[{"name":"构建工具","slug":"构建工具","count":1,"path":"api/categories/构建工具.json"}],"tags":[{"name":"构建工具","slug":"构建工具","count":1,"path":"api/tags/构建工具.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
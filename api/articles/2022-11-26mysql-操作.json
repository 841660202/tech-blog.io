{"title":"1.系统学习 mysql 操作","uid":"2dc569547b91ee92b16da7ef33c8ec1b","slug":"2022-11-26mysql-操作","date":"2022-11-26T01:00:20.000Z","updated":"2022-12-02T14:12:17.833Z","comments":true,"path":"api/articles/2022-11-26mysql-操作.json","keywords":null,"cover":"https://img2.baidu.com/it/u=3082189317,4216979427&fm=253&fmt=auto&app=120&f=PNG?w=1000&h=500","content":"<h2 id=\"库操作\"><a href=\"#库操作\" class=\"headerlink\" title=\"库操作\"></a>库操作</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">--  创建\nCREATE DATABASE [IF NOT EXISTS] database_name\n[CHARACTER SET charset_name]\n[COLLATE collation_name]\n-- 查看建库语句\nSHOW CREATE DATABASE testdb;\n--  显示\nSHOW DATABASES;\n--  选择\nUSE database_name;\n--  删除\n-- 数据库中的所有表并永久删除数据库\nDROP DATABASE [IF EXISTS] database_name;\n</code></pre>\n\n<h2 id=\"表操作\"><a href=\"#表操作\" class=\"headerlink\" title=\"表操作\"></a>表操作</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">-- 建表语句\nCREATE TABLE [IF NOT EXISTS] table_name(\n    column_list\n) ENGINE&#x3D;storage_engine\n-- 为表定义列 字段设置\ncolumn_name data_type(length) [NOT NULL] [DEFAULT value] [AUTO_INCREMENT]\n\n-- 查询建表语句\nSHOW CREATE TABLE table_name;</code></pre>\n\n<p><code>ALTER TABLE</code> 语句修改现有表的结构。它允许您添加列，删除列，更改列的数据类型，添加主键，重命名表等等。</p>\n<p>以下说明了 <code>ALTER TABLE</code> 语句语法：</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">ALTER TABLE table_name action1[,action2,…]</code></pre>\n\n<p>要更改现有表的结构：</p>\n<ul>\n<li>首先，在 <code>ALTER TABLE</code> 子句后指定要更改的表名。</li>\n<li>其次，列出要应用于表的一组操作。操作可以是任何操作，例如添加新列，添加主键或重命名表。</li>\n<li>ALTER TABLE 语句允许您在单个 ALTER TABLE 语句中应用多个操作，操作由逗号（，）分隔。</li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">CREATE TABLE tasks (\n    task_id INT NOT NULL,\n    subject VARCHAR(45) NULL,\n    start_date DATE NULL,\n    end_date DATE NULL,\n    description VARCHAR(200) NULL,\n    PRIMARY KEY (task_id),\n    UNIQUE INDEX task_id_unique (task_id ASC)\n);\n\n-- ALTER TABLE语句为列设置自动增量属性\nALTER TABLE tasks\nCHANGE COLUMN task_id task_id INT(11) NOT NULL AUTO_INCREMENT;\n\n-- ALTER TABLE语句将新列添加到表示例中\nALTER TABLE tasks\nADD COLUMN complete DECIMAL(2,1) NULL\nAFTER description;\n\n-- ALTER TABLE从表示例中删除列\nALTER TABLE tasks\nDROP COLUMN description,\nDROP COLUMN description;\n\n-- ALTER TABLE 语句重命名表\nALTER TABLE tasks\nRENAME TO work_items;</code></pre>\n\n<h3 id=\"改表名-x2F-视图名\"><a href=\"#改表名-x2F-视图名\" class=\"headerlink\" title=\"改表名&#x2F;视图名\"></a>改表名&#x2F;视图名</h3><ul>\n<li><span style=\"color: red\">在执行 RENAME TABLE 语句之前，我们必须确保没有活动事务或锁定表。</span></li>\n<li>注意：不能使用 <code>RENAME TABLE </code>语句重命名临时表，但可以使用 <code>ALTER TABLE 语句 重命名临时表</code>。</li>\n<li>重命名表，需要同步更新：<ol>\n<li><code>视图引用的表</code></li>\n<li><code>存储过程引用的表</code></li>\n<li><code>手动删除并重新创建外键</code></li>\n</ol>\n</li>\n</ul>\n<div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">WARNING</p>\n<p>重命名视图引用的表<br>如果要重命名的表由视图引用，则在重命名表时视图将变为无效，并且您必须手动调整视图。\n</div>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">-- 要更改一个或多个表，我们使用RENAME TABLE如下语句：\n\nRENAME TABLE old_table_name TO new_table_name;\n-- 旧表（old_table_name）必须存在，新表（new_table_name）必须不存在。如果新表new_table_name存在，则语句将失败。\n</code></pre>\n\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">-- 重命名临时表示例\n\nCREATE TEMPORARY TABLE lastnames\nSELECT DISTINCT last_name from employees;\n\n\n-- 其次，我们使用RENAME TABLE重命名lastnames表：\n\nRENAME TABLE lastnames TO unique_lastnames;\n-- MySQL返回以下错误消息：\n\n-- ERROR 1017 (HY000): Can&#39;t find file: &#39;.&#x2F;hr&#x2F;lastnames.frm&#39; (errno: 2 - No such file or directory)\n-- 第三，我们使用ALTER TABLE 语句重命名lastnames表。\n\nALTER TABLE lastnames\nRENAME TO unique_lastnames;</code></pre>\n\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">-- 创建一个v_employee_info基于employees和departments表命名的视图\nCREATE VIEW v_employee_info as\n    SELECT\n        id, first_name, last_name, dept_name\n    from\n        employees\n            inner join\n        departments USING (department_id);\n\n-- 可以使用CHECK TABLE语句来检查v_employee_info视图的状态\nCHECK TABLE v_employee_info;\n\n</code></pre>\n\n<h3 id=\"临时表\"><a href=\"#临时表\" class=\"headerlink\" title=\"临时表\"></a>临时表</h3><p>要创建临时表，只需将 <code>TEMPORARY</code> 关键字添加到 CREATE TABLE 语句中</p>\n<h4 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h4><ul>\n<li><code>CREATE TEMPORARY TABLE</code> 创建临时表。请注意，TEMPORARY 关键字是在 CREATE 和 TABLE 关键字之间添加的。</li>\n<li><code>当会话结束或连接终止时，MySQL 会自动删除临时表</code>。当然，您可以使用 DROP TABLE 语句在不再使用它时显式删除临时表。</li>\n<li><code>临时表仅可供创建它的客户端访问</code>。不同的客户端可以创建具有相同名称的临时表而不会导致错误，因为只有创建临时表的客户端才能看到它。但是，在同一会话中，两个临时表不能共享相同的名称。</li>\n<li><code>临时表可以与数据库中的普通表具有相同的名称</code>。例如，如果创建一个名为 employees 临时表为示例数据库，现有的 employees 表变得不可访问。您针对 employees 表发出的每个查询现在都引用临时 employees 表。删除 employees 临时表时，employees 表可用并可再次访问。</li>\n<li><code>不建议临时表与普通表重名</code>。因为这可能会导致混淆并可能导致意外的数据丢失。</li>\n</ul>\n<h4 id=\"防误删\"><a href=\"#防误删\" class=\"headerlink\" title=\"防误删\"></a>防误删</h4><div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">WARNING</p>\n<p>建表 <code>CREATE TEMPORARY TABLE</code><br>删除 <code>DROP TEMPORARY TABLE table_name;</code></p>\n<p><strong>不要丢了 TEMPORARY，防止误删普通表</strong></p>\n</p>\n</div>\n<h4 id=\"防持久化\"><a href=\"#防持久化\" class=\"headerlink\" title=\"防持久化\"></a>防持久化</h4><div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">WARNING</p>\n<p><strong>如果您开发使用连接池或持久连接的应用程序，则无法保证在应用程序终止时自动删除临时表。</strong></p>\n<p>因为应用程序使用的数据库连接可能仍处于打开状态并放置在连接池中供其他客户端使用。因此，最好在不再使用临时表时始终删除它们。</p>\n</div>\n<h2 id=\"列操作\"><a href=\"#列操作\" class=\"headerlink\" title=\"列操作\"></a>列操作</h2><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">-- 新列添加到表\nALTER TABLE tasks\nADD COLUMN complete DECIMAL(2,1) NULL\nAFTER description;\n\n-- 从表示例中删除列\nALTER TABLE tasks\nDROP COLUMN description;\n\n-- 重命名表\nALTER TABLE tasks\nRENAME TO work_items;\n\n-- 变更表属性 -- 更多见约束 &#x2F;post&#x2F;2022-11-30mysql-约束\nALTER TABLE table_name\nCHANGE old_column_name new_column_name new_column_definition;\n\n</code></pre>\n\n<h2 id=\"序列\"><a href=\"#序列\" class=\"headerlink\" title=\"序列\"></a>序列</h2><h3 id=\"为什么需要\"><a href=\"#为什么需要\" class=\"headerlink\" title=\"为什么需要\"></a>为什么需要</h3><h3 id=\"序列特点\"><a href=\"#序列特点\" class=\"headerlink\" title=\"序列特点\"></a>序列特点</h3><p>使用 AUTO_INCREMENT 属性时将应用以下规则 ：</p>\n<ul>\n<li>每个表只有一 <code>AUTO_INCREMENT</code> 列，其数据类型通常是整数。</li>\n<li><code>AUTO_INCREMENT</code> 列必须编入索引，这意味着它可以是索引 <code>PRIMARY KEY </code>或 <code>UNIQUE</code> 索引。</li>\n<li><code>AUTO_INCREMENT</code> 列必须具有 <code>NOT NULL</code> 约束。将 <code>AUTO_INCREMENT</code> 属性设置为列时，MySQL 会自动将 <code>NOT NULL</code> 约束隐式添加 到列中</li>\n</ul>\n<h3 id=\"序列工作\"><a href=\"#序列工作\" class=\"headerlink\" title=\"序列工作\"></a>序列工作</h3><p>AUTO_INCREMENT 列具有以下属性：</p>\n<ul>\n<li><code>AUTO_INCREMENT</code> 列的起始值为 1，当您 NULL 向列中插入值或在 INSERT 语句中省略其值时，它会增加 1 。</li>\n<li>要获取最后生成的序列号，请使用 <code>LAST_INSERT_ID()</code> 函数。我们经常使用后续语句的最后一个插入 ID，例如，将数据插入表中。最后生成的序列在会话中是唯一的。换句话说，如果另一个连接生成序列号，则可以通过连接使用 <code>LAST_INSERT_ID()</code>函数获取序列号。</li>\n<li>如果在表中插入新行并为序列列指定值，则如果列中<code>不存在序列号，则 MySQL 将插入序列号</code>，</li>\n<li>如果已<code>存在则发出错误</code>。</li>\n<li>如果插入一个大于下一个序列号的新值，MySQL 将<code>使用新值作为起始序列号，并生成一个大于当前序列号的唯一序列号，以供下次使用</code>。这<code>会在序列中产生间隙</code>。</li>\n<li>如果使用 <code>UPDATE</code> 语句将 <code>AUTO_INCREMENT</code> 列中的值更新 为已存在的值，则</li>\n<li>如果列具有唯一索引，MySQL 将发出<code>重复键错误</code>。</li>\n<li>如果将 <code>AUTO_INCREMENT</code> 列更新为大于列中现有值的值，MySQL 将使用下一行的最后一个插入序列号的下一个数字。例如，如果最后一个插入序列号为 3，则将其更新为 10，新行的序列号为 4。</li>\n<li>如果使用 <code>DELETE</code> 语句删除最后插入的行，MySQL 可能会也可能不会重复使用已删除的序列号，具体取决于表的存储引擎。</li>\n<li>如果删除一行，MyISAM 表不会重复使用已删除的序列号，例如，表中的最后一个插入 ID 是 10，如果删除它，MySQL 仍会生成下一个序列号，即新行的序列号为 11。与 MyISAM 表类似，InnoDB 表在删除行时<code>不重用序列号</code>。</li>\n<li>为列设置 <code>AUTO_INCREMENT</code> 属性后，可以通过各种方式<code>重置自动增量值</code>，例如，使用 <code>ALTER TABLE</code> 语句。</li>\n</ul>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><div style=\"display: flex;flex-direction: row;\">\n\n<div style=\"flex: 1; text-align: center\">\n\n<p><span style=\"color: red\">库操作</span></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-create-database.html\" target=\"_blank\" >创建数据库</a></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-drop-database.html\" target=\"_blank\" >删除数据库</a></p>\n</div>\n<div style=\"flex: 1; text-align: center\">\n\n<p><span style=\"color: red\">表操作</span></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-create-table.html\" target=\"_blank\" >创建表</a></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-alter-table.html\" target=\"_blank\" >修改表</a></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-drop-table.html\" target=\"_blank\" >删除表</a></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-temporary-table.html\" target=\"_blank\" >临时表操作</a></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-truncate-table.html\" target=\"_blank\" >清理表</a></p>\n</div>\n<div style=\"flex: 1; text-align: center\">\n\n<p><span style=\"color: red\">列操作</span></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-add-column.html\" target=\"_blank\" >添加列</a></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-drop-table.html\" target=\"_blank\" >删除列</a></p>\n<p><a href=\"/post/2022-11-30mysql-约束\" target=\"_blank\" >更改列</a></p>\n<p><a href=\"https://www.begtut.com/mysql/mysql-sequence.html\" target=\"_blank\" >序列</a></p>\n</div>\n\n</div>\n","text":"库操作-- 创建 CREATE DATABASE [IF NOT EXISTS] database_name [CHARACTER SET charset_name] [COLLATE collation_name] -- 查看建库语句 SHOW CREATE DATABASE ...","link":"","photos":[],"count_time":{"symbolsCount":"4.6k","symbolsTime":"4 mins."},"categories":[{"name":"Mysql","slug":"Mysql","count":12,"path":"api/categories/Mysql.json"}],"tags":[{"name":"Mysql","slug":"Mysql","count":12,"path":"api/tags/Mysql.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BA%93%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">库操作</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A1%A8%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">表操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%94%B9%E8%A1%A8%E5%90%8D-x2F-%E8%A7%86%E5%9B%BE%E5%90%8D\"><span class=\"toc-text\">改表名&#x2F;视图名</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%B4%E6%97%B6%E8%A1%A8\"><span class=\"toc-text\">临时表</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">特点</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%98%B2%E8%AF%AF%E5%88%A0\"><span class=\"toc-text\">防误删</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%98%B2%E6%8C%81%E4%B9%85%E5%8C%96\"><span class=\"toc-text\">防持久化</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%97%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">列操作</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BA%8F%E5%88%97\"><span class=\"toc-text\">序列</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81\"><span class=\"toc-text\">为什么需要</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BA%8F%E5%88%97%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">序列特点</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BA%8F%E5%88%97%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">序列工作</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">参考链接</span></a></li></ol>","author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><p>做好该做的，然后做自己想做的</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"2.系统学习 mysql 约束","uid":"6a629baafba13a0aeb236b74ca7f009f","slug":"2022-11-26mysql-约束","date":"2022-11-26T03:02:20.000Z","updated":"2022-12-02T14:12:51.574Z","comments":true,"path":"api/articles/2022-11-26mysql-约束.json","keywords":null,"cover":"https://img2.baidu.com/it/u=3082189317,4216979427&fm=253&fmt=auto&app=120&f=PNG?w=1000&h=500","text":"约束非空 not nullNOT NULL 约束是列约束，迫使一列的值非 NULL 值。 NOT NULL 约束的语法如下： column_name data_type NOT NULL DEFAULT value; -- 列 NOT NULL 只包含一个约束，它指定列不得包含任...","link":"","photos":[],"count_time":{"symbolsCount":"6.7k","symbolsTime":"6 mins."},"categories":[{"name":"Mysql","slug":"Mysql","count":12,"path":"api/categories/Mysql.json"}],"tags":[{"name":"Mysql","slug":"Mysql","count":12,"path":"api/tags/Mysql.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><p>做好该做的，然后做自己想做的</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"useGetLastState","uid":"9322ab91805d186b28cb967a708e37ed","slug":"2022-11-25useGetLastState","date":"2022-11-25T05:49:23.000Z","updated":"2022-12-22T13:36:21.799Z","comments":true,"path":"api/articles/2022-11-25useGetLastState.json","keywords":null,"cover":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuymoMI6bs_b5ORCcr6bysEDzWi5It3fSfcg&usqp=CAU","text":"背景有时候，我们想要利用 useState 来更新数据，并且有时候，我们需要不断的拿到最新的值，来继续进行数据更新，频率很高～ 简单场景：同时我们晓得用setState(preState=&gt; newState)，来继续更新最新的值，这种用法在简单业务中使用没问题，复杂业务场...","link":"","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"React","slug":"React","count":34,"path":"api/categories/React.json"}],"tags":[{"name":"React","slug":"React","count":28,"path":"api/tags/React.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><p>做好该做的，然后做自己想做的</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
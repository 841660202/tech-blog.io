{"title":"ant DatePicker","uid":"cd788e373bbe9a88ec776d20b310ec2f","slug":"2023-02-28datepicker","date":"2023-02-28T03:01:54.000Z","updated":"2023-02-28T12:42:55.929Z","comments":true,"path":"api/articles/2023-02-28datepicker.json","keywords":null,"cover":null,"content":"<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><ol>\n<li>这里首次使用 datepicker 的时候， 获取到时间含有十分秒： <code>v = 1676429917</code></li>\n<li>非第一次操作正常</li>\n<li>这里修改方案，将 <code>const _v: number = e?.startOf(&quot;d&quot;).valueOf() || 0;</code></li>\n</ol>\n<pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">const onChange &#x3D; usePersistFn((e: moment.Moment | null) &#x3D;&gt; &#123;\n  const v: number &#x3D; e?.unix?.() || 0; &#x2F;&#x2F;\n  console.log(v, props.emptyValue, &quot;props.emptyValue&quot;);\n  props.onChange?.(v ? v * 1000 : props.emptyValue);\n&#125;);</code></pre>\n\n<h2 id=\"fix\"><a href=\"#fix\" class=\"headerlink\" title=\"fix\"></a>fix</h2><pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">const onChange &#x3D; usePersistFn((e: moment.Moment | null) &#x3D;&gt; &#123;\n  const _v: number &#x3D; e?.startOf(&quot;d&quot;).valueOf() || 0;\n  console.log(v, props.emptyValue, &quot;props.emptyValue&quot;);\n  props.onChange?.(v ? v : props.emptyValue);\n&#125;);</code></pre>\n","text":"问题 这里首次使用 datepicker 的时候， 获取到时间含有十分秒： v = 1676429917 非第一次操作正常 这里修改方案，将 const _v: number = e?.startOf(&quot;d&quot;).valueOf() || 0; const on...","link":"","photos":[],"count_time":{"symbolsCount":668,"symbolsTime":"1 mins."},"categories":[{"name":"Bug","slug":"Bug","count":2,"path":"api/categories/Bug.json"}],"tags":[{"name":"Bug","slug":"Bug","count":2,"path":"api/tags/Bug.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#fix\"><span class=\"toc-text\">fix</span></a></li></ol>","author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"ts代码段调试","uid":"3ba10f79d449e988902f7328033fb9f2","slug":"2023-02-28ts","date":"2023-02-28T06:36:23.000Z","updated":"2023-02-28T12:42:55.930Z","comments":true,"path":"api/articles/2023-02-28ts.json","keywords":null,"cover":[],"text":"背景项目中使用 typesscript 进行开发，运行的时候是编译后的 js 脚本，有时候在项目，需要封装复杂的业务处理函数。 最开始的方法 先将代码在项目中编写 出问题了，项目中不方便调试 改为 js 代码，删除类型 调试完毕后，增加类型 复制到项目中 后来参考 pont,写了...","link":"","photos":[],"count_time":{"symbolsCount":683,"symbolsTime":"1 mins."},"categories":[{"name":"TypeScript","slug":"TypeScript","count":13,"path":"api/categories/TypeScript.json"}],"tags":[{"name":"TypeScript","slug":"TypeScript","count":14,"path":"api/tags/TypeScript.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"重新认识下 JSON.stringify","uid":"efb0473bb840c16eda737ab9fe4eecb0","slug":"2023-02-27json","date":"2023-02-27T05:32:04.000Z","updated":"2023-02-27T12:46:06.494Z","comments":true,"path":"api/articles/2023-02-27json.json","keywords":null,"cover":null,"text":"JSON.stringify 是什么JSON.stringify(value[, replacer [, space]]) 将一个 JavaScript 对象或值转换为 JSON 字符串 replacer该字段决定处理哪些属性 如果 replacer 是函数，则在序列化过程中，被...","link":"","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[{"name":"前端基础","slug":"前端基础","count":54,"path":"api/categories/前端基础.json"}],"tags":[{"name":"前端基础","slug":"前端基础","count":56,"path":"api/tags/前端基础.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
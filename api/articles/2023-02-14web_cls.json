{"title":"性能指标 - CLS","uid":"fd6ac5dbf2fdaf53f897b01a2ee4dbfc","slug":"2023-02-14web_cls","date":"2023-02-14T14:32:14.000Z","updated":"2023-02-20T21:20:56.495Z","comments":true,"path":"api/articles/2023-02-14web_cls.json","keywords":null,"cover":"https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dgpDFckbHwwOKdIGDa3N.svg","content":"<h2 id=\"Cumulative-Layout-Shift-CLS\"><a href=\"#Cumulative-Layout-Shift-CLS\" class=\"headerlink\" title=\"Cumulative Layout Shift (CLS)\"></a>Cumulative Layout Shift (CLS)</h2><p>累积布局偏移，测量视觉稳定性。为了提供良好的用户体验，页面的 CLS 应保持在 0.1. 或更少。</p>\n<h2 id=\"什么是-CLS\"><a href=\"#什么是-CLS\" class=\"headerlink\" title=\"什么是 CLS\"></a>什么是 CLS</h2><p>CLS，即 Cumulative Layout Shift 累积布局偏移</p>\n<ol>\n<li>CLS 测量整个页面生命周期内发生的, 所有意外布局偏移中最大一连串的布局偏移分数。</li>\n<li>每当一个可见元素的位置从一个已渲染帧变更到下一个已渲染帧时，就发生了布局偏移 。（有关单次布局偏移分数计算方式的详细信息，请参阅下文。）</li>\n<li>一连串的布局偏移，也叫会话窗口，是指一个或多个快速连续发生的单次布局偏移，每次偏移相隔的时间少于 1 秒，且整个窗口的最大持续时长为 5 秒。</li>\n</ol>\n<h2 id=\"最常见的影响-CLS-的分数的有：\"><a href=\"#最常见的影响-CLS-的分数的有：\" class=\"headerlink\" title=\"最常见的影响 CLS 的分数的有：\"></a>最常见的影响 CLS 的分数的有：</h2><ol>\n<li>未指定尺寸的图片</li>\n<li>未指定尺寸的广告、嵌入元素、iframe</li>\n<li>动态插入内容</li>\n<li>自定义字体（引发 FOIT&#x2F;FOUT）</li>\n<li>在更新 DOM 之前等待网络响应的操作</li>\n</ol>\n<h2 id=\"CLS-问题有哪些影响\"><a href=\"#CLS-问题有哪些影响\" class=\"headerlink\" title=\"CLS 问题有哪些影响\"></a>CLS 问题有哪些影响</h2><ol>\n<li>在网上阅读一篇文章时，结果页面上的某些内容突然发生改变。</li>\n<li>文本在毫无预警的情况下移位，导致您找不到先前阅读的位置。</li>\n<li>或者更糟糕：正要点击一个链接或一个按钮，但在鼠标点击的瞬间，链接移位了，结果点到了别的东西！</li>\n<li>各搜索引擎对此类问题是比较反感的，具体表现的负面作用，就是严重影响网页权重和搜索引擎收录。</li>\n</ol>\n<h2 id=\"如何优化-CLS\"><a href=\"#如何优化-CLS\" class=\"headerlink\" title=\"如何优化 CLS\"></a>如何优化 CLS</h2><p>可以通过遵循一些指导原则来避免所有的意外布局偏移：</p>\n<p>1、始终在您的图像和视频元素上包含尺寸属性，或者通过使用 CSS 长宽比容器之类的方式预留所需的空间。<br>2、可以使用 unsized-media 功能策略, 在支持功能策略的浏览器中强制执行此行为。<br>3、除非是对用户交互做出响应，否则切勿在现有内容的上方插入内容。这样能够确保发生的任何布局偏移都在预期之内。<br>4、首选转换动画，而不是触发布局偏移的属性动画。动画过渡的目标是提供状态与状态之间的上下文连续性。</p>\n<h2 id=\"other\"><a href=\"#other\" class=\"headerlink\" title=\"other\"></a>other</h2><p><a href=\"https://search.bilibili.com/article?keyword=%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%94%B6%E5%BD%95%E4%BC%98%E5%8C%96&from_source=article\" target=\"_blank\" >搜索引擎收录优化</a></p>\n","text":"Cumulative Layout Shift (CLS)累积布局偏移，测量视觉稳定性。为了提供良好的用户体验，页面的 CLS 应保持在 0.1. 或更少。 什么是 CLSCLS，即 Cumulative Layout Shift 累积布局偏移 CLS 测量整个页面生命周期内发生...","link":"","photos":[],"count_time":{"symbolsCount":824,"symbolsTime":"1 mins."},"categories":[{"name":"性能优化","slug":"性能优化","count":9,"path":"api/categories/性能优化.json"}],"tags":[{"name":"性能优化","slug":"性能优化","count":9,"path":"api/tags/性能优化.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Cumulative-Layout-Shift-CLS\"><span class=\"toc-text\">Cumulative Layout Shift (CLS)</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF-CLS\"><span class=\"toc-text\">什么是 CLS</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9C%80%E5%B8%B8%E8%A7%81%E7%9A%84%E5%BD%B1%E5%93%8D-CLS-%E7%9A%84%E5%88%86%E6%95%B0%E7%9A%84%E6%9C%89%EF%BC%9A\"><span class=\"toc-text\">最常见的影响 CLS 的分数的有：</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#CLS-%E9%97%AE%E9%A2%98%E6%9C%89%E5%93%AA%E4%BA%9B%E5%BD%B1%E5%93%8D\"><span class=\"toc-text\">CLS 问题有哪些影响</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96-CLS\"><span class=\"toc-text\">如何优化 CLS</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#other\"><span class=\"toc-text\">other</span></a></li></ol>","author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"性能优化-Web Workers","uid":"606d0004659da737e4ce8d55e7a861d1","slug":"2023-02-15web_workers","date":"2023-02-15T01:44:35.000Z","updated":"2023-02-20T21:20:56.496Z","comments":true,"path":"api/articles/2023-02-15web_workers.json","keywords":null,"cover":"http://t-blog-images.aijs.top/img/202302151701564.webp","text":"Web workers 是什么？ 为 Web 内容在后台线程中运行脚本提供了一种简单的方法 线程可以执行任务而不干扰用户界面 运行原理一个 worker 是使用一个构造函数创建的一个对象 (e.g. Worker()) 运行一个命名的 JavaScript 文件 这个文件包含将在...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"性能优化","slug":"性能优化","count":9,"path":"api/categories/性能优化.json"}],"tags":[{"name":"性能优化","slug":"性能优化","count":9,"path":"api/tags/性能优化.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"性能指标 - FID","uid":"7f4dccbee0ac34fdbc8e55c8be3f50e9","slug":"2023-02-14web_fid","date":"2023-02-14T14:04:49.000Z","updated":"2023-02-20T21:20:56.495Z","comments":true,"path":"api/articles/2023-02-14web_fid.json","keywords":null,"cover":"https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/iHYrrXKe4QRcb2uu8eV8.svg","text":"First Input Delay (FID)首次输入延迟，测量交互性。为了提供良好的用户体验，页面的 FID 应为 100 毫秒或更短 如何改进 FID要了解如何改进某个特定网站的 FID，您可以运行一次灯塔性能审计，并留心查看审计建议的各种具体机会。 虽然 FID 是一项实际...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"性能优化","slug":"性能优化","count":9,"path":"api/categories/性能优化.json"}],"tags":[{"name":"性能优化","slug":"性能优化","count":9,"path":"api/tags/性能优化.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
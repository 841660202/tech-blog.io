{"title":"移动端适配 - viewport","uid":"7f7a9ab6a798a1698e4fe0da6545ff5a","slug":"2023-2-23viewport","date":"2023-02-23T09:27:13.000Z","updated":"2023-02-23T13:26:54.134Z","comments":true,"path":"api/articles/2023-2-23viewport.json","keywords":null,"cover":[],"content":"<h1 id=\"postcss-px-to-viewport\"><a href=\"#postcss-px-to-viewport\" class=\"headerlink\" title=\"postcss-px-to-viewport\"></a>postcss-px-to-viewport</h1><p>5W2H 法则进行复利</p>\n<h2 id=\"为什么\"><a href=\"#为什么\" class=\"headerlink\" title=\"为什么\"></a>为什么</h2><p>amfe-flexible 作者：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>由于 viewport 单位得到众多浏览器的兼容，lib-flexible 这个过渡方案已经可以放弃使用，不管是现在的版本还是以前的版本，都存有一定的问题。建议大家开始使用 viewport 来替代此方。</p></blockquote>\n<p><a href=\"/#/post/2023-02-23amfe-flexible\" target=\"_blank\" >见：2023-02-23amfe-flexible</a></p>\n<h2 id=\"是什么\"><a href=\"#是什么\" class=\"headerlink\" title=\"是什么\"></a>是什么</h2><p>将 px 单位转换为视口单位的 (vw, vh, vmin, vmax) 的 <a href=\"https://github.com/postcss/postcss\" target=\"_blank\" >PostCSS</a> 插件.</p>\n<h2 id=\"源码仓库\"><a href=\"#源码仓库\" class=\"headerlink\" title=\"源码仓库\"></a>源码仓库</h2><div style=\"display: flex;align-items: center;padding-top:4px;padding-bottom: 4px\"><a target=\"_blank\" href=\"https://github.com/evrone/postcss-px-to-viewport\">https://github.com/evrone/postcss-px-to-viewport</a><img src=\"https://img.shields.io/github/stars/evrone/postcss-px-to-viewport?style=social\" /></div>\n\n<h2 id=\"文档\"><a href=\"#文档\" class=\"headerlink\" title=\"文档\"></a>文档</h2><p>没用过 postcss-px-to-viewport 插件，直接看实现不太现实，这个插件用了 css 的 <code>postcss 抽象语法树解析器</code>，和 px2rem 的使用的 <code>rework 解析器</code>不同</p>\n<p>先看文档：<a href=\"https://github.com/evrone/postcss-px-to-viewport/blob/HEAD/README_CN.md\" target=\"_blank\" >postcss-px-to-viewport 官方中文文档</a></p>\n<h2 id=\"postcss-解析器\"><a href=\"#postcss-解析器\" class=\"headerlink\" title=\"postcss 解析器\"></a>postcss 解析器</h2><ol>\n<li>可以将 css 转化抽象语法树，</li>\n<li>可以将“对应的抽象语法树”转化成 css 代码</li>\n<li>支持插件扩展功能 <a href=\"https://github.com/postcss/postcss/blob/main/docs/writing-a-plugin.md\" target=\"_blank\" >postcss writing-a-plugin</a></li>\n</ol>\n<h2 id=\"解析器生成的抽象语法树\"><a href=\"#解析器生成的抽象语法树\" class=\"headerlink\" title=\"解析器生成的抽象语法树\"></a>解析器生成的抽象语法树</h2><img src=\"http://t-blog-images.aijs.top/img/202302231803296.webp\" />\n\n<p>通过<a href=\"https://astexplorer.net/#/2uBU1BLuJ1\" target=\"_blank\" >抽象语法树</a>来学习 postcss</p>\n<h2 id=\"postcss-API\"><a href=\"#postcss-API\" class=\"headerlink\" title=\"postcss API\"></a>postcss API</h2><p><a href=\"https://postcss.org/api/\" target=\"_blank\" >https://postcss.org/api/</a></p>\n<h2 id=\"postcss-plugin-模版\"><a href=\"#postcss-plugin-模版\" class=\"headerlink\" title=\"postcss plugin 模版\"></a>postcss plugin 模版</h2><p><a href=\"https://github.com/postcss/postcss-plugin-boilerplate/blob/main/template/index.t.js\" target=\"_blank\" >见</a></p>\n<h2 id=\"至此，阅读插件的储备已够\"><a href=\"#至此，阅读插件的储备已够\" class=\"headerlink\" title=\"至此，阅读插件的储备已够\"></a>至此，阅读插件的储备已够</h2><hr>\n<p><strong>了解了 postcss 插件，可以阅读 postcss-px-to-viewport 源码了</strong></p>\n<hr>\n<h2 id=\"postcss-px-to-viewport-源码\"><a href=\"#postcss-px-to-viewport-源码\" class=\"headerlink\" title=\"postcss-px-to-viewport 源码\"></a>postcss-px-to-viewport 源码</h2><h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><ol>\n<li><a href=\"https://juejin.cn/post/6957611897550012430#heading-6\" target=\"_blank\" >自适应布局方案</a></li>\n<li><a href=\"https://github.com/evrone/postcss-px-to-viewport/blob/HEAD/README_CN.md\" target=\"_blank\" >postcss-px-to-viewport 官方中文文档</a></li>\n<li><a href=\"https://github.com/postcss/postcss\" target=\"_blank\" >postcss 官方文档</a></li>\n<li><a href=\"https://github.com/postcss/postcss/blob/main/docs/writing-a-plugin.md\" target=\"_blank\" >postcss writing-a-plugin</a></li>\n<li><a href=\"https://postcss.org/api/\" target=\"_blank\" >https://postcss.org/api/</a></li>\n<li><a href=\"https://postcss.org/docs/writing-a-postcss-plugin\" target=\"_blank\" >https://postcss.org/docs/writing-a-postcss-plugin</a></li>\n</ol>\n","text":"postcss-px-to-viewport5W2H 法则进行复利 为什么amfe-flexible 作者： 由于 viewport 单位得到众多浏览器的兼容，lib-flexible 这个过渡方案已经可以放弃使用，不管是现在的版本还是以前的版本，都存有一定的问题。建议大家开始使...","link":"","photos":[],"count_time":{"symbolsCount":853,"symbolsTime":"1 mins."},"categories":[{"name":"移动端适配","slug":"移动端适配","count":4,"path":"api/categories/移动端适配.json"}],"tags":[{"name":"源码","slug":"源码","count":16,"path":"api/tags/源码.json"},{"name":"移动端适配","slug":"移动端适配","count":4,"path":"api/tags/移动端适配.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#postcss-px-to-viewport\"><span class=\"toc-text\">postcss-px-to-viewport</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88\"><span class=\"toc-text\">为什么</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%98%AF%E4%BB%80%E4%B9%88\"><span class=\"toc-text\">是什么</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%BA%90%E7%A0%81%E4%BB%93%E5%BA%93\"><span class=\"toc-text\">源码仓库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">文档</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#postcss-%E8%A7%A3%E6%9E%90%E5%99%A8\"><span class=\"toc-text\">postcss 解析器</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E6%9E%90%E5%99%A8%E7%94%9F%E6%88%90%E7%9A%84%E6%8A%BD%E8%B1%A1%E8%AF%AD%E6%B3%95%E6%A0%91\"><span class=\"toc-text\">解析器生成的抽象语法树</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#postcss-API\"><span class=\"toc-text\">postcss API</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#postcss-plugin-%E6%A8%A1%E7%89%88\"><span class=\"toc-text\">postcss plugin 模版</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%B3%E6%AD%A4%EF%BC%8C%E9%98%85%E8%AF%BB%E6%8F%92%E4%BB%B6%E7%9A%84%E5%82%A8%E5%A4%87%E5%B7%B2%E5%A4%9F\"><span class=\"toc-text\">至此，阅读插件的储备已够</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#postcss-px-to-viewport-%E6%BA%90%E7%A0%81\"><span class=\"toc-text\">postcss-px-to-viewport 源码</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">参考链接</span></a></li></ol></li></ol>","author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"记一个老古董项目代码","uid":"e00426eb8e20267d75c9bea1f431c2ca","slug":"2023-02-27select","date":"2023-02-27T02:56:48.000Z","updated":"2023-02-27T12:46:06.495Z","comments":true,"path":"api/articles/2023-02-27select.json","keywords":null,"cover":[],"text":"背景周五晚上去上海，周末在上海加了两天班， 做公司项目，周日晚上 9 点回到杭州帮媳妇写老古董 demo（贼充实 😭） 事情经过 媳妇公司的另一个银行项目组业务，要在原有的 java web 项目给下拉选择功能， 增加是否可选的控制，很费劲的哦：不给你看代码，只是说用的 jque...","link":"","photos":[],"count_time":{"symbolsCount":"8.1k","symbolsTime":"7 mins."},"categories":[{"name":"jQuery","slug":"jQuery","count":1,"path":"api/categories/jQuery.json"}],"tags":[{"name":"jQuery","slug":"jQuery","count":1,"path":"api/tags/jQuery.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"移动端适配 - amfe-flexible","uid":"f348d38b4d9622020eade27f316aa8e6","slug":"2023-02-23amfe-flexible","date":"2023-02-23T08:59:26.000Z","updated":"2023-02-27T12:46:06.493Z","comments":true,"path":"api/articles/2023-02-23amfe-flexible.json","keywords":null,"cover":[],"text":"amfe-flexible作用: 是动态设置根节点和 body 的 fontSize, 检测0.5px的支持情况 https://github.com/amfe/lib-flexible 设置 body 的原因： fontSize 会被继承， root fontSize 被改变了...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"移动端适配","slug":"移动端适配","count":4,"path":"api/categories/移动端适配.json"}],"tags":[{"name":"移动端适配","slug":"移动端适配","count":4,"path":"api/tags/移动端适配.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
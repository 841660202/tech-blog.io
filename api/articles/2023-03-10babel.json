{"title":"React StrictMode","uid":"072284d75a6848b3baf49e71f53b2857","slug":"2023-03-10babel","date":"2023-03-10T09:14:04.000Z","updated":"2023-03-13T13:39:28.233Z","comments":true,"path":"api/articles/2023-03-10babel.json","keywords":null,"cover":[],"content":"<h2 id=\"åŠ¨æœº\"><a href=\"#åŠ¨æœº\" class=\"headerlink\" title=\"åŠ¨æœº\"></a>åŠ¨æœº</h2><ol>\n<li>React StrictMode çš„æºç é•¿ä»€ä¹ˆæ ·å­ï¼Ÿ</li>\n<li>æ‰§è¡Œè¿‡æˆæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæ˜¯æ ‡ç­¾ï¼Œéš¾é“ React å†…éƒ¨å®ç°äº†è¿™ä¸ªç»„ä»¶ï¼Ÿ</li>\n</ol>\n<h2 id=\"æŸ¥èµ„æ–™\"><a href=\"#æŸ¥èµ„æ–™\" class=\"headerlink\" title=\"æŸ¥èµ„æ–™\"></a>æŸ¥èµ„æ–™</h2><p>æœåˆ°çš„èµ„æ–™éƒ½æ˜¯<a href=\"https://reactjs.org/docs/strict-mode.html\" target=\"_blank\" >å®˜ç½‘æ–‡æ¡£</a> å’Œ React å®˜æ–¹åšå®¢ <a href=\"https://reactjs.org/blog/2022/03/29/react-v18.html\" target=\"_blank\" >18 ç‰ˆæœ¬æ›´æ–°å†…å®¹</a> çš„æ¬è¿</p>\n<h2 id=\"ç¿»æºç \"><a href=\"#ç¿»æºç \" class=\"headerlink\" title=\"ç¿»æºç \"></a>ç¿»æºç </h2><h3 id=\"clone-react-æºç ï¼Œ-vscode-æœç´¢\"><a href=\"#clone-react-æºç ï¼Œ-vscode-æœç´¢\" class=\"headerlink\" title=\"clone react æºç ï¼Œ vscode æœç´¢\"></a>clone react æºç ï¼Œ vscode æœç´¢</h3><p>ä¸€æœ ğŸ˜“ï¼Œå°´å°¬äº†ï¼Œå‘ç°å¾ˆå¤š<code>StrictMode</code>, ç¡¬ç€å¤´çš®ï¼Œä»ç¬¬ä¸€è¡Œæœç´¢ç»“æœï¼Œæ‰¾åˆ°æœ€åä¸€è¡Œï¼Œå—¯ï¼Œæ²¡æœ‰æƒ³è¦çš„</p>\n<h3 id=\"æ‰¾å…¥å£æ–‡ä»¶\"><a href=\"#æ‰¾å…¥å£æ–‡ä»¶\" class=\"headerlink\" title=\"æ‰¾å…¥å£æ–‡ä»¶\"></a>æ‰¾å…¥å£æ–‡ä»¶</h3><pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">import &#123;\n  ...\n  REACT_FRAGMENT_TYPE, &#x2F;&#x2F; Symbol.for(&#39;react.fragment&#39;)\n  &#x2F;&#x2F; ...\n  REACT_STRICT_MODE_TYPE, &#x2F;&#x2F; Symbol.for(&#39;react.strict_mode&#39;)\n  &#x2F;&#x2F; ...\n&#125; from &quot;shared&#x2F;ReactSymbols&quot;;\n\nexport &#123;\n  &#x2F;&#x2F; ...\n  REACT_FRAGMENT_TYPE as Fragment,\n  &#x2F;&#x2F; ...\n  REACT_STRICT_MODE_TYPE as StrictMode,\n  &#x2F;&#x2F; ...\n&#125;;</code></pre>\n\n<ol>\n<li>è¿™ï½ï½ï¼Œç¡®å®æ²¡æ‰¾åˆ°<code>StrictMode</code>ç»„ä»¶</li>\n<li>æˆ‘ç•™äº†<code>Fragment</code>å’Œ<code>StrictMode</code>ï¼Œä¸è‡³äºå¯¹<code>StrictMode</code>é™Œç”Ÿ</li>\n</ol>\n<h2 id=\"Q-amp-A\"><a href=\"#Q-amp-A\" class=\"headerlink\" title=\"Q&amp;A\"></a>Q&amp;A</h2><ol>\n<li>æ—¢ç„¶æ˜¯ç»„ä»¶ï¼Œé‚£è‚¯å®šèµ°äº†<code>React.createElement</code>æ–¹æ³•ï¼Œ</li>\n<li>JSX è¯­æ³•æ˜¯çœ‹ä¸åˆ°<code>React.createElement</code>è°ƒç”¨çš„ï¼Œä¸­é—´ä¸€å®šå­˜åœ¨è½¬åŒ–</li>\n<li>React å®˜æ–¹ å’Œ babel å®˜æ–¹ åˆä½œï¼Œä»¥å»æ‰ React å¼•ç”¨</li>\n<li>ä¸­é—´æ‰§è¡Œè½¬åŒ–çš„å°±æ˜¯<code>babel</code>ï¼ˆjs è¯­æ³•è§£æå™¨æ˜¯ babelï¼‰</li>\n</ol>\n<h2 id=\"babel\"><a href=\"#babel\" class=\"headerlink\" title=\"babel\"></a>babel</h2><p><a href=\"https://www.babeljs.cn/repl#?browsers=defaults%2C%20not%20ie%2011%2C%20not%20ie_mob%2011&build=&builtIns=false&corejs=3.21&spec=false&loose=false&code_lz=DwJQpghgxgLgdAZRgJwJawLIHsAmYB8AUAATHA6oBuxRppwADsQM4wCeANmALwDevULByzIAXMQDkyMDgkBfOcSwA7AMId0Aaz4ALCMpxd1WufgCMAJkvAA9A1p1GxVDm4SzE81Yu37JR0yaYGzcAEQ6YBzCoV7Wdg62FJQJDgCQAGLIEADmALZgyjD-tgng0PCZOfmFDqSVeQUwFsU2ZbBw9dUwRLZt8EhomLgEQA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=env%2Creact&prettier=true&targets=&version=7.21.2&externalPlugins=&assumptions=%7B%7D\" target=\"_blank\" >è§</a></p>\n<h3 id=\"æ—¶é—´ç©¿æ¢­å›¾\"><a href=\"#æ—¶é—´ç©¿æ¢­å›¾\" class=\"headerlink\" title=\"æ—¶é—´ç©¿æ¢­å›¾\"></a>æ—¶é—´ç©¿æ¢­å›¾</h3><img src=\"http://t-blog-images.aijs.top/img/202303101737542.webp\" />\n\n<h3 id=\"å®Œæ•´å›¾\"><a href=\"#å®Œæ•´å›¾\" class=\"headerlink\" title=\"å®Œæ•´å›¾\"></a>å®Œæ•´å›¾</h3><img src=\"http://t-blog-images.aijs.top/img/202303101741060.webp\" />\n\n<p><strong>çœ‹ä¸Šå»æ²¡æœ‰ <a href=\"https://astexplorer.net/\">ast explore</a>ï¼ˆJSON æ ¼å¼ï¼‰ é‚£ä¹ˆå¥½çœ‹ï¼Œast explore ä¸Šæ²¡æœ‰ react ç›¸å…³çš„ï¼Œæ‰€ä»¥å§ï¼Œå‡‘åˆç€çœ‹</strong></p>\n<ol>\n<li>è‡³æ­¤ï¼Œä¸å…¥å£æ–‡ä»¶å¤„çš„ symble å¯¹åº”ä¸Šäº†ï¼Œåœ¨æºç ä¸­ä¸å­˜åœ¨ StrictMode ç»„ä»¶ï¼Œä¹Ÿè¯´æ˜äº†åœ¨æºç ä¸­æ‰¾ç»„ä»¶çš„æ–¹å¼ï¼Œæ˜¯æ‰¾ä¸åˆ°çš„</li>\n<li>åºå· 1 å¯¹åº” fiber çš„ tag, <a href=\"https://beta.reactjs.org/reference/react/createElement\" target=\"_blank\" >React.createElement</a></li>\n<li>åºå· 2 å±æ€§ <code>properties</code> ç›¸å…³</li>\n<li>åºå· 3 å­èŠ‚ç‚¹</li>\n</ol>\n<p><strong>createElement æºç ä¹Ÿå¯ä¸€æ¢ç©¶ç«Ÿï¼Œå…¶å¯¹å‚æ•° 1ã€å‚æ•° 2ã€å‚æ•° 3 çš„å¤„ç†</strong></p>\n<p><a href=\"https://github.com/facebook/react/blob/d1ad984db1591b131d16739a24dee4ba44886a09/packages/react/src/ReactElement.js#L362\" target=\"_blank\" >è§</a></p>\n<h2 id=\"ast-explore\"><a href=\"#ast-explore\" class=\"headerlink\" title=\"ast explore\"></a>ast explore</h2><img src=\"http://t-blog-images.aijs.top/img/202303101819397.webp\" />\n\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>åœ¨æ‰¾<code>StrictMode</code>ç»„ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œ</p>\n<ol>\n<li>å­¦åˆ°äº† babel ä¼šå°† jsx è½¬åŒ–å•¥æ ·å­</li>\n<li>ä¸€ä¸ªå˜é‡æ€ä¹ˆå°±å¯ä»¥å½“ç»„ä»¶ç”¨äº†</li>\n</ol>\n<h2 id=\"å‚è€ƒé“¾æ¥\"><a href=\"#å‚è€ƒé“¾æ¥\" class=\"headerlink\" title=\"å‚è€ƒé“¾æ¥\"></a>å‚è€ƒé“¾æ¥</h2><ol>\n<li><a href=\"https://github.com/facebook/react/blob/d1ad984db1591b131d16739a24dee4ba44886a09/packages/react/src/ReactElement.js#L362\" target=\"_blank\" >React.createElement æºç </a></li>\n<li><a href=\"https://www.babeljs.cn/repl#?browsers=defaults%2C%20not%20ie%2011%2C%20not%20ie_mob%2011&build=&builtIns=false&corejs=3.21&spec=false&loose=false&code_lz=DwJQpghgxgLgdAZRgJwJawLIHsAmYB8AUAATHA6oBuxRppwADsQM4wCeANmALwDevULByzIAXMQDkyMDgkBfOcSwA7AMId0Aaz4ALCMpxd1WufgCMAJkvAA9A1p1GxVDm4SzE81Yu37JR0yaYGzcAEQ6YBzCoV7Wdg62FJQJDgCQAGLIEADmALZgyjD-tgng0PCZOfmFDqSVeQUwFsU2ZbBw9dUwRLZt8EhomLgEQA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=env%2Creact&prettier=true&targets=&version=7.21.2&externalPlugins=&assumptions=%7B%7D\" target=\"_blank\" >babel playground</a></li>\n<li><a href=\"https://beta.reactjs.org/reference/react/createElement\" target=\"_blank\" >createelement</a></li>\n<li><a href=\"https://reactjs.org/blog/2022/03/29/react-v18.html\" target=\"_blank\" >18 ç‰ˆæœ¬æ›´æ–°å†…å®¹</a></li>\n</ol>\n","text":"åŠ¨æœº React StrictMode çš„æºç é•¿ä»€ä¹ˆæ ·å­ï¼Ÿ æ‰§è¡Œè¿‡æˆæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæ˜¯æ ‡ç­¾ï¼Œéš¾é“ React å†…éƒ¨å®ç°äº†è¿™ä¸ªç»„ä»¶ï¼Ÿ æŸ¥èµ„æ–™æœåˆ°çš„èµ„æ–™éƒ½æ˜¯å®˜ç½‘æ–‡æ¡£ å’Œ React å®˜æ–¹åšå®¢ 18 ç‰ˆæœ¬æ›´æ–°å†…å®¹ çš„æ¬è¿ ç¿»æºç clone react æºç ï¼Œ vscode æœç´¢ä¸€æœ ğŸ˜“ï¼Œ...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"React","slug":"React","count":39,"path":"api/categories/React.json"}],"tags":[{"name":"React","slug":"React","count":33,"path":"api/tags/React.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8A%A8%E6%9C%BA\"><span class=\"toc-text\">åŠ¨æœº</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%B5%84%E6%96%99\"><span class=\"toc-text\">æŸ¥èµ„æ–™</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BF%BB%E6%BA%90%E7%A0%81\"><span class=\"toc-text\">ç¿»æºç </span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#clone-react-%E6%BA%90%E7%A0%81%EF%BC%8C-vscode-%E6%90%9C%E7%B4%A2\"><span class=\"toc-text\">clone react æºç ï¼Œ vscode æœç´¢</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%BE%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">æ‰¾å…¥å£æ–‡ä»¶</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Q-amp-A\"><span class=\"toc-text\">Q&amp;A</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#babel\"><span class=\"toc-text\">babel</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%97%B6%E9%97%B4%E7%A9%BF%E6%A2%AD%E5%9B%BE\"><span class=\"toc-text\">æ—¶é—´ç©¿æ¢­å›¾</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%8C%E6%95%B4%E5%9B%BE\"><span class=\"toc-text\">å®Œæ•´å›¾</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ast-explore\"><span class=\"toc-text\">ast explore</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">æ€»ç»“</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">å‚è€ƒé“¾æ¥</span></a></li></ol>","author":{"name":"ä¸¾æ‰‹æ‘˜æœˆäº®","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>ä¸¾æ‰‹å‘è‹ç©¹ï¼Œå¹¶éä¸€å®šè¦æ‘˜åˆ°æ˜Ÿæœˆ</p><p>çœ¼ä¸­æœ‰å…‰ï¼Œå¿ƒä¸­æœ‰æ¢¦ï¼Œè„šä¸‹æœ‰è·¯</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"React jsx -> fiber -> dom çš„è½¬åŒ–","uid":"1a2c0f92af01c15fc4932e397caca413","slug":"2023-03-31createElement","date":"2023-03-13T05:57:13.000Z","updated":"2023-04-18T15:54:59.596Z","comments":true,"path":"api/articles/2023-03-31createElement.json","keywords":null,"cover":[],"text":"è¯»æºç åŸºç¡€ ä½è¿ç®— callã€applyã€bind åŸç† é“¾è¡¨ç›¸å…³çŸ¥è¯†(å•é“¾è¡¨ã€åŒé“¾è¡¨ã€å¾ªç¯é“¾è¡¨) èŠ‚æµã€é˜²æŠ–åŸç† ensureRootIsScheduled: if (existingCallbackNode !== null) &#123; è®¾è®¡æ¨¡å¼ç›¸å…³çŸ¥è¯† å®‰å…¨ç›¸å…³çŸ¥è¯† æ ˆ...","link":"","photos":[],"count_time":{"symbolsCount":"9.4k","symbolsTime":"9 mins."},"categories":[{"name":"React","slug":"React","count":39,"path":"api/categories/React.json"}],"tags":[{"name":"React","slug":"React","count":33,"path":"api/tags/React.json"}],"author":{"name":"ä¸¾æ‰‹æ‘˜æœˆäº®","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>ä¸¾æ‰‹å‘è‹ç©¹ï¼Œå¹¶éä¸€å®šè¦æ‘˜åˆ°æ˜Ÿæœˆ</p><p>çœ¼ä¸­æœ‰å…‰ï¼Œå¿ƒä¸­æœ‰æ¢¦ï¼Œè„šä¸‹æœ‰è·¯</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"Object.defineProperty","uid":"547eb37eabbf2632d492b2d3c42b55d1","slug":"2023-03-09defineProperty","date":"2023-03-09T07:09:55.000Z","updated":"2023-03-09T15:11:24.967Z","comments":true,"path":"api/articles/2023-03-09defineProperty.json","keywords":null,"cover":null,"text":"æ˜¯ä»€ä¹ˆObject.defineProperty() æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›æ­¤å¯¹è±¡ &#x2F;&#x2F; è¯­æ³• Object.defineProperty(obj, prop, descriptor); åŠ¨æœºä¸ºäº†ç²¾ç¡®åœ°æ·»åŠ æˆ–ä¿®...","link":"","photos":[],"count_time":{"symbolsCount":"5.9k","symbolsTime":"5 mins."},"categories":[{"name":"å‰ç«¯åŸºç¡€","slug":"å‰ç«¯åŸºç¡€","count":54,"path":"api/categories/å‰ç«¯åŸºç¡€.json"}],"tags":[{"name":"å‰ç«¯åŸºç¡€","slug":"å‰ç«¯åŸºç¡€","count":56,"path":"api/tags/å‰ç«¯åŸºç¡€.json"}],"author":{"name":"ä¸¾æ‰‹æ‘˜æœˆäº®","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>ä¸¾æ‰‹å‘è‹ç©¹ï¼Œå¹¶éä¸€å®šè¦æ‘˜åˆ°æ˜Ÿæœˆ</p><p>çœ¼ä¸­æœ‰å…‰ï¼Œå¿ƒä¸­æœ‰æ¢¦ï¼Œè„šä¸‹æœ‰è·¯</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
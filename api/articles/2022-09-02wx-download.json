{"title":"ä¼ä¸šå¾®ä¿¡ ä¸‹è½½/å¯¼å‡º","uid":"624f5234ec8cf95d8c13811af9eb0639","slug":"2022-09-02wx-download","date":"2022-09-02T08:59:24.000Z","updated":"2022-09-15T14:26:11.047Z","comments":true,"path":"api/articles/2022-09-02wx-download.json","keywords":null,"cover":[],"content":"<h2 id=\"æµè§ˆå™¨ç¯å¢ƒ\"><a href=\"#æµè§ˆå™¨ç¯å¢ƒ\" class=\"headerlink\" title=\"æµè§ˆå™¨ç¯å¢ƒ\"></a>æµè§ˆå™¨ç¯å¢ƒ</h2><h3 id=\"a-æ ‡ç­¾æ–¹å¼\"><a href=\"#a-æ ‡ç­¾æ–¹å¼\" class=\"headerlink\" title=\"a æ ‡ç­¾æ–¹å¼\"></a>a æ ‡ç­¾æ–¹å¼</h3><p>ä¸€èˆ¬æƒ…å†µ</p>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">&#x2F;**\n * @param &#123; String &#125; target ä¸‹è½½å¯¹è±¡\n * @param &#123; String &#125; type ç±»å‹ url &#x2F; blob\n *&#x2F;\nexport const downloadFile &#x3D; (target, filename &#x3D; &quot;&quot;, type &#x3D; &quot;url&quot;) &#x3D;&gt; &#123;\n  const link &#x3D; document.createElement(&quot;a&quot;);\n  const body &#x3D; document.querySelector(&quot;body&quot;);\n  if (!body) return;\n\n  &#x2F;&#x2F; éœ€ä¸‹è½½çš„æ–‡ä»¶ç±»å‹\n  if (type &#x3D;&#x3D;&#x3D; &quot;url&quot;) &#123;\n    link.href &#x3D; target;\n  &#125; else if (type &#x3D;&#x3D;&#x3D; &quot;blob&quot;) &#123;\n    link.href &#x3D; window.URL.createObjectURL(target);\n  &#125;\n\n  &#x2F;&#x2F; æ–‡ä»¶å\n  if (filename) link.download &#x3D; filename;\n\n  link.style.display &#x3D; &quot;none&quot;;\n  body.appendChild(link);\n\n  link.click();\n\n  window.URL.revokeObjectURL(link.href); &#x2F;&#x2F; é‡Šæ”¾ URL å¯¹è±¡\n  body.removeChild(link);\n&#125;;</code></pre>\n\n<h3 id=\"window-api-æ–¹å¼\"><a href=\"#window-api-æ–¹å¼\" class=\"headerlink\" title=\"window api æ–¹å¼\"></a>window api æ–¹å¼</h3><p><code>window.open</code> ã€<code>window.location.href</code></p>\n<p>é€šè¿‡ name å½¢å¼</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">window.open(&quot;url?name&#x3D;èµ„æºæ–‡ä»¶&quot;);\nwindow.location.href &#x3D; &quot;url?name&#x3D;èµ„æºæ–‡ä»¶&quot;;</code></pre>\n\n<h2 id=\"ä¼ä¸šå¾®ä¿¡ç¯å¢ƒ\"><a href=\"#ä¼ä¸šå¾®ä¿¡ç¯å¢ƒ\" class=\"headerlink\" title=\"ä¼ä¸šå¾®ä¿¡ç¯å¢ƒ\"></a>ä¼ä¸šå¾®ä¿¡ç¯å¢ƒ</h2><p>ä¸æ”¯æŒä¸Šè¿°ä¸¤ç§æ–¹å¼æ›´æ”¹ï¼Œå®Œå…¨ç”±åå°æ¥å£è¿”å›æ§åˆ¶</p>\n<img src=\"http://t-blog-images.aijs.top/img/202209021704425.webp\" />\n\n<ul>\n<li><p>å¹¶ä¸”ä¼ä¸šå¾®ä¿¡ä¸‹è½½ï¼Œéœ€è¦äºŒæ¬¡ç¡®è®¤ï¼Œä¸‹è½½ä¹‹åï¼Œå¹¶ä¸åƒæµè§ˆå™¨é‚£æ ·æç¤ºåœ¨åº•éƒ¨æç¤ºå·²ä¸‹è½½çš„æ–‡ä»¶</p>\n</li>\n<li><p>å¦‚æœè¿™ä¸ªåœ°æ–¹ <code>Content-Disposition</code> åå°æ²¡æœ‰å¡ filename å­—æ®µï¼Œä¼ä¸šå¾®ä¿¡æç¤ºäºŒæ¬¡ç¡®è®¤æ—¶å€™çš„é‡å‘½å <span style=\"color: red\">è¾“å…¥æ¡†é»˜è®¤æ˜¯ç©ºçš„</span></p>\n</li>\n<li><p>ä¼ä¸šå¾®ä¿¡æ–‡ä»¶APIç†è®ºä¸Šå¯ä»¥ç”¨ï¼Œä½†æ˜¯æœ‰äº›IOSæ‰‹æœºè¿˜æ˜¯å‘å¤šå¤š</p>\n</li>\n</ul>\n","text":"æµè§ˆå™¨ç¯å¢ƒa æ ‡ç­¾æ–¹å¼ä¸€èˆ¬æƒ…å†µ &#x2F;** * @param &#123; String &#125; target ä¸‹è½½å¯¹è±¡ * @param &#123; String &#125; type ç±»å‹ url &#x2F; blob *&#x2F; export cons...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"ä¼ä¸šå¾®ä¿¡","slug":"ä¼ä¸šå¾®ä¿¡","count":5,"path":"api/categories/ä¼ä¸šå¾®ä¿¡.json"}],"tags":[{"name":"ä¼ä¸šå¾®ä¿¡","slug":"ä¼ä¸šå¾®ä¿¡","count":5,"path":"api/tags/ä¼ä¸šå¾®ä¿¡.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">æµè§ˆå™¨ç¯å¢ƒ</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#a-%E6%A0%87%E7%AD%BE%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">a æ ‡ç­¾æ–¹å¼</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#window-api-%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">window api æ–¹å¼</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">ä¼ä¸šå¾®ä¿¡ç¯å¢ƒ</span></a></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"vscode react-javascript-snippetsæºç ","uid":"1ad99506e723aeb106287f0014b15cda","slug":"2022-09-05vscode","date":"2022-09-05T02:35:51.000Z","updated":"2022-09-15T14:26:11.049Z","comments":true,"path":"api/articles/2022-09-05vscode.json","keywords":null,"cover":[],"text":"èƒŒæ™¯è¦åˆ†äº«è‡ªå·±å¼€å‘çš„ä»£ç ç‰‡æ®µå·¥å…· vs-snippetsï¼Œæ­£æ‰€è°“ï¼šæ²¡æœ‰å¯¹æ¯”ï¼Œå°±æ²¡æœ‰ä¼¤å®³,äº†è§£ä¸‹åˆ«äººæ˜¯å¦‚ä½•å¼€å‘ä»£ç ç‰‡æ®µæ’ä»¶çš„æ€è·¯ï¼Œåšä¸ªå¯¹æ¯” ä¸å¾—ä¸è¯´ï¼Œreact-javascript-snippets æ— è®ºä»æºä»£ç ç»„ç»‡è¿˜æ˜¯æ”¯æŒçš„ä»£ç ç‰‡æ®µæ¥è®²éƒ½éå¸¸ä¼˜ç§€ï¼Œå¯¹äºå¤§ä¼—åŒ–æ¥è®²éå¸¸ niceã€‚...","link":"","photos":[],"count_time":{"symbolsCount":"12k","symbolsTime":"11 mins."},"categories":[{"name":"vscode","slug":"vscode","count":2,"path":"api/categories/vscode.json"}],"tags":[{"name":"vscode","slug":"vscode","count":6,"path":"api/tags/vscode.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"ahooksæºç ","uid":"847fdfbf845470be05a2ff27391aae0c","slug":"2022-08-24ahooks","date":"2022-08-24T09:16:49.000Z","updated":"2022-09-15T14:26:11.046Z","comments":true,"path":"api/articles/2022-08-24ahooks.json","keywords":null,"cover":"https://ahooks.js.org/logo.svg","text":"èƒŒæ™¯éšæ„çœ‹çœ‹ï¼Œäº†è§£ä¸‹ï¼Œæ— å›ºå®šé¡ºåºï¼Œå…¨å‡­å…´è¶£ useUpdate useUpdate ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨è¯¥å‡½æ•°ä¼šå¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ import &#123; useCallback, useState &#125; from &quot;react&quot;; const u...","link":"","photos":[],"count_time":{"symbolsCount":"97k","symbolsTime":"1:28"},"categories":[{"name":"æºç ","slug":"æºç ","count":2,"path":"api/categories/æºç .json"}],"tags":[{"name":"æºç ","slug":"æºç ","count":14,"path":"api/tags/æºç .json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
{"title":"wiki Laser Pen","uid":"2e69f09f2b5424b80304135ea166c436","slug":"2022-05-27wiki-laserPen","date":"2022-05-27T08:07:33.000Z","updated":"2022-09-16T13:54:56.121Z","comments":true,"path":"api/articles/2022-05-27wiki-laserPen.json","keywords":null,"cover":[],"content":"<h2 id=\"Laser-Pen\"><a href=\"#Laser-Pen\" class=\"headerlink\" title=\"Laser Pen\"></a>Laser Pen</h2><p><code>Laser Pen </code>æ˜¯ä¸€å¥—ç”¨æ¥åœ¨ web canvas ä¸Šç»˜åˆ¶é¼ æ ‡è½¨è¿¹çš„å·¥å…·é›†ã€‚</p>\n<h2 id=\"ä½¿ç”¨åœºæ™¯\"><a href=\"#ä½¿ç”¨åœºæ™¯\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h2><p><code>wiki</code>å…¨å±æ¼”ç¤ºæ—¶å€™ï¼Œä¸ºäº†ä¾¿äºå¬ä¼—è·Ÿéšæ¼”è®²è€…è¿›åº¦ï¼Œç»™é¼ æ ‡è½¨è¿¹åŠ ä¸Šæ ‡è®°ã€‚</p>\n<p><img src=\"http://t-blog-images.aijs.top/img/demo.gif\"></p>\n<p>æ³¨ï¼šå…¬å¸é¡¹ç›®ç”±äºç‰ˆæƒé—®é¢˜ï¼Œä¸ä¾¿æ¼”ç¤º</p>\n<h2 id=\"åˆæ­¥ä¸Šæ‰‹\"><a href=\"#åˆæ­¥ä¸Šæ‰‹\" class=\"headerlink\" title=\"åˆæ­¥ä¸Šæ‰‹\"></a>åˆæ­¥ä¸Šæ‰‹</h2><p>é¦–å…ˆåœ¨ä½ çš„é¡¹ç›®ä¸­æ·»åŠ å¯¹ Laser Pen çš„ä¾èµ–ï¼š</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">yarn add laser-pen</code></pre>\n<p>æˆ–è€…</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">npm i laser-pen\n</code></pre>\n<p>ç„¶åç›‘å¬é¼ æ ‡çš„ move äº‹ä»¶ï¼Œè·å–é¼ æ ‡ç§»åŠ¨è½¨è¿¹çš„åæ ‡ï¼Œå¹¶åŒæ—¶è®°å½• move äº‹ä»¶è§¦å‘æ—¶çš„æ—¶é—´æˆ³ã€‚</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; è·å– canvas å…ƒç´ çš„åæ ‡\nconst canvasDom &#x3D; document.querySelector(&#39;canvas&#39;)\nconst canvasPos &#x3D; canvasDom.getBoundingClientRect()\nconst ctx &#x3D; canvas.getContext(&#39;2d&#39;)\n&#x2F;&#x2F; ç”¨æ¥å­˜å‚¨æ‰€æœ‰é¼ æ ‡è½¨è¿¹æ•°æ®\nlet mouseTrack &#x3D; []\n&#x2F;&#x2F; ç›‘å¬é¼ æ ‡äº‹ä»¶\ndocument.addEventListener(&#39;mousemove&#39;, (event) &#x3D;&gt; &#123;\n  mouseTrack.push(&#123;\n    x: event.clientX - canvasPos.x,\n    y: event.clientY - canvasPos.y,\n    time: Date.now(),\n  &#125;)\n&#125;)\n</code></pre>\n<p>æœ€ååœ¨è°ƒç”¨ drawLaserPen æ–¹æ³•ç»˜åˆ¶é¼ æ ‡è½¨è¿¹</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">import &#123; drainPoints, drawLaserPen &#125; from &#39;laser-pen&#39;\n\nfunction draw() &#123;\n  &#x2F;&#x2F; è¿‡æ»¤æ‰ä¸€äº›å¤±æ•ˆçš„è½¨è¿¹åæ ‡\n  mouseTrack &#x3D; drainPoints(mouseTrack)\n  if (mouseTrack.length &gt;&#x3D; 3) &#123;\n    &#x2F;&#x2F; ç»˜åˆ¶é¼ æ ‡è½¨è¿¹\n    drawLaserPen(ctx, mouseTrack)\n  &#125;\n  requestAnimation(draw)\n&#125;\n</code></pre>\n\n<p>åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥å·²ç»å¯ä»¥åœ¨ canvas ä¸Šå®ç°é¼ æ ‡è½¨è¿¹çš„ç»˜åˆ¶äº†ã€‚</p>\n<h2 id=\"å‚æ•°é…ç½®\"><a href=\"#å‚æ•°é…ç½®\" class=\"headerlink\" title=\"å‚æ•°é…ç½®\"></a>å‚æ•°é…ç½®</h2><p>å¦‚æœé»˜è®¤çš„è½¨è¿¹æ•ˆæœä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼ŒLaser Pen è¿˜æä¾›äº†ä¸€äº›æ¥å£è®©ä½ å¯ä»¥æ–¹ä¾¿çš„ä¿®æ”¹é¼ æ ‡è½¨è¿¹çš„æ ·å¼ã€‚</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; è®¾ç½®å»¶è¿Ÿæ—¶é—´ï¼Œmousemove äº‹ä»¶äº§ç”Ÿçš„åæ ‡ç‚¹åœ¨è¶…è¿‡å»¶è¿Ÿæ—¶é—´åå°±ä¸ä¼šè¢«ç»˜åˆ¶ï¼Œä¼šç›´æ¥å½±å“è½¨è¿¹çš„é•¿åº¦\nsetDelay: (millisecond: number) &#x3D;&gt; void;\n&#x2F;&#x2F; è®¾ç½®è½¨è¿¹çš„æœ€å¤§å®½åº¦ï¼Œè½¨è¿¹æ˜¯ä¸€æ¡ç”±ç²—å˜ç»†çš„æ›²çº¿ï¼ŒmaxWidth è¡¨ç¤ºç²—çš„é‚£ä¸€å¤´çš„çº¿å®½\nsetMaxWidth: (width: number) &#x3D;&gt; void;\n&#x2F;&#x2F; è®¾ç½®è½¨è¿¹çš„æœ€å°å®½åº¦ï¼Œè½¨è¿¹æ˜¯ä¸€æ¡ç”±ç²—å˜ç»†çš„æ›²çº¿ï¼ŒminWidth è¡¨ç¤ºç»†çš„é‚£ä¸€å¤´çš„çº¿å®½\nsetMinWidth: (width: number) &#x3D;&gt; void;\n&#x2F;&#x2F; è®¾ç½®æ›²çº¿å¼ åŠ›å¤§å°ï¼Œå¼ åŠ›è¶Šå¤§æ‹ç‚¹å¤„è¶Šå¹³æ»‘ï¼Œåä¹‹è¶Šå°–é”\nsetTension: (t: number) &#x3D;&gt; void;\n&#x2F;&#x2F; è®¾ç½®è½¨è¿¹çš„æœ€å°é€æ˜åº¦ï¼Œè½¨è¿¹æ˜¯ä¸€æ¡ç”±ä¸é€æ˜å˜é€æ˜çš„æ›²çº¿ï¼Œopacity è¡¨ç¤ºè½¨è¿¹æœ«å°¾çš„ä¸é€æ˜åº¦\nsetOpacity: (o: number) &#x3D;&gt; void;\n&#x2F;&#x2F; è®¾ç½®è½¨è¿¹çš„é¢œè‰²\nsetColor: (r: number, g: number, b: number) &#x3D;&gt; void;\n&#x2F;&#x2F; è®¾ç½®è½¨è¿¹å¤´éƒ¨æ˜¯å¦æ˜¯åœ†å½¢\nsetRoundCap: (b: boolean) &#x3D;&gt; void;</code></pre>\n\n<p>åœ¨ä»»ä½•æ—¶å€™è°ƒç”¨ä¸Šè¿°æ¥å£ä¿®æ”¹é¼ æ ‡è½¨è¿¹çš„æ ·å¼ï¼Œéƒ½ä¼šåœ¨ç´§æ¥ç€çš„ä¸‹ä¸€æ¬¡ç»˜åˆ¶ä¸­ç”Ÿæ•ˆã€‚æ‰€ä»¥å¦‚æœä½ æƒ³å®ç°ä¸€ä¸ªç±»ä¼¼ RGB è·‘é©¬ç¯çš„é¼ æ ‡è½¨è¿¹ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>\n<h2 id=\"å®šåˆ¶åŒ–å¼€å‘\"><a href=\"#å®šåˆ¶åŒ–å¼€å‘\" class=\"headerlink\" title=\"å®šåˆ¶åŒ–å¼€å‘\"></a>å®šåˆ¶åŒ–å¼€å‘</h2><p>å¦‚æœä¸Šé¢çš„æ¥å£éƒ½ä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦åšä¸€äº›å®šåˆ¶åŒ–çš„å¼€å‘äº†ã€‚</p>\n<p>ç»˜åˆ¶é¼ æ ‡è½¨è¿¹çš„è¿‡ç¨‹å¤§æ¦‚åˆ†ä¸º 5 ä¸ªæ­¥éª¤ï¼š</p>\n<p>æ¸…æ´—è½¨è¿¹åæ ‡æ•°æ®<br>æ ¹æ®è½¨è¿¹åæ ‡è®¡ç®—æ¯ä¸ªåæ ‡çš„æ§åˆ¶ç‚¹<br>é€šè¿‡åæ ‡ç‚¹å’Œæ§åˆ¶ç‚¹æ•°æ®ç”Ÿæˆ Bezier æ›²çº¿<br>å°†ä¸Šä¸€æ­¥ç”Ÿæˆçš„æ›²çº¿åˆ†å‰²ä¸ºæ›´çŸ­çš„ Bezier æ›²çº¿ï¼Œå¹¶è®¡ç®—æ¯æ¡æ›²çº¿çš„ç»˜åˆ¶æ ·å¼<br>ä¾æ¬¡ç»˜åˆ¶æ¯æ¡ Bezier æ›²çº¿<br>è¿™ 5 ä¸ªæ­¥éª¤å¯¹åº”ä¸‹é¢çš„ç¬¬ 1 åˆ°ç¬¬ 5 ä¸ªæ¥å£ï¼Œæœ€åçš„ drawLaserPen æ¥å£æ˜¯å¯¹å‰é¢ 5 ä¸ªæ¥å£çš„ç»„åˆã€‚ å¦‚æœç›´æ¥è°ƒç”¨ drawLaserPen ä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼Œä½ å¯ä»¥åœ¨å‰ 5 ä¸ªæ¥å£çš„åŸºç¡€ä¸Šè‡ªè¡Œç»„åˆï¼Œå®ç°ä½ æƒ³è¦çš„æ•ˆæœã€‚</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">&#x2F;&#x2F; å»æ‰åŸå§‹é¼ æ ‡åæ ‡æ•°æ®ä¸­ä¸åˆç†çš„æ•°æ®ï¼ŒåŒ…æ‹¬è¶…è¿‡å»¶è¿Ÿæ—¶é—´çš„åæ ‡ï¼Œå’Œä¸€äº›æ’åˆ—ä¸åˆæ³•çš„åæ ‡\ndrainPoints: (originalPoints: IOriginalPointData[]) &#x3D;&gt; IOriginalPointData[];\n&#x2F;&#x2F; æ ¹æ®é¼ æ ‡åæ ‡æ•°æ®è®¡ç®—æ¯ä¸ªåæ ‡ç‚¹çš„å‰åæ§åˆ¶ç‚¹\ncalControlPoints: (points: IPoint[]) &#x3D;&gt; IControlPoint[];\n&#x2F;&#x2F; å°†é¼ æ ‡åæ ‡æ•°æ®å’Œæ§åˆ¶ç‚¹æ•°æ®ç»„åˆä¸ºè´å¡å°”æ›²çº¿\ntransformPointToBezier: (\n  points: IPoint[],\n  controlPoints: IControlPoint[]\n) &#x3D;&gt; Bezier[];\n&#x2F;&#x2F; æ ¹æ®åŸå§‹çš„è´å¡å°”æ›²çº¿æ•°æ®ï¼Œè®¡ç®—å‡ºç”¨äºç»˜åˆ¶çš„æ•°æ®ç»“æ„\ncalDrawingData: (\n  bzArray: Bezier[],\n  totalLength: number\n) &#x3D;&gt; IDrawingBezierData[];\n&#x2F;&#x2F; æ ¹æ®è®¡ç®—å‡ºçš„ç»˜åˆ¶æ•°æ®ï¼Œå°†æ›²çº¿ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Š\ndrawDrawingBezierData: (\n  ctx: CanvasRenderingContext2D,\n  data: IDrawingBezierData[]\n) &#x3D;&gt; void;\n&#x2F;&#x2F; ä¸€ä¸ªæ–¹ä¾¿ç®€å•ä½¿ç”¨çš„å…¥å£æ–¹æ³•ï¼Œç›´æ¥é€šè¿‡å¤„ç†å¥½çš„é¼ æ ‡åæ ‡æ•°æ®ï¼Œç»˜åˆ¶é¼ æ ‡è½¨è¿¹\ndrawLaserPen: (ctx: CanvasRenderingContext2D, points: IPoint[]) &#x3D;&gt; void;\n</code></pre>\n<h2 id=\"å…¶ä»–\"><a href=\"#å…¶ä»–\" class=\"headerlink\" title=\"å…¶ä»–\"></a>å…¶ä»–</h2><ul>\n<li><a href=\"https://github.com/SilentTiger/laser-pen\">laser-pen</a></li>\n<li>çªç„¶æœ‰ä¸ªæƒ³æ³•ï¼šç‹è€…è£è€€çš„æ‹–å°¾æ•ˆæœå®ç°åŸç†ï¼Œæ˜¯ä¸æ˜¯å’Œè¿™ä¸ªç±»ä¼¼ï¼Ÿ</li>\n</ul>\n","text":"Laser PenLaser Pen æ˜¯ä¸€å¥—ç”¨æ¥åœ¨ web canvas ä¸Šç»˜åˆ¶é¼ æ ‡è½¨è¿¹çš„å·¥å…·é›†ã€‚ ä½¿ç”¨åœºæ™¯wikiå…¨å±æ¼”ç¤ºæ—¶å€™ï¼Œä¸ºäº†ä¾¿äºå¬ä¼—è·Ÿéšæ¼”è®²è€…è¿›åº¦ï¼Œç»™é¼ æ ‡è½¨è¿¹åŠ ä¸Šæ ‡è®°ã€‚ æ³¨ï¼šå…¬å¸é¡¹ç›®ç”±äºç‰ˆæƒé—®é¢˜ï¼Œä¸ä¾¿æ¼”ç¤º åˆæ­¥ä¸Šæ‰‹é¦–å…ˆåœ¨ä½ çš„é¡¹ç›®ä¸­æ·»åŠ å¯¹ Laser Pen çš„ä¾èµ–ï¼š y...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"wiki","slug":"wiki","count":3,"path":"api/categories/wiki.json"}],"tags":[{"name":"wiki","slug":"wiki","count":4,"path":"api/tags/wiki.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Laser-Pen\"><span class=\"toc-text\">Laser Pen</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">ä½¿ç”¨åœºæ™¯</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%9D%E6%AD%A5%E4%B8%8A%E6%89%8B\"><span class=\"toc-text\">åˆæ­¥ä¸Šæ‰‹</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">å‚æ•°é…ç½®</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%9A%E5%88%B6%E5%8C%96%E5%BC%80%E5%8F%91\"><span class=\"toc-text\">å®šåˆ¶åŒ–å¼€å‘</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%B6%E4%BB%96\"><span class=\"toc-text\">å…¶ä»–</span></a></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"å‰ç«¯åŸºç¡€-ç¼–ç¨‹èŒƒå¼-å‡½æ•°å¼ç¼–ç¨‹ç®€å•äº†è§£","uid":"f35528e9b34223f99b96c0561880d949","slug":"2022-05-28func","date":"2022-05-28T07:25:33.000Z","updated":"2022-09-16T13:54:56.121Z","comments":true,"path":"api/articles/2022-05-28func.json","keywords":null,"cover":null,"text":"èƒŒæ™¯js ä¸ºäº†å®ç°é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œåšäº†å¾ˆå¤šäº‹æƒ…ï¼Œå¯¼è‡´å¤§å®¶åœ¨å­¦ä¹  js çš„æ—¶å€™ï¼Œä¼šé‡åˆ°å¤æ‚çš„åŸå‹ã€åŸå‹é“¾ã€ç»§æ‰¿ï¼Œè¿˜æœ‰å¯¹äººä¸å‹å¥½çš„ this ï¼›è€Œå½“æˆ‘ä»¬ç”¨è¿™äº›ä¸œè¥¿ç»„åˆèµ·æ¥æ¨¡æ‹Ÿé¢å‘å¯¹è±¡çš„ç‰¹æ€§çš„æ—¶å€™ï¼Œå°±æ›´åŠ ç—›è‹¦äº†ã€‚ä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç§æ›´å‹å¥½çš„æ–¹å¼ï¼Œå‡½æ•°å¼ç¼–ç¨‹ã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼šé¢å‘å¯¹è±¡çš„æ€æƒ³åœ¨...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"å‰ç«¯åŸºç¡€","slug":"å‰ç«¯åŸºç¡€","count":27,"path":"api/categories/å‰ç«¯åŸºç¡€.json"}],"tags":[{"name":"å‰ç«¯åŸºç¡€","slug":"å‰ç«¯åŸºç¡€","count":29,"path":"api/tags/å‰ç«¯åŸºç¡€.json"},{"name":"é¢è¯•","slug":"é¢è¯•","count":17,"path":"api/tags/é¢è¯•.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"redux-loggeræºç ","uid":"8b8288a2a8637d5beee93bb6d37a8ba8","slug":"2022-05-27redux-logger","date":"2022-05-27T05:52:01.000Z","updated":"2022-09-16T14:29:30.414Z","comments":true,"path":"api/articles/2022-05-27redux-logger.json","keywords":null,"cover":[],"text":"redux æ—¥å¿—ä¸­é—´ä»¶. â”œâ”€â”€ core.js â”œâ”€â”€ defaults.js â”œâ”€â”€ diff.js â”œâ”€â”€ helpers.js &#x2F;&#x2F; ä¸€äº›å¸®åŠ©å‡½æ•° â””â”€â”€ index.js 0 directories, 5 files defaultLoggerv3 ...","link":"","photos":[],"count_time":{"symbolsCount":"12k","symbolsTime":"11 mins."},"categories":[{"name":"react","slug":"react","count":18,"path":"api/categories/react.json"}],"tags":[{"name":"redux","slug":"redux","count":6,"path":"api/tags/redux.json"},{"name":"æºç ","slug":"æºç ","count":14,"path":"api/tags/æºç .json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
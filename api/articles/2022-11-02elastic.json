{"title":"云原生 了解elastic","uid":"be1feee4446fde975b05a1617d4cbc8b","slug":"2022-11-02elastic","date":"2022-11-02T01:57:44.000Z","updated":"2022-11-14T13:06:21.796Z","comments":true,"path":"api/articles/2022-11-02elastic.json","keywords":null,"cover":null,"content":"<h2 id=\"背景很有意思\"><a href=\"#背景很有意思\" class=\"headerlink\" title=\"背景很有意思\"></a>背景很有意思</h2><p><a href=\"https://blog.csdn.net/qq_45065241/article/details/120942716\" target=\"_blank\" >ElasticSearch 的由来</a></p>\n<h2 id=\"elastic\"><a href=\"#elastic\" class=\"headerlink\" title=\"elastic\"></a>elastic</h2><p>ElasticSearch 实时搜索、分析引擎</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/467431106\" target=\"_blank\" >ElasticSearch 基础入门篇</a></p>\n<p><a href=\"https://learnku.com/docs/elasticsearch73/7.3\" target=\"_blank\" >Elasticsearch 中文文档 7.3 </a></p>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/highlighting.html#highlighting\" target=\"_blank\" >Elasticsearch Guide: 8.5</a></p>\n<p>在做 wiki 全文检索的时候，用到了这个<code>/globalsearch/es/query</code>,这是前端页面调用的接口，注意里面的<code>es</code>是 <code>Elasticsearch</code>的简写，后端对数据进行转化处理，调用 restful 风格的 elastic 进行查询，然后返回给前端</p>\n<h2 id=\"Kibana-用户手册（中文的，很友好）\"><a href=\"#Kibana-用户手册（中文的，很友好）\" class=\"headerlink\" title=\"Kibana 用户手册（中文的，很友好）\"></a>Kibana 用户手册（中文的，很友好）</h2><p><a href=\"https://www.elastic.co/guide/cn/kibana/current/breaking-changes-6.0.html\" target=\"_blank\" >Kibana 用户手册</a></p>\n<p>在做 RN 移动端时候，公司用的这套东西，查看 ATOP 接口日志。当时不会用，现在嘛-还不会用，之后就会了 😂</p>\n<h2 id=\"elastic-与-mysql-对比\"><a href=\"#elastic-与-mysql-对比\" class=\"headerlink\" title=\"elastic 与 mysql 对比\"></a>elastic 与 mysql 对比</h2><table>\n<thead>\n<tr>\n<th align=\"left\">释义</th>\n<th align=\"left\">mysql</th>\n<th align=\"left\">ElasticSearch</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">数据库</td>\n<td align=\"left\">Database</td>\n<td align=\"left\">Index</td>\n</tr>\n<tr>\n<td align=\"left\">表</td>\n<td align=\"left\">Table</td>\n<td align=\"left\">Type</td>\n</tr>\n<tr>\n<td align=\"left\">行</td>\n<td align=\"left\">Row</td>\n<td align=\"left\">Document</td>\n</tr>\n<tr>\n<td align=\"left\">列&#x2F;字段</td>\n<td align=\"left\">column</td>\n<td align=\"left\">Field</td>\n</tr>\n<tr>\n<td align=\"left\">关系</td>\n<td align=\"left\">schema</td>\n<td align=\"left\">Mapping</td>\n</tr>\n<tr>\n<td align=\"left\">索引</td>\n<td align=\"left\">index</td>\n<td align=\"left\">Everythis is indexed</td>\n</tr>\n<tr>\n<td align=\"left\">sql 语句</td>\n<td align=\"left\">sql</td>\n<td align=\"left\">Query DSL</td>\n</tr>\n<tr>\n<td align=\"left\">查询</td>\n<td align=\"left\">select * from table</td>\n<td align=\"left\">GET http:&#x2F;&#x2F;…</td>\n</tr>\n<tr>\n<td align=\"left\">更新</td>\n<td align=\"left\">update table set</td>\n<td align=\"left\">GET http:&#x2F;&#x2F;…</td>\n</tr>\n</tbody></table>\n<ul>\n<li>MySQL 中的数据库（DataBase），等价于 ES 中的索引（Index）。</li>\n<li>MySQL 中一个数据库下面有 N 张表（Table），等价于 1 个索引 Index 下面有 N 多类型（Type）。</li>\n<li>MySQL 中一个数据库表（Table）下的数据由多行（Row）多列（column，属性）组成，等价于 1 个 Type 由多个文档（Document）和多 Field 组成。</li>\n<li>MySQL 中定义表结构、设定字段类型等价于 ES 中的 Mapping。举例说明，在一个关系型数据库里面，Schema 定义了表、每个表的字段，还有表和字段之间的关系。与之对应的，在 ES 中，Mapping 定义索引下的 Type 的字段处理规则，即索引如何建立、索引类型、是否保存原始索引 JSON 文档、是否压缩原始 JSON 文档、是否需要分词处理、如何进行分词处理等。</li>\n<li>MySQL 中的增 insert、删 delete、改 update、查 search 操作等价于 ES 中的增 PUT&#x2F;POST、删 Delete、改 _update、查 GET。其中的修改指定条件的更新 update 等价于 ES 中的 update_by_query，指定条件的删除等价于 ES 中的 delete_by_query。</li>\n<li>MySQL 中的 group by、avg、sum 等函数类似于 ES 中的 Aggregations 的部分特性。</li>\n<li>MySQL 中的去重 distinct 类似 ES 中的 cardinality 操作。</li>\n<li>MySQL 中的数据迁移等价于 ES 中的 reindex 操作。</li>\n</ul>\n<p>作者：<em>PhoenixWong</em><br>链接：<a href=\"https://juejin.cn/post/6844903938550939661\">https://juejin.cn/post/6844903938550939661</a><br>来源：稀土掘金<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>\n<h2 id=\"查询数据\"><a href=\"#查询数据\" class=\"headerlink\" title=\"查询数据\"></a>查询数据</h2><p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-your-data.html\" target=\"_blank\" >Search your data</a></p>\n<h2 id=\"查询语法\"><a href=\"#查询语法\" class=\"headerlink\" title=\"查询语法\"></a>查询语法</h2><p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-filter-context.html\" target=\"_blank\" >Query DSL</a></p>\n<!-- ## 操作分类\n\n### 健康检测\n\n### 建立数据库\n\n### 建立表\n\n### 新增数据\n\n- 单条数据\n- 批量数据\n\n### 查询\n\n### 更新\n\n### 删除\n\n### 聚合 -->\n\n<h2 id=\"go-elasticsearch\"><a href=\"#go-elasticsearch\" class=\"headerlink\" title=\"go-elasticsearch\"></a>go-elasticsearch</h2><p><a href=\"https://www.cnblogs.com/leimu/p/14699697.html\" target=\"_blank\" >go-elasticsearch</a></p>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><p><a href=\"https://blog.csdn.net/qq330983778/category_9396656.html\" target=\"_blank\" >Elasticsearch 专栏</a></p>\n<p><a href=\"https://learnku.com/docs/elasticsearch73/7.3\" target=\"_blank\" >Elasticsearch 中文文档 7.3 </a></p>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/highlighting.html#highlighting\" target=\"_blank\" >Elasticsearch Guide: 8.5</a></p>\n","text":"背景很有意思ElasticSearch 的由来 elasticElasticSearch 实时搜索、分析引擎 ElasticSearch 基础入门篇 Elasticsearch 中文文档 7.3 Elasticsearch Guide: 8.5 在做 wiki 全文检索的时候，用...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"云原生","slug":"云原生","count":5,"path":"api/categories/云原生.json"}],"tags":[{"name":"云原生","slug":"云原生","count":5,"path":"api/tags/云原生.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%83%8C%E6%99%AF%E5%BE%88%E6%9C%89%E6%84%8F%E6%80%9D\"><span class=\"toc-text\">背景很有意思</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#elastic\"><span class=\"toc-text\">elastic</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Kibana-%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C%EF%BC%88%E4%B8%AD%E6%96%87%E7%9A%84%EF%BC%8C%E5%BE%88%E5%8F%8B%E5%A5%BD%EF%BC%89\"><span class=\"toc-text\">Kibana 用户手册（中文的，很友好）</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#elastic-%E4%B8%8E-mysql-%E5%AF%B9%E6%AF%94\"><span class=\"toc-text\">elastic 与 mysql 对比</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">查询数据</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2%E8%AF%AD%E6%B3%95\"><span class=\"toc-text\">查询语法</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#go-elasticsearch\"><span class=\"toc-text\">go-elasticsearch</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%B6%E4%BB%96\"><span class=\"toc-text\">其他</span></a></li></ol>","author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><p>做好该做的，然后做自己想做的</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"pdf 添加水印并下载","uid":"005b684f59380abe36489fcebc43072f","slug":"2022-11-02pdf-watermark","date":"2022-11-02T03:37:47.000Z","updated":"2022-11-02T12:30:25.268Z","comments":true,"path":"api/articles/2022-11-02pdf-watermark.json","keywords":null,"cover":[],"text":"页面渲染React-PDF + Canvas 实现预览水印效果 需求变更用户下载 pdf 也要加载水印 方案 方案 1. 后端 在 pdf 上传时候水印 方案 2. 后端 pdf 增加水印 方案 3. 前端在文件上传时候增加水印 方案 4. 前端在文件下载的时候增加水印 现在场景...","link":"","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[{"name":"PDF","slug":"PDF","count":1,"path":"api/categories/PDF.json"}],"tags":[{"name":"PDF","slug":"PDF","count":1,"path":"api/tags/PDF.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><p>做好该做的，然后做自己想做的</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"前端基础 - 抽象相等比较","uid":"05496899eea5e85a89886906e98004b9","slug":"2022-11-01抽象相等比较","date":"2022-11-01T07:33:16.000Z","updated":"2022-12-16T14:42:23.542Z","comments":true,"path":"api/articles/2022-11-01抽象相等比较.json","keywords":null,"cover":[],"text":"背景本来是当一个很小的知识点来写的，发现越写越多，所以拆出来，单独做一篇文章，文章标题看上去很抽象 js 关于 valueOf()和 toString()js 关于 valueOf()和 toString() 链接内部有错误， var a &#x3D; []; console.l...","link":"","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"前端基础","slug":"前端基础","count":49,"path":"api/categories/前端基础.json"}],"tags":[{"name":"前端基础","slug":"前端基础","count":51,"path":"api/tags/前端基础.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"<div><p>眼中有光，心中有梦，脚下有路</p><p>做好该做的，然后做自己想做的</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
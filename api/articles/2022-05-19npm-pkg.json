{"title":"npm开发wiki编辑器问题总结","uid":"4250bd0ddd67048179ff9fddd5b6e876","slug":"2022-05-19npm-pkg","date":"2022-05-19T10:34:53.000Z","updated":"2022-09-16T13:54:56.110Z","comments":true,"path":"api/articles/2022-05-19npm-pkg.json","keywords":null,"cover":[],"content":"<h2 id=\"原架构\"><a href=\"#原架构\" class=\"headerlink\" title=\"原架构\"></a>原架构</h2><p><img src=\"http://t-blog-images.aijs.top/img/wiki-ui.webp\"></p>\n<h2 id=\"重构后\"><a href=\"#重构后\" class=\"headerlink\" title=\"重构后\"></a>重构后</h2><p><img src=\"http://t-blog-images.aijs.top/img/slate-wiki.webp\"></p>\n<h2 id=\"tsconfig-ts\"><a href=\"#tsconfig-ts\" class=\"headerlink\" title=\"tsconfig.ts\"></a>tsconfig.ts</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;\n  &#x2F;&#x2F; 编译选项\n  &quot;compilerOptions&quot;: &#123;\n    &#x2F;&#x2F; 生成代码的语言版本：将我们写的 TS 代码编译成哪个版本的 JS 代码\n    &quot;target&quot;: &quot;es5&quot;,\n    &#x2F;&#x2F; 指定要包含在编译中的 library\n    &#x2F;&#x2F; https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;TypeScript&#x2F;blob&#x2F;90e83adb44&#x2F;lib&#x2F;lib.dom.iterable.d.ts\n    &quot;lib&quot;: [&quot;dom&quot;, &quot;dom.iterable&quot;, &quot;esnext&quot;],\n    &#x2F;&#x2F; 允许 ts 编译器编译 js 文件\n    &quot;allowJs&quot;: true,\n    &#x2F;&#x2F; 跳过类型声明文件的类型检查\n    &quot;skipLibCheck&quot;: true,\n    &#x2F;&#x2F; es 模块 互操作，屏蔽 ESModule 和 CommonJS 之间的差异\n    &quot;esModuleInterop&quot;: true,\n    &#x2F;&#x2F; 允许通过 import x from &#39;y&#39; 即使模块没有显式指定 default 导出\n    &quot;allowSyntheticDefaultImports&quot;: true,\n    &#x2F;&#x2F; 开启严格模式\n    &quot;strict&quot;: true,\n    &#x2F;&#x2F; 对文件名称强制区分大小写\n    &quot;forceConsistentCasingInFileNames&quot;: true,\n    &#x2F;&#x2F; 为 switch 语句启用错误报告\n    &quot;noFallthroughCasesInSwitch&quot;: true,\n    &#x2F;&#x2F; 生成代码的模块化标准\n    &quot;module&quot;: &quot;esnext&quot;,\n    &#x2F;&#x2F; 模块解析（查找）策略\n    &quot;moduleResolution&quot;: &quot;node&quot;,\n    &#x2F;&#x2F; 允许导入扩展名为.json的模块\n    &quot;resolveJsonModule&quot;: true,\n    &#x2F;&#x2F; 是否将没有 import&#x2F;export 的文件视为旧（全局而非模块化）脚本文件\n    &quot;isolatedModules&quot;: true,\n    &#x2F;&#x2F; 编译时不生成任何JS文件（只进行类型检查）\n    &quot;noEmit&quot;: true,\n    &#x2F;&#x2F; 指定将 JSX 编译成什么形式\n    &quot;jsx&quot;: &quot;react-jsx&quot;\n  &#125;,\n  &#x2F;&#x2F; 指定允许 ts 处理的目录\n  &quot;include&quot;: [&quot;src&quot;]\n&#125;\n&#x2F;&#x2F; https:&#x2F;&#x2F;blog.csdn.net&#x2F;m0_62118859&#x2F;article&#x2F;details&#x2F;124543485</code></pre>\n<h2 id=\"Cannot-read-properties-of-null\"><a href=\"#Cannot-read-properties-of-null\" class=\"headerlink\" title=\"Cannot read properties of null\"></a>Cannot read properties of null</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">react.development.js:1621 Uncaught TypeError: Cannot read properties of null</code></pre>\n<hr/>\n\n<h2 id=\"ahooks-版本\"><a href=\"#ahooks-版本\" class=\"headerlink\" title=\"ahooks  版本\"></a>ahooks  版本</h2><ol>\n<li><p>useControlledValue</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Uncaught SyntaxError: The requested module &#39;&#x2F;node_modules&#x2F;.vite&#x2F;deps&#x2F;ahooks.js?v&#x3D;a7b43f7a&#39; does not provide an export named &#39;useControlledValue&#39; (at index.tsx:2:1)</code></pre>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Deprecated the useControlledValue naming left over from 1.0, please use useControllableValue instead<br><a href=\"https://github.com/alibaba/hooks/releases?page=5#:~:text=Deprecated%20the%20useControlledValue%20naming%20left%20over%20from%201.0%2C%20please%20use%20useControllableValue%20instead\"><a href=\"https://github.com/alibaba/hooks/releases/tag/v3.0.0-alpha.4\">v3.0.0-alpha.4</a>\n</a></p></blockquote>\n</li>\n<li><p>useRequest</p>\n</li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">react_devtools_backend.js:4026 Warning: Failed prop type: The prop &#96;loadMore&#96; is marked as required in &#96;InfiniteScroll&#96;, but its value is &#96;undefined&#96;.\n</code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Removed loadMore related attributes, it is recommended to use useInfiniteScroll to achieve unlimited loading capacity.<br><a href=\"https://github.com/alibaba/hooks/releases/tag/v3.0.0-alpha.4\">v3.0.0-alpha.4</a></p></blockquote>\n<p><a href=\"http://quanzhan.applemei.com/webStack/TmpJeE1BPT0=\">除了 dependencies 和 devDependencies，其他的依赖有什么作用呢</a></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Pre-bundling dependencies:\nreact\nrecoil\nreact-dom\nreact-router-dom\nantd\n(...and 29 more)</code></pre>\n\n<h3 id=\"本地npm-link处理不了依赖冲突\"><a href=\"#本地npm-link处理不了依赖冲突\" class=\"headerlink\" title=\"本地npm link处理不了依赖冲突\"></a>本地<code>npm link</code>处理不了依赖冲突</h3><ul>\n<li>老版本可以运行</li>\n</ul>\n<p><img src=\"http://t-blog-images.aijs.top/img/20220519183558.webp\"></p>\n<ul>\n<li>新版本报错</li>\n<li>原因 ahooks^3.x.x没有v2版本api</li>\n</ul>\n<hr/>\n\n<h3 id=\"发布安装到项目中测试\"><a href=\"#发布安装到项目中测试\" class=\"headerlink\" title=\"发布安装到项目中测试\"></a>发布安装到项目中测试</h3><ul>\n<li>发布</li>\n</ul>\n<ol>\n<li><p>npm 脚本</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot;scripts&quot;: &#123;\n    &quot;dev&quot;: &quot;vite --port 3004&quot;,\n    &quot;start&quot;: &quot;yarn build:css &amp;&amp; webpack serve --config config&#x2F;webpack.dev.config.js&quot;,\n    &quot;copy:css&quot;: &quot;cp src&#x2F;**&#x2F;*.css dist&#x2F; &amp;&amp; rsync src&#x2F;styles&#x2F;*.css dist&#x2F;styles&#x2F;&quot;,\n    &quot;build&quot;: &quot;tsc&quot;,\n    &quot;build:css&quot;: &quot;node-sass src&#x2F; -o src&#x2F; &quot;,\n    &quot;prepublishOnly&quot;: &quot;rm -rf dist&#x2F; &amp;&amp; yarn build &amp;&amp; yarn build:css &amp;&amp; yarn copy:css&quot;,\n    &quot;t&quot;: &quot;rm -rf dist&#x2F; &amp;&amp; yarn build &amp;&amp; yarn build:css &amp;&amp; yarn copy:css&quot;,\n    &quot;push:beta&quot;: &quot;npm publish --tag beta&quot;\n  &#125;,</code></pre>\n</li>\n<li><p>执行脚本<br><code>$ yarn push:beta</code></p>\n</li>\n<li><p>发布结果</p>\n</li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\n## Current Tags\n\n\n*   [0.0.1 ](https:&#x2F;&#x2F;tnpm.ty-inc.top&#x2F;package&#x2F;@ty-fe&#x2F;slate-wiki-pro&#x2F;v&#x2F;0.0.1)                               ...           beta (a few seconds ago)\n*   [0.0.1 ](https:&#x2F;&#x2F;tnpm.ty-inc.top&#x2F;package&#x2F;@ty-fe&#x2F;slate-wiki-pro&#x2F;v&#x2F;0.0.1)                               ...           latest (a few seconds ago)</code></pre>\n\n<p><img src=\"http://t-blog-images.aijs.top/img/20220519183625.webp\"><br><img src=\"http://t-blog-images.aijs.top/img/20220519183638.webp\"></p>\n<hr/>\n\n<h2 id=\"图片没有渲染，修改，打包重新发布0-0-1-220519beta版本测试\"><a href=\"#图片没有渲染，修改，打包重新发布0-0-1-220519beta版本测试\" class=\"headerlink\" title=\"图片没有渲染，修改，打包重新发布0.0.1-220519beta版本测试\"></a>图片没有渲染，修改，打包重新发布<code>0.0.1-220519beta</code>版本测试</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">slate-wiki@0.0.1-220519beta\n\nnpm notice &#x3D;&#x3D;&#x3D; Tarball Details &#x3D;&#x3D;&#x3D; \nnpm notice name:          @ty-fe&#x2F;slate-wiki                     \nnpm notice version:       0.0.1-220519beta                        \nnpm notice filename:      @ty-fe&#x2F;slate-wiki-0.0.1-220519beta.tgz\nnpm notice package size:  228.0 kB                                \nnpm notice unpacked size: 1.2 MB                                  \nnpm notice shasum:        a2991de4933a9e5039ceb7082c5e0a80c2db828c\nnpm notice integrity:     sha512-iHQKpR2LM+F6Z[...]XDN40tHfwMxNg&#x3D;&#x3D;\nnpm notice total files:   417                                     \nnpm notice \n+ @ty-fe&#x2F;slate-wiki@0.0.1-220519beta\n✨  Done in 16.36s.\n\n\nslate-wiki-pro@0.0.1-220519beta\n\nnpm notice &#x3D;&#x3D;&#x3D; Tarball Details &#x3D;&#x3D;&#x3D; \nnpm notice name:          @ty-fe&#x2F;slate-wiki-pro                     \nnpm notice version:       0.0.1-220519beta                            \nnpm notice filename:      @ty-fe&#x2F;slate-wiki-pro-0.0.1-220519beta.tgz\nnpm notice package size:  83.5 kB                                     \nnpm notice unpacked size: 413.7 kB                                    \nnpm notice shasum:        85cbe6fbffafc75db16e02427d1eac9b6a906ec3    \nnpm notice integrity:     sha512-3viVco6ssb2N3[...]xxisHN9+qYnCA&#x3D;&#x3D;    \nnpm notice total files:   205                                         \nnpm notice \n+ @ty-fe&#x2F;slate-wiki-pro@0.0.1-220519beta\n✨  Done in 14.68s.</code></pre>\n<hr/>\n\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><ol>\n<li>传染性<br>slate-wiki-pro,依赖于slate-wiki。slate-wiki改动，项目依赖slate-wiki-pro，需要发slate-wiki和slate-wiki-pro，项目要安装slate-wiki-pro</li>\n</ol>\n<p><code>是否可以让项目直接依赖slate-wiki、slate-wiki-pro改动哪个发布哪个，互不影响？</code></p>\n<ol start=\"2\">\n<li>项目很卡</li>\n</ol>\n<p><code>将slate、slate-wiki、slate-wiki-pro使用umd资源，避免重复编译是否可以？</code></p>\n<ol start=\"3\">\n<li>依赖贼多</li>\n</ol>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">[######--------------------------------------------------] 49992&#x2F;102014</code></pre>\n\n<ol start=\"4\">\n<li>启动没有想象中那么快了</li>\n</ol>\n<p>vite预编译时间过长  130262ms &#x2F; 1000 &#x2F; 60 大概两分钟，加载编译大概几分钟，慢的吓人</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\nvite v2.7.1 dev server running at:\n\n&gt; Local: http:&#x2F;&#x2F;localhost:3005&#x2F;\n&gt; Network: use &#96;--host&#96; to expose\n\nready in 130262ms.  #首次编译\n\n\n\nvite v2.7.1 dev server running at:\n\n&gt; Local: http:&#x2F;&#x2F;localhost:3005&#x2F;\n&gt; Network: use &#96;--host&#96; to expose\n\nready in 43312ms. #非首次编译</code></pre>\n<hr/>\n\n<h2 id=\"代码放仓库\"><a href=\"#代码放仓库\" class=\"headerlink\" title=\"代码放仓库\"></a>代码放仓库</h2><ul>\n<li>slate-wiki</li>\n</ul>\n<p><img src=\"http://t-blog-images.aijs.top/img/20220519183700.webp\"></p>\n<p>Command line instructions<br>You can also upload existing files from your computer using the instructions below.</p>\n<p>Git global setup</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">git config --global user.name &quot;陈海龙&quot;\ngit config --global user.email &quot;haotian.chen@ty.com&quot;</code></pre>\n<p>Create a new repository</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">git clone ssh:&#x2F;&#x2F;git@registry.code.ty-inc.top:10023&#x2F;fe-efficacy&#x2F;slate-wiki.git\ncd slate-wiki\ntouch README.md\ngit add README.md\ngit commit -m &quot;add README&quot;</code></pre>\n<p>Push an existing folder</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cd existing_folder\ngit init\ngit remote add origin ssh:&#x2F;&#x2F;git@registry.code.ty-inc.top:10023&#x2F;fe-efficacy&#x2F;slate-wiki.git\ngit add .\ngit commit -m &quot;Initial commit&quot;</code></pre>\n<p>Push an existing Git repository</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">cd existing_repo\ngit remote rename origin old-origin\ngit remote add origin ssh:&#x2F;&#x2F;git@registry.code.ty-inc.top:10023&#x2F;fe-efficacy&#x2F;slate-wiki.git</code></pre>\n\n<ul>\n<li>slate-wiki-pro<br>略<hr/></li>\n</ul>\n<p>深入了解打包，本站请搜<a href=\"https://v.aijs.top/post/2022-05-19npm\"><code>npm 版本的依赖</code></a></p>\n<h2 id=\"react-codemirror使用版本react16-插件及项目使用react18\"><a href=\"#react-codemirror使用版本react16-插件及项目使用react18\" class=\"headerlink\" title=\"react-codemirror使用版本react16,插件及项目使用react18\"></a>react-codemirror使用版本react16,插件及项目使用react18</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">react-dom.development.js:22738 Uncaught TypeError: cm is not a function\n    at UnControlled.componentDidMount (react-codemirror.tsx:718:19)\n    at commitLayoutEffectOnFiber (react-dom.development.js:23204:30)\n    at commitLayoutMountEffects_complete (react-dom.development.js:24578:9)\n    at commitLayoutEffects_begin (react-dom.development.js:24564:7)\n    at commitLayoutEffects (react-dom.development.js:24502:3)\n    at commitRootImpl (react-dom.development.js:26779:5)\n    at commitRoot (react-dom.development.js:26638:5)\n    at performSyncWorkOnRoot (react-dom.development.js:26073:3)\n    at flushSyncCallbacks (react-dom.development.js:12009:22)\n    at flushSyncCallbacksOnlyInLegacyMode (react-dom.development.js:11988:5)\n</code></pre>\n<p><img src=\"http://t-blog-images.aijs.top/img/20220520141611.webp\"></p>\n<h2 id=\"vite-关于-global-is-not-defined-问题\"><a href=\"#vite-关于-global-is-not-defined-问题\" class=\"headerlink\" title=\"vite 关于 global is not defined 问题\"></a>vite 关于 global is not defined 问题</h2><p><a href=\"https://github.com/scniro/react-codemirror2/blob/0f2bb13cad2fb1364eb063cbd7ec9aae726a55eb/src/index.tsx#L7\">react-codemirror2 源码</a></p>\n<pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">declare let global: any;\ndeclare let require: any;\n\nconst SERVER_RENDERED &#x3D; (typeof navigator &#x3D;&#x3D;&#x3D; &#39;undefined&#39; || (typeof global !&#x3D;&#x3D; &#39;undefined&#39; &amp;&amp; global[&#39;PREVENT_CODEMIRROR_RENDER&#39;] &#x3D;&#x3D;&#x3D; true));\n\nlet cm;\nif (!SERVER_RENDERED) &#123;\n  cm &#x3D; require(&#39;codemirror&#39;);\n&#125;\n</code></pre>\n\n<h2 id=\"vite-404\"><a href=\"#vite-404\" class=\"headerlink\" title=\"vite 404\"></a>vite 404</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">Could not load content for http:&#x2F;&#x2F;localhost:3005&#x2F;node_modules&#x2F;@ty-fe&#x2F;slate-wiki&#x2F;src&#x2F;slate&#x2F;3rd&#x2F;react-codemirror.tsx \n\n(HTTP error: status code 404, net::ERR_HTTP_RESPONSE_CODE_FAILURE)</code></pre>\n\n<h2 id=\"todo\"><a href=\"#todo\" class=\"headerlink\" title=\"todo\"></a>todo</h2><ul>\n<li>codemirror 在vite中运行报错，codemirror找不到，webpack打包正常</li>\n</ul>\n","text":"原架构 重构后 tsconfig.ts&#123; &#x2F;&#x2F; 编译选项 &quot;compilerOptions&quot;: &#123; &#x2F;&#x2F; 生成代码的语言版本：将我们写的 TS 代码编译成哪个版本的 JS 代码 &quot;targe...","link":"","photos":[],"count_time":{"symbolsCount":"8.5k","symbolsTime":"8 mins."},"categories":[{"name":"npm","slug":"npm","count":4,"path":"api/categories/npm.json"}],"tags":[{"name":"npm","slug":"npm","count":5,"path":"api/tags/npm.json"},{"name":"wiki","slug":"wiki","count":4,"path":"api/tags/wiki.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8E%9F%E6%9E%B6%E6%9E%84\"><span class=\"toc-text\">原架构</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%87%8D%E6%9E%84%E5%90%8E\"><span class=\"toc-text\">重构后</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#tsconfig-ts\"><span class=\"toc-text\">tsconfig.ts</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Cannot-read-properties-of-null\"><span class=\"toc-text\">Cannot read properties of null</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ahooks-%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">ahooks  版本</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9C%AC%E5%9C%B0npm-link%E5%A4%84%E7%90%86%E4%B8%8D%E4%BA%86%E4%BE%9D%E8%B5%96%E5%86%B2%E7%AA%81\"><span class=\"toc-text\">本地npm link处理不了依赖冲突</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%91%E5%B8%83%E5%AE%89%E8%A3%85%E5%88%B0%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">发布安装到项目中测试</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%BE%E7%89%87%E6%B2%A1%E6%9C%89%E6%B8%B2%E6%9F%93%EF%BC%8C%E4%BF%AE%E6%94%B9%EF%BC%8C%E6%89%93%E5%8C%85%E9%87%8D%E6%96%B0%E5%8F%91%E5%B8%830-0-1-220519beta%E7%89%88%E6%9C%AC%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">图片没有渲染，修改，打包重新发布0.0.1-220519beta版本测试</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81%E6%94%BE%E4%BB%93%E5%BA%93\"><span class=\"toc-text\">代码放仓库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#react-codemirror%E4%BD%BF%E7%94%A8%E7%89%88%E6%9C%ACreact16-%E6%8F%92%E4%BB%B6%E5%8F%8A%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8react18\"><span class=\"toc-text\">react-codemirror使用版本react16,插件及项目使用react18</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#vite-%E5%85%B3%E4%BA%8E-global-is-not-defined-%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">vite 关于 global is not defined 问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#vite-404\"><span class=\"toc-text\">vite 404</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#todo\"><span class=\"toc-text\">todo</span></a></li></ol>","author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"生活不止眼前的苟且，还有诗和远方","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"flutter Bruno","uid":"2ed8e0ec0aaa29d8d085170a13236bf8","slug":"2022-05-20fluter-bruno","date":"2022-05-20T02:52:49.000Z","updated":"2022-09-16T13:54:56.111Z","comments":true,"path":"api/articles/2022-05-20fluter-bruno.json","keywords":null,"cover":"http://t-blog-images.aijs.top/img/20220520105610.webp","text":"BrunoBruno 是由贝壳「用户体验中心 &amp; 移动端作业组」联合打造的一套企业级移动端 Flutter 组件库，于 12 月 10 日正式开源: 官网 Pub 地址 GitHub 仓库 背景贝壳自 2018 年底开始对 Flutter 的探索和实践，Flutter 落...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"flutter","slug":"flutter","count":1,"path":"api/categories/flutter.json"}],"tags":[{"name":"增效","slug":"增效","count":9,"path":"api/tags/增效.json"},{"name":"flutter","slug":"flutter","count":1,"path":"api/tags/flutter.json"},{"name":"mobile","slug":"mobile","count":1,"path":"api/tags/mobile.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"生活不止眼前的苟且，还有诗和远方","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"npm 版本的依赖","uid":"2bd0e979bc9d9166a8f1986cef49a4e4","slug":"2022-05-19npm","date":"2022-05-19T10:10:47.000Z","updated":"2022-09-16T13:54:56.111Z","comments":true,"path":"api/articles/2022-05-19npm.json","keywords":null,"cover":"https://www.zoo.team/images/upload/upload_f796ccd0da75ef4ac47e9e739bc7b679.png","text":"前言提起 npm，大家第一个想到的应该就是 npm install 了，但是 npm install 之后生成的 node_modules 大家有观察过吗？package-lock.json 文件的作用大家知道吗？除了 dependencies 和 devDependencies...","link":"","photos":[],"count_time":{"symbolsCount":"6.6k","symbolsTime":"6 mins."},"categories":[{"name":"npm","slug":"npm","count":4,"path":"api/categories/npm.json"}],"tags":[{"name":"工具","slug":"工具","count":9,"path":"api/tags/工具.json"},{"name":"npm","slug":"npm","count":5,"path":"api/tags/npm.json"}],"author":{"name":"举手摘月亮","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"生活不止眼前的苟且，还有诗和远方","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
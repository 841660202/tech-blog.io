{"title":"react hook ä½¿ç”¨ bug","uid":"e5dbf22be09b32f376c35e2a002b6557","slug":"2022-07-01bug","date":"2022-07-01T03:16:39.000Z","updated":"2022-08-01T12:46:55.444Z","comments":true,"path":"api/articles/2022-07-01bug.json","keywords":null,"cover":[],"content":"<h2 id=\"é—®é¢˜\"><a href=\"#é—®é¢˜\" class=\"headerlink\" title=\"é—®é¢˜\"></a>é—®é¢˜</h2><p>Rendered more hooks than during the previous render.</p>\n<img src=\"http://t-blog-images.aijs.top/img/20220701111839.webp\" />\n\n<h2 id=\"è§£å†³\"><a href=\"#è§£å†³\" class=\"headerlink\" title=\"è§£å†³\"></a>è§£å†³</h2><img src=\"http://t-blog-images.aijs.top/img/20220701111740.webp\" />\n\n<p>ä¸¤ç§æ–¹å¼è§£å†³ï¼š</p>\n<ul>\n<li>å‹¾å­å‰ç½®</li>\n<li>ä¸ç”¨è¿™ä¸ªå‹¾å­</li>\n</ul>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p><strong>å‹¾å­ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨</strong> è¿™ä¸ªè¦æ³¨æ„å¹¶ä¸æ˜¯ä¸€å®šè¿™ç§å½¢å¼</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">if (æ¡ä»¶) &#123;\n  &#x2F;&#x2F; å¦‚æœæ¡ä»¶ç”¨äºæ˜¯trueï¼Œç›¸å½“äºæ²¡æœ‰å¤–å±‚çš„ifï¼Œ\n  å‹¾å­;\n&#125;</code></pre>\n\n<ul>\n<li>è¿™ä¸ªå‹¾å­æ”¾åœ¨äº† if çš„åé¢ æ¡ä»¶è¯­å¥å¦‚æœåœ¨ç¬¬ä¸€æ¬¡å‘½ä¸­çš„æ˜¯æå‰ç»“æŸï¼Œä¸‹æ¬¡æ¸²æŸ“æ²¡å‘½ä¸­ ifï¼Œèµ°äº†åé¢çš„ä»£ç å°±ä¼šå‡ºè¿™ä¸ªé—®é¢˜</li>\n<li>å¦‚æœæµ‹è¯•ä¸å…¨é¢ï¼Œè¿™ä¸ª bug å°±å¯èƒ½åˆ°çº¿ä¸Šäº†ï¼Œ å› ä¸ºä½ æµ‹è¯•çš„æœ‰å¯èƒ½æ¯æ¬¡å‘½ä¸­ if è€Œä¸ä¼šåˆ° elseï¼Œ<strong>ä¸‹é¢è¿™ç§æ¨¡å¼</strong>ä¸€ä¸æ³¨æ„å°±é”™äº†</li>\n</ul>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">if () &#123;\n  return æ¸²æŸ“\n&#125;\nå‹¾å­</code></pre>\n\n<h2 id=\"åŸå› \"><a href=\"#åŸå› \" class=\"headerlink\" title=\"åŸå› \"></a>åŸå› </h2><p>react æ”¶é›†å‹¾å­çš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯å‹¾å­æ•°é‡æ˜¯ä¸€è‡´çš„ï¼Œä¸å¤šä¸å°‘ï¼Œåˆšåˆšå¥½</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Hook æœ¬è´¨å°±æ˜¯ JavaScript å‡½æ•°ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨å®ƒæ—¶éœ€è¦éµå¾ªä¸¤æ¡è§„åˆ™ã€‚Reactå®˜æ–¹æä¾›äº†ä¸€ä¸ª <code>eslint-plugin-react-hooks</code> æ’ä»¶æ¥å¼ºåˆ¶æ‰§è¡Œè¿™äº›è§„åˆ™ï¼š</p></blockquote>\n<p>ç»­ã€‚ã€‚ã€‚æºç æ‰¾è¿™ä¸ªæ—¥å¿—</p>\n<h2 id=\"å‚è€ƒé“¾æ¥\"><a href=\"#å‚è€ƒé“¾æ¥\" class=\"headerlink\" title=\"å‚è€ƒé“¾æ¥\"></a>å‚è€ƒé“¾æ¥</h2><p><a href=\"https://zh-hans.reactjs.org/docs/hooks-rules.html#explanation\" target=\"_blank\" >Hook è§„åˆ™</a></p>\n","text":"é—®é¢˜Rendered more hooks than during the previous render. è§£å†³ ä¸¤ç§æ–¹å¼è§£å†³ï¼š å‹¾å­å‰ç½® ä¸ç”¨è¿™ä¸ªå‹¾å­ æ€»ç»“å‹¾å­ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ è¿™ä¸ªè¦æ³¨æ„å¹¶ä¸æ˜¯ä¸€å®šè¿™ç§å½¢å¼ if (æ¡ä»¶) &#123; &#x2F;&#x2F; å¦‚æœæ¡ä»¶...","link":"","photos":[],"count_time":{"symbolsCount":507,"symbolsTime":"1 mins."},"categories":[{"name":"bug","slug":"bug","count":4,"path":"api/categories/bug.json"}],"tags":[{"name":"React","slug":"React","count":7,"path":"api/tags/React.json"},{"name":"bug","slug":"bug","count":6,"path":"api/tags/bug.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">é—®é¢˜</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3\"><span class=\"toc-text\">è§£å†³</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">æ€»ç»“</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8E%9F%E5%9B%A0\"><span class=\"toc-text\">åŸå› </span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">å‚è€ƒé“¾æ¥</span></a></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"æˆæƒä¸æ ¡éªŒåœºæ™¯ã€Œç®€èŠã€","uid":"22d71efeaa5b73e832334cf42551f026","slug":"2022-07-01auth","date":"2022-07-01T09:12:26.000Z","updated":"2022-07-06T11:54:37.691Z","comments":true,"path":"api/articles/2022-07-01auth.json","keywords":null,"cover":null,"text":"æœ€ç®€å•ç”¨å˜é‡ï¼Œæ¨¡æ‹Ÿæ•°æ® session + cookieæ¯ä¸ªç”¨æˆ·å¯¹åº”ä¸€ä¸ªä¼šè¯ SSO 1 session + redis + cookie è§‰å¾—æœ‰ç‚¹å¥‡è‘©ï¼Œç¬¬äºŒä»½æ ¸å¿ƒé¡¹ç›®é‡åˆ° jwt + redisç¬¬äºŒä»½éæ ¸å¿ƒé¡¹ç›®é‡åˆ° ä»¥ä¸‹æ˜¯ä¸€èˆ¬å…¬å¸å¸¸ç”¨çš„æ–¹å¼ï¼Œé¢è¯•çš„æ—¶å€™ï¼Œå¤§å®¶éƒ½åœ¨å” è¿™ä¸ª SSO ...","link":"","photos":[],"count_time":{"symbolsCount":914,"symbolsTime":"1 mins."},"categories":[{"name":"auth","slug":"auth","count":1,"path":"api/categories/auth.json"}],"tags":[{"name":"auth","slug":"auth","count":1,"path":"api/tags/auth.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"react-native-webviewä¸­å¤„ç†å¤–ç½‘é“¾æ¥","uid":"da1169afdf41f1a24b458b57385fca2d","slug":"2022-06-29rn-web","date":"2022-06-29T09:11:44.000Z","updated":"2022-08-01T12:46:55.437Z","comments":true,"path":"api/articles/2022-06-29rn-web.json","keywords":null,"cover":[],"text":"èƒŒæ™¯ä¹‹å‰å…¬å¸ç§»åŠ¨ç«¯æ˜¯ä½¿ç”¨ vpn è¿æ¥åˆ°å†…ç½‘ï¼Œç”±äºæŸäº›åŸå› ï¼ŒIOS ä¼ä¸šè¯ä¹¦å³å°†åˆ°æœŸï¼Œåº”ç”¨éœ€è¦ä¸Šæ¶ï¼Œvpn ä¸æ»¡è¶³ä¸Šæ¶è¦æ±‚ï¼Œæ‰€ä»¥ï¼š vpn è¦ä» iOS åŒ…ä¸­ç§»é™¤ vpn ç§»é™¤å¯¼è‡´ä¸èƒ½ç›´æ¥è®¿é—®å†…ç½‘ éœ€è¦é€šè¿‡å¤–ç½‘åŸŸåè®¿é—®å†…ç½‘èµ„æº ä¸åŒç¯å¢ƒçš„è¯·æ±‚ åŸç”ŸåŠ RN ä»£ç ï¼Œæ¥å£è®¿é—®èµ° AT...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"react-native","slug":"react-native","count":2,"path":"api/categories/react-native.json"}],"tags":[{"name":"react-native","slug":"react-native","count":2,"path":"api/tags/react-native.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
{"title":"问题复盘","uid":"6a9933d3674afa3ae34e90758b20e9f5","slug":"2023-02-12problem","date":"2023-02-12T03:15:27.000Z","updated":"2023-02-20T21:20:56.493Z","comments":true,"path":"api/articles/2023-02-12problem.json","keywords":null,"cover":null,"content":"<h2 id=\"技术上\"><a href=\"#技术上\" class=\"headerlink\" title=\"技术上\"></a>技术上</h2><h3 id=\"优化上\"><a href=\"#优化上\" class=\"headerlink\" title=\"优化上\"></a>优化上</h3><ol>\n<li>包优化： wiki-ui 组件库拖慢业务项目的问题</li>\n<li>开发优化：webpack 在开发阶段，启动更新慢的问题，使用 vite 进行开发环境的替换，实现 vite 开发环境，webpack 生产环境</li>\n<li>发布更新：使用模块联邦解决微应用问题，实现业务拆分</li>\n<li>性能优化：immerjs 进行按需更新，实现拖拽排序卡顿的问题</li>\n<li>业务组件复用问题</li>\n<li>输入卡顿问题：<ol>\n<li>简单模式、</li>\n<li>看板模式、表格模式（表格的表头实现定制化拖拽排序、左右固定，上部分是表单、表头 sticky、表格配置项 sticky 效果）组件很复杂，<ol>\n<li>当时遇到一个问题是表格配置项被封装到了表格模式组件的内部，如何进行 sticky，熟悉 sticky 的都晓得为什么封装到内部不可以进行多级 sticky 的原因</li>\n<li>层级问题</li>\n<li>sticky 的 top 需要动态计算，并且要动态覆盖 table 样式的问题</li>\n</ol>\n</li>\n<li>看板模式<ol>\n<li>数据表头组合级联问题</li>\n<li>看板每列虚拟列表，列表子项 item 高度非固定</li>\n<li>虚拟列表加载问题</li>\n</ol>\n</li>\n<li>这里涉及到 ahooks 处理问题<ol>\n<li>ahooks 之前默认的 v2, 新版本默认 v3, 在不改变源代码的情况下，如何实现 ahooksv2 默认，v3 非默认的问题</li>\n<li>为什么会存在这个现象，v2，v3 不兼容，一些方法在 v3 中去除了</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>视图图表按需加载问题</li>\n<li>longTask 图表数据，放到 webworkers 中处理</li>\n<li>前端报表导出，放到 webworkers 中处理</li>\n</ol>\n<h3 id=\"提高研发效能\"><a href=\"#提高研发效能\" class=\"headerlink\" title=\"提高研发效能\"></a>提高研发效能</h3><ol>\n<li>傻瓜式写代码问题<ol>\n<li>redux reducer，实现自动装配</li>\n<li>代码片段的自动化生成</li>\n<li>swagger 自动化生成 service、type 类型</li>\n</ol>\n</li>\n<li>多语言方案<ol>\n<li>实现了一整套多语言方案，降低维护成本</li>\n<li>npm-cli 工具、基础平台搭建、利用一些插件进行可视化操作</li>\n</ol>\n</li>\n<li>结合公司发布平台，实现灰度发布</li>\n</ol>\n<h3 id=\"电脑空间不足\"><a href=\"#电脑空间不足\" class=\"headerlink\" title=\"电脑空间不足\"></a>电脑空间不足</h3><ol>\n<li>node_modules 过大问题，维护项目比较多，电脑空间占用极大，几乎每次剩余不到 20G 的空间</li>\n<li>电脑空间不足，使用 shell 命令一个命令清理掉所有项目的 node_modules</li>\n<li>使用 pnpm 代替 npm、和 yarn 解决磁盘占用极大的问题</li>\n<li>尤其是 8+256 存储空间，既要维护 RN 还要维护各种前端项目</li>\n</ol>\n<h3 id=\"react-native-webiew-安卓上返回无法正常监听到\"><a href=\"#react-native-webiew-安卓上返回无法正常监听到\" class=\"headerlink\" title=\"react-native-webiew 安卓上返回无法正常监听到\"></a>react-native-webiew 安卓上返回无法正常监听到</h3><ol>\n<li>问题解决，早些时候有 java 相关技术储备，大学也学过 android,敢于尝试，</li>\n<li>进行 android webview 相关资料查询和 react-native-webiew 原生部分源码的解读，</li>\n<li>发现 react-native-webiew 在安卓部分源码，少调用了一个 api，通过增加这个 api，在 demo 中解决这个问题</li>\n</ol>\n<h2 id=\"业务上\"><a href=\"#业务上\" class=\"headerlink\" title=\"业务上\"></a>业务上</h2><h3 id=\"计算复杂度\"><a href=\"#计算复杂度\" class=\"headerlink\" title=\"计算复杂度\"></a>计算复杂度</h3><ol>\n<li>需求：<ol>\n<li>用户有哪些权限，支持哪些组织架构级别的查询，则返回对应的结构</li>\n<li>实现类似于 antd select 多选和 antd tree 树多选的组合功能的公共业务组件的封装</li>\n</ol>\n</li>\n</ol>\n<p>这个地方涉及到树的路径去重问题，当时后端说解决不了，我说可以解决，放在前端处理好了</p>\n<ol>\n<li>同枝干不同级别的部门</li>\n<li>同一层级不同部门</li>\n<li>不同层级的不同部门</li>\n</ol>\n<h2 id=\"流程上\"><a href=\"#流程上\" class=\"headerlink\" title=\"流程上\"></a>流程上</h2><p>敏捷开发流程不够完善问题</p>\n<ol>\n<li>如何进行高效的交付<ol>\n<li>需求评审</li>\n<li>技术评审</li>\n<li>前后端数据的接口字段定义</li>\n<li>开发阶段每天早上站立会，及时暴露风险项</li>\n<li>交叉测试</li>\n<li>验收</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"多公司协作问题\"><a href=\"#多公司协作问题\" class=\"headerlink\" title=\"多公司协作问题\"></a>多公司协作问题</h2><ol>\n<li>当时遇到的问题是：公司有块业务是病例质检功能，这块功能是向已有的院内病例系统增加新的质检，目的是为了降低医患纠纷<ol>\n<li>涉及的公司有阿里巴巴飞天的质检引擎</li>\n<li>兄弟公司医疗公司的 C#开发工程师</li>\n<li>之前我所在的公司负责 html 的开发（暴露病例存在问题的项目）和与病例系统的对接工作</li>\n<li>对方院内病例系统工程师要和我们对接前端还要与阿里的对接病例质检结果落库操作</li>\n<li>当时遇到的问题是有些院内病例系统使用 PB 开发、有 C#开发、有 web 开发的</li>\n<li>我在对接的过程中，通过对相关 demo 的本地模拟，熟练掌握，解决对接过程中的一系列问题（<ol>\n<li>对接方案不成熟 当时主要是前端对接，C#提供的动态库，后面改成数据库视图</li>\n<li>对接过程中加载顺序问题的排查，向兄弟公司工程师暴露问题所在，进行修改）</li>\n<li>对接方不积极</li>\n<li>当时遇到个新疆那边难缠的病例系统非技术现场实施，我跟她聊了半个多小时，不懂，最后我给公司老板讲解，公司老板远程视频，画白版给对方讲解，对方才去沟通</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n","text":"技术上优化上 包优化： wiki-ui 组件库拖慢业务项目的问题 开发优化：webpack 在开发阶段，启动更新慢的问题，使用 vite 进行开发环境的替换，实现 vite 开发环境，webpack 生产环境 发布更新：使用模块联邦解决微应用问题，实现业务拆分 性能优化：imme...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"复盘","slug":"复盘","count":7,"path":"api/categories/复盘.json"}],"tags":[{"name":"复盘","slug":"复盘","count":7,"path":"api/tags/复盘.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8A%80%E6%9C%AF%E4%B8%8A\"><span class=\"toc-text\">技术上</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BC%98%E5%8C%96%E4%B8%8A\"><span class=\"toc-text\">优化上</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8F%90%E9%AB%98%E7%A0%94%E5%8F%91%E6%95%88%E8%83%BD\"><span class=\"toc-text\">提高研发效能</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%94%B5%E8%84%91%E7%A9%BA%E9%97%B4%E4%B8%8D%E8%B6%B3\"><span class=\"toc-text\">电脑空间不足</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#react-native-webiew-%E5%AE%89%E5%8D%93%E4%B8%8A%E8%BF%94%E5%9B%9E%E6%97%A0%E6%B3%95%E6%AD%A3%E5%B8%B8%E7%9B%91%E5%90%AC%E5%88%B0\"><span class=\"toc-text\">react-native-webiew 安卓上返回无法正常监听到</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%9A%E5%8A%A1%E4%B8%8A\"><span class=\"toc-text\">业务上</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%A1%E7%AE%97%E5%A4%8D%E6%9D%82%E5%BA%A6\"><span class=\"toc-text\">计算复杂度</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B5%81%E7%A8%8B%E4%B8%8A\"><span class=\"toc-text\">流程上</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E5%85%AC%E5%8F%B8%E5%8D%8F%E4%BD%9C%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">多公司协作问题</span></a></li></ol>","author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>自律，为了更好的自己</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Web performance","uid":"e2a10815e593824fa56e5bdca444887f","slug":"2023-02-12Web_Performance","date":"2023-02-12T13:59:56.000Z","updated":"2023-02-20T21:20:56.492Z","comments":true,"path":"api/articles/2023-02-12Web_Performance.json","keywords":null,"cover":[],"text":"Web_PerformanceWeb 性能 Animation performance and frame rateAnimation performance and frame rate 对于动画媒体 文件动画： 例如视频和动画 gif，主要的性能问题是文件大小——下载文件的速...","link":"","photos":[],"count_time":{"symbolsCount":"5.6k","symbolsTime":"5 mins."},"categories":[{"name":"性能优化","slug":"性能优化","count":9,"path":"api/categories/性能优化.json"}],"tags":[{"name":"性能优化","slug":"性能优化","count":9,"path":"api/tags/性能优化.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>自律，为了更好的自己</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"mouse action","uid":"99dafe6a56f2f503a228c70a977846b0","slug":"2023-02-12mouse","date":"2023-02-12T02:08:53.000Z","updated":"2023-02-20T21:20:56.492Z","comments":true,"path":"api/articles/2023-02-12mouse.json","keywords":null,"cover":null,"text":"activeElement见 Document：selectionchange 事件见 DocumentOrShadowRoot.getSelection()见 ","link":"","photos":[],"count_time":{"symbolsCount":81,"symbolsTime":"1 mins."},"categories":[{"name":"前端基础","slug":"前端基础","count":54,"path":"api/categories/前端基础.json"}],"tags":[{"name":"前端基础","slug":"前端基础","count":56,"path":"api/tags/前端基础.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>自律，为了更好的自己</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
{"title":"ts代码段调试","uid":"3ba10f79d449e988902f7328033fb9f2","slug":"2023-02-28ts","date":"2023-02-28T06:36:23.000Z","updated":"2023-02-28T12:42:55.930Z","comments":true,"path":"api/articles/2023-02-28ts.json","keywords":null,"cover":[],"content":"<h2 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h2><p>项目中使用 typesscript 进行开发，运行的时候是编译后的 js 脚本，有时候在项目，需要封装复杂的业务处理函数。</p>\n<h2 id=\"最开始的方法\"><a href=\"#最开始的方法\" class=\"headerlink\" title=\"最开始的方法\"></a>最开始的方法</h2><ol>\n<li>先将代码在项目中编写</li>\n<li>出问题了，项目中不方便调试</li>\n<li>改为 js 代码，删除类型</li>\n<li>调试完毕后，增加类型</li>\n<li>复制到项目中</li>\n</ol>\n<h2 id=\"后来参考-pont-写了-require-ts\"><a href=\"#后来参考-pont-写了-require-ts\" class=\"headerlink\" title=\"后来参考 pont,写了 require-ts\"></a>后来参考 pont,写了 require-ts</h2><p>require-ts 项目丢了</p>\n<p><strong>原理：</strong></p>\n<ol>\n<li>将 ts 代码进行运行时编译成 js 文件，写到内存中</li>\n<li>在其他文件中引用</li>\n<li>删除 ts 编译后的.js 文件</li>\n</ol>\n<img src=\"http://t-blog-images.aijs.top/img/202209021409257.webp\" style=\"width:800px;max-width:100%\" />\n\n<h2 id=\"现在-这个好啊\"><a href=\"#现在-这个好啊\" class=\"headerlink\" title=\"现在(这个好啊)\"></a>现在(这个好啊)</h2><ol>\n<li>写了了限制并发的 ts 代码，想测试下，如何运行？</li>\n<li>搜了下直接运行.ts 文件，发现可以用 ts-node 来运行</li>\n<li><code>ts-node xx.ts</code>报错<code>error TS2304: Cannot find name &#39;setTimeout&#39;</code> <a href=\"https://code.dblock.org/2019/07/04/getting-started-with-typescript.html\" target=\"_blank\" >error TS2304: Cannot find name ‘setTimeout’</a></li>\n<li>需要简单的配置<code>tsconfig.json</code>， 配置过程中，发现这个文件是 jsonc 格式的文件</li>\n</ol>\n<img src=\"http://t-blog-images.aijs.top/img/202302281444451.webp\" />\n\n<h2 id=\"tsconfig-json-简单配置\"><a href=\"#tsconfig-json-简单配置\" class=\"headerlink\" title=\"tsconfig.json 简单配置\"></a>tsconfig.json 简单配置</h2><pre class=\"line-numbers language-jsonc\" data-language=\"jsonc\"><code class=\"language-jsonc\">&#123;\n  &quot;compilerOptions&quot;: &#123;\n    &quot;lib&quot;: [&quot;es6&quot;, &quot;dom&quot;]\n  &#125;\n&#125;</code></pre>\n\n<h2 id=\"为什么要配置代码片段\"><a href=\"#为什么要配置代码片段\" class=\"headerlink\" title=\"为什么要配置代码片段\"></a>为什么要配置代码片段</h2><p>为了下次使用方便，以后记住缩写，就可以<code>happy code</code></p>\n<h2 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h2><p><a href=\"https://code.dblock.org/2019/07/04/getting-started-with-typescript.html\" target=\"_blank\" >error TS2304: Cannot find name ‘setTimeout’</a></p>\n","text":"背景项目中使用 typesscript 进行开发，运行的时候是编译后的 js 脚本，有时候在项目，需要封装复杂的业务处理函数。 最开始的方法 先将代码在项目中编写 出问题了，项目中不方便调试 改为 js 代码，删除类型 调试完毕后，增加类型 复制到项目中 后来参考 pont,写了...","link":"","photos":[],"count_time":{"symbolsCount":683,"symbolsTime":"1 mins."},"categories":[{"name":"TypeScript","slug":"TypeScript","count":13,"path":"api/categories/TypeScript.json"}],"tags":[{"name":"TypeScript","slug":"TypeScript","count":14,"path":"api/tags/TypeScript.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">背景</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9C%80%E5%BC%80%E5%A7%8B%E7%9A%84%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">最开始的方法</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%8E%E6%9D%A5%E5%8F%82%E8%80%83-pont-%E5%86%99%E4%BA%86-require-ts\"><span class=\"toc-text\">后来参考 pont,写了 require-ts</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%8E%B0%E5%9C%A8-%E8%BF%99%E4%B8%AA%E5%A5%BD%E5%95%8A\"><span class=\"toc-text\">现在(这个好啊)</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#tsconfig-json-%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">tsconfig.json 简单配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5\"><span class=\"toc-text\">为什么要配置代码片段</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">参考链接</span></a></li></ol>","author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Object","uid":"1ff3c92d43d399f4cad1a3cbd62d0b1a","slug":"2023-02-28object","date":"2023-02-28T13:10:33.000Z","updated":"2023-02-28T15:51:50.356Z","comments":true,"path":"api/articles/2023-02-28object.json","keywords":null,"cover":null,"text":"Object.assign() 方法将所有可枚举（Object.propertyIsEnumerable() 返回 true）的自有（Object.hasOwnProperty() 返回 true）属性从一个或多个源对象复制到目标对象，返回修改后的对象 特点 复制对象 浅拷贝 合...","link":"","photos":[],"count_time":{"symbolsCount":"4.3k","symbolsTime":"4 mins."},"categories":[{"name":"前端基础","slug":"前端基础","count":54,"path":"api/categories/前端基础.json"}],"tags":[{"name":"前端基础","slug":"前端基础","count":56,"path":"api/tags/前端基础.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"ant DatePicker","uid":"cd788e373bbe9a88ec776d20b310ec2f","slug":"2023-02-28datepicker","date":"2023-02-28T03:01:54.000Z","updated":"2023-02-28T12:42:55.929Z","comments":true,"path":"api/articles/2023-02-28datepicker.json","keywords":null,"cover":null,"text":"问题 这里首次使用 datepicker 的时候， 获取到时间含有十分秒： v = 1676429917 非第一次操作正常 这里修改方案，将 const _v: number = e?.startOf(&quot;d&quot;).valueOf() || 0; const on...","link":"","photos":[],"count_time":{"symbolsCount":668,"symbolsTime":"1 mins."},"categories":[{"name":"Bug","slug":"Bug","count":2,"path":"api/categories/Bug.json"}],"tags":[{"name":"Bug","slug":"Bug","count":2,"path":"api/tags/Bug.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
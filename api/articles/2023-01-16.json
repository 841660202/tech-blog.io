{"title":"优化操作","uid":"b3498ee5a2b2f029db82dac3e1ffd29e","slug":"2023-01-16","date":"2023-01-16T02:52:47.000Z","updated":"2023-02-20T21:20:56.484Z","comments":true,"path":"api/articles/2023-01-16.json","keywords":null,"cover":null,"content":"<h2 id=\"连续点击触发事件\"><a href=\"#连续点击触发事件\" class=\"headerlink\" title=\"连续点击触发事件\"></a>连续点击触发事件</h2><pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">interface IUseSkipTimesToTriggerOptions &#123;\n  &#x2F;**该时间间隔内点击才算连续点击（单位：ms） *&#x2F;\n  waitTime: number;\n  &#x2F;**最大连续点击次数*&#x2F;\n  maxNum: number;\n&#125;\n\nexport function useSkipTimesToTrigger(\n  fn: () &#x3D;&gt; void,\n  options: IUseSkipTimesToTriggerOptions &#x3D; &#123;\n    waitTime: 500,\n    maxNum: 5,\n  &#125;\n) &#123;\n  let timer: NodeJS.Timeout | null &#x3D; null;\n  &#x2F;&#x2F; 连续点击次数\n  let num &#x3D; 0;\n  &#x2F;&#x2F; 上次的点击时间\n  let lastTime &#x3D; new Date().getTime();\n\n  return () &#x3D;&gt; &#123;\n    const &#123; waitTime, maxNum &#125; &#x3D; options;\n    const nowTime &#x3D; new Date().getTime();\n\n    if (nowTime - lastTime &lt; waitTime) &#123;\n      num++;\n    &#125; else &#123;\n      num &#x3D; 0;\n    &#125;\n\n    lastTime &#x3D; nowTime;\n\n    if (num &gt;&#x3D; maxNum) &#123;\n      timer &amp;&amp; clearTimeout(timer);\n      timer &#x3D; setTimeout(() &#x3D;&gt; &#123;\n        fn?.();\n        num &#x3D; 0;\n      &#125;, 0);\n    &#125;\n  &#125;;\n&#125;</code></pre>\n\n<h2 id=\"延迟-loading\"><a href=\"#延迟-loading\" class=\"headerlink\" title=\"延迟 loading\"></a>延迟 loading</h2><p>请求事件发出后</p>\n<ul>\n<li>1 秒内收到响应，不展示 loading</li>\n<li>超 1 秒收到响应，展示 loading</li>\n</ul>\n<h2 id=\"缓存数据\"><a href=\"#缓存数据\" class=\"headerlink\" title=\"缓存数据\"></a>缓存数据</h2><p>1 秒内重复发起请求，走缓存，缓存失效走接口</p>\n<h2 id=\"自动装配-useReducer\"><a href=\"#自动装配-useReducer\" class=\"headerlink\" title=\"自动装配 useReducer\"></a>自动装配 useReducer</h2><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2>","text":"连续点击触发事件interface IUseSkipTimesToTriggerOptions &#123; &#x2F;**该时间间隔内点击才算连续点击（单位：ms） *&#x2F; waitTime: number; &#x2F;**最大连续点击次数*&#x2F; maxNu...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"特殊需求","slug":"特殊需求","count":1,"path":"api/categories/特殊需求.json"}],"tags":[{"name":"特殊需求","slug":"特殊需求","count":1,"path":"api/tags/特殊需求.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%9E%E7%BB%AD%E7%82%B9%E5%87%BB%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6\"><span class=\"toc-text\">连续点击触发事件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BB%B6%E8%BF%9F-loading\"><span class=\"toc-text\">延迟 loading</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BC%93%E5%AD%98%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">缓存数据</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D-useReducer\"><span class=\"toc-text\">自动装配 useReducer</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\"></span></a></li></ol>","author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"绩效面谈","uid":"0c263a6ceabee21392cfc48173688588","slug":"2023-01-16绩效","date":"2023-01-16T14:11:26.000Z","updated":"2023-02-20T21:20:56.484Z","comments":true,"path":"api/articles/2023-01-16绩效.json","keywords":null,"cover":"http://t-blog-images.aijs.top/img/202301171732450.webp","text":"回顾绩效面谈领导说要和我聊下绩效，我当时正在写代码，直到绩效面谈完，我还陶醉在代码中，对此我觉得需要做复盘，平时做的再好，绩效面谈，谈不好，这是对自己一年来付出的否定，我觉得有愧于心 绩效面谈该如何谈，谈些什么？ 谈工作业绩 谈行为表现 谈改进措施 谈新的目标 谈自己需求 此次面...","link":"","photos":[],"count_time":{"symbolsCount":161,"symbolsTime":"1 mins."},"categories":[{"name":"复盘","slug":"复盘","count":7,"path":"api/categories/复盘.json"}],"tags":[{"name":"复盘","slug":"复盘","count":7,"path":"api/tags/复盘.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"vscode terminal 闪退","uid":"add62f7c2ac2bd1e3e86c3111f29bf73","slug":"2023-01-15vscode-terminal","date":"2023-01-15T10:53:15.000Z","updated":"2023-02-20T21:20:56.483Z","comments":true,"path":"api/articles/2023-01-15vscode-terminal.json","keywords":null,"cover":"https://www.ymama.net/config/ueditor/php/upload/image/20200827/1598515434460503.png","text":"背景vscode 用着用着，突然闪退了，重启 vscode 后，发现 terminal 闪退，无法正常使用 遇到过两次了，几个月前处理过一次，现在又来了，记录下 闪退现象 处理措施 处理后结果 问题原因应该由于某些原因，vscode 闪退，电脑配置被自动更改了 参考链接见 ","link":"","photos":[],"count_time":{"symbolsCount":140,"symbolsTime":"1 mins."},"categories":[{"name":"vscode","slug":"vscode","count":8,"path":"api/categories/vscode.json"}],"tags":[{"name":"vscode","slug":"vscode","count":11,"path":"api/tags/vscode.json"}],"author":{"name":"十三","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/202303171118970.webp","link":"/","description":"<div><p>多学一点，多想一点，多做一点</p><p>眼中有光，心中有梦，脚下有路</p><div>","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}
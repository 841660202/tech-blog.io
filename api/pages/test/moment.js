{"title":"","uid":"1cd19fc71517798e2fa5b7457d1fb06e","text":"const disableEnddate = (current, userDate, _this) => { if ( userDate.startDate || _this.interValEndDate.minendDate || _this.interValStartDat...","date":"2022-11-15T12:37:03.049Z","updated":"2022-11-15T12:37:03.049Z","comments":true,"path":"api/pages/test/moment.js","covers":null,"excerpt":"","content":"const disableEnddate = (current, userDate, _this) => {\n  if (\n    userDate.startDate ||\n    _this.interValEndDate.minendDate ||\n    _this.interValStartDate.maxstartDate\n  ) {\n    return (\n      // 系统时间加1天？\n      current &&\n      (current < moment(_this.sysdate).add(1, \"day\") ||\n        // 当前用户授权开始时间\n        current < moment(userDate.startDate).add(1, \"day\") ||\n        // 大于最早\n        current < moment(_this.interValStartDate.maxstartDate).add(1, \"day\") ||\n        // 小于最晚\n        current > moment(_this.interValEndDate.minendDate).add(1, \"day\"))\n    );\n  }\n};\n\nconst _this = {\n  interValEndDate: {\n    minendDate: \"2022-08-26\",\n  },\n  interValStartDate: {\n    maxstartDate: \"2022-07-26\",\n  },\n  sysdate: moment(),\n};\n\nconst userDate = {\n  startDate: \"2022-07-16\",\n};\n\n// 生效日 < 到期日 <= 被授权人的到期日\ndisableEnddate(moment(), userDate, _this);\n","count_time":{"symbolsCount":585,"symbolsTime":"1 mins."},"toc":""}